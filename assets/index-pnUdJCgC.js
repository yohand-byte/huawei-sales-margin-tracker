(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(c){if(c.ep)return;c.ep=!0;const h=l(c);fetch(c.href,h)}})();var ec={exports:{}},Ds={};var xm;function Wy(){if(xm)return Ds;xm=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(r,c,h){var d=null;if(h!==void 0&&(d=""+h),c.key!==void 0&&(d=""+c.key),"key"in c){h={};for(var m in c)m!=="key"&&(h[m]=c[m])}else h=c;return c=h.ref,{$$typeof:s,type:r,key:d,ref:c!==void 0?c:null,props:h}}return Ds.Fragment=a,Ds.jsx=l,Ds.jsxs=l,Ds}var Cm;function Fy(){return Cm||(Cm=1,ec.exports=Wy()),ec.exports}var _=Fy(),tc={exports:{}},zs={},nc={exports:{}},ac={};var Nm;function ev(){return Nm||(Nm=1,(function(s){function a(k,Y){var ne=k.length;k.push(Y);e:for(;0<ne;){var Ae=ne-1>>>1,re=k[Ae];if(0<c(re,Y))k[Ae]=Y,k[ne]=re,ne=Ae;else break e}}function l(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var Y=k[0],ne=k.pop();if(ne!==Y){k[0]=ne;e:for(var Ae=0,re=k.length,E=re>>>1;Ae<E;){var z=2*(Ae+1)-1,Q=k[z],X=z+1,ue=k[X];if(0>c(Q,ne))X<re&&0>c(ue,Q)?(k[Ae]=ue,k[X]=ne,Ae=X):(k[Ae]=Q,k[z]=ne,Ae=z);else if(X<re&&0>c(ue,ne))k[Ae]=ue,k[X]=ne,Ae=X;else break e}}return Y}function c(k,Y){var ne=k.sortIndex-Y.sortIndex;return ne!==0?ne:k.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var y=[],g=[],S=1,A=null,R=3,C=!1,q=!1,$=!1,G=!1,V=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Z(k){for(var Y=l(g);Y!==null;){if(Y.callback===null)r(g);else if(Y.startTime<=k)r(g),Y.sortIndex=Y.expirationTime,a(y,Y);else break;Y=l(g)}}function Te(k){if($=!1,Z(k),!q)if(l(y)!==null)q=!0,he||(he=!0,ze());else{var Y=l(g);Y!==null&&Nt(Te,Y.startTime-k)}}var he=!1,W=-1,$e=5,Ge=-1;function zn(){return G?!0:!(s.unstable_now()-Ge<$e)}function ee(){if(G=!1,he){var k=s.unstable_now();Ge=k;var Y=!0;try{e:{q=!1,$&&($=!1,K(W),W=-1),C=!0;var ne=R;try{t:{for(Z(k),A=l(y);A!==null&&!(A.expirationTime>k&&zn());){var Ae=A.callback;if(typeof Ae=="function"){A.callback=null,R=A.priorityLevel;var re=Ae(A.expirationTime<=k);if(k=s.unstable_now(),typeof re=="function"){A.callback=re,Z(k),Y=!0;break t}A===l(y)&&r(y),Z(k)}else r(y);A=l(y)}if(A!==null)Y=!0;else{var E=l(g);E!==null&&Nt(Te,E.startTime-k),Y=!1}}break e}finally{A=null,R=ne,C=!1}Y=void 0}}finally{Y?ze():he=!1}}}var ze;if(typeof L=="function")ze=function(){L(ee)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,yt=Wt.port2;Wt.port1.onmessage=ee,ze=function(){yt.postMessage(null)}}else ze=function(){V(ee,0)};function Nt(k,Y){W=V(function(){k(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$e=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(k){switch(R){case 1:case 2:case 3:var Y=3;break;default:Y=R}var ne=R;R=Y;try{return k()}finally{R=ne}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ne=R;R=k;try{return Y()}finally{R=ne}},s.unstable_scheduleCallback=function(k,Y,ne){var Ae=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ae+ne:Ae):ne=Ae,k){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ne+re,k={id:S++,callback:Y,priorityLevel:k,startTime:ne,expirationTime:re,sortIndex:-1},ne>Ae?(k.sortIndex=ne,a(g,k),l(y)===null&&k===l(g)&&($?(K(W),W=-1):$=!0,Nt(Te,ne-Ae))):(k.sortIndex=re,a(y,k),q||C||(q=!0,he||(he=!0,ze()))),k},s.unstable_shouldYield=zn,s.unstable_wrapCallback=function(k){var Y=R;return function(){var ne=R;R=Y;try{return k.apply(this,arguments)}finally{R=ne}}}})(ac)),ac}var Um;function tv(){return Um||(Um=1,nc.exports=ev()),nc.exports}var ic={exports:{}},oe={};var km;function nv(){if(km)return oe;km=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=R&&E[R]||E["@@iterator"],typeof E=="function"?E:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,G={};function V(E,z,Q){this.props=E,this.context=z,this.refs=G,this.updater=Q||q}V.prototype.isReactComponent={},V.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},V.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function K(){}K.prototype=V.prototype;function L(E,z,Q){this.props=E,this.context=z,this.refs=G,this.updater=Q||q}var Z=L.prototype=new K;Z.constructor=L,$(Z,V.prototype),Z.isPureReactComponent=!0;var Te=Array.isArray;function he(){}var W={H:null,A:null,T:null,S:null},$e=Object.prototype.hasOwnProperty;function Ge(E,z,Q){var X=Q.ref;return{$$typeof:s,type:E,key:z,ref:X!==void 0?X:null,props:Q}}function zn(E,z){return Ge(E.type,z,E.props)}function ee(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function ze(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return z[Q]})}var Wt=/\/+/g;function yt(E,z){return typeof E=="object"&&E!==null&&E.key!=null?ze(""+E.key):z.toString(36)}function Nt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(he,he):(E.status="pending",E.then(function(z){E.status==="pending"&&(E.status="fulfilled",E.value=z)},function(z){E.status==="pending"&&(E.status="rejected",E.reason=z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function k(E,z,Q,X,ue){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var pe=!1;if(E===null)pe=!0;else switch(de){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(E.$$typeof){case s:case a:pe=!0;break;case S:return pe=E._init,k(pe(E._payload),z,Q,X,ue)}}if(pe)return ue=ue(E),pe=X===""?"."+yt(E,0):X,Te(ue)?(Q="",pe!=null&&(Q=pe.replace(Wt,"$&/")+"/"),k(ue,z,Q,"",function(Mn){return Mn})):ue!=null&&(ee(ue)&&(ue=zn(ue,Q+(ue.key==null||E&&E.key===ue.key?"":(""+ue.key).replace(Wt,"$&/")+"/")+pe)),z.push(ue)),1;pe=0;var Ne=X===""?".":X+":";if(Te(E))for(var _e=0;_e<E.length;_e++)X=E[_e],de=Ne+yt(X,_e),pe+=k(X,z,Q,de,ue);else if(_e=C(E),typeof _e=="function")for(E=_e.call(E),_e=0;!(X=E.next()).done;)X=X.value,de=Ne+yt(X,_e++),pe+=k(X,z,Q,de,ue);else if(de==="object"){if(typeof E.then=="function")return k(Nt(E),z,Q,X,ue);throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Y(E,z,Q){if(E==null)return E;var X=[],ue=0;return k(E,X,"","",function(de){return z.call(Q,de,ue++)}),X}function ne(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var Ae=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},re={map:Y,forEach:function(E,z,Q){Y(E,function(){z.apply(this,arguments)},Q)},count:function(E){var z=0;return Y(E,function(){z++}),z},toArray:function(E){return Y(E,function(z){return z})||[]},only:function(E){if(!ee(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return oe.Activity=A,oe.Children=re,oe.Component=V,oe.Fragment=l,oe.Profiler=c,oe.PureComponent=L,oe.StrictMode=r,oe.Suspense=y,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,oe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return W.H.useMemoCache(E)}},oe.cache=function(E){return function(){return E.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(E,z,Q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var X=$({},E.props),ue=E.key;if(z!=null)for(de in z.key!==void 0&&(ue=""+z.key),z)!$e.call(z,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&z.ref===void 0||(X[de]=z[de]);var de=arguments.length-2;if(de===1)X.children=Q;else if(1<de){for(var pe=Array(de),Ne=0;Ne<de;Ne++)pe[Ne]=arguments[Ne+2];X.children=pe}return Ge(E.type,ue,X)},oe.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:h,_context:E},E},oe.createElement=function(E,z,Q){var X,ue={},de=null;if(z!=null)for(X in z.key!==void 0&&(de=""+z.key),z)$e.call(z,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ue[X]=z[X]);var pe=arguments.length-2;if(pe===1)ue.children=Q;else if(1<pe){for(var Ne=Array(pe),_e=0;_e<pe;_e++)Ne[_e]=arguments[_e+2];ue.children=Ne}if(E&&E.defaultProps)for(X in pe=E.defaultProps,pe)ue[X]===void 0&&(ue[X]=pe[X]);return Ge(E,de,ue)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(E){return{$$typeof:m,render:E}},oe.isValidElement=ee,oe.lazy=function(E){return{$$typeof:S,_payload:{_status:-1,_result:E},_init:ne}},oe.memo=function(E,z){return{$$typeof:g,type:E,compare:z===void 0?null:z}},oe.startTransition=function(E){var z=W.T,Q={};W.T=Q;try{var X=E(),ue=W.S;ue!==null&&ue(Q,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(he,Ae)}catch(de){Ae(de)}finally{z!==null&&Q.types!==null&&(z.types=Q.types),W.T=z}},oe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},oe.use=function(E){return W.H.use(E)},oe.useActionState=function(E,z,Q){return W.H.useActionState(E,z,Q)},oe.useCallback=function(E,z){return W.H.useCallback(E,z)},oe.useContext=function(E){return W.H.useContext(E)},oe.useDebugValue=function(){},oe.useDeferredValue=function(E,z){return W.H.useDeferredValue(E,z)},oe.useEffect=function(E,z){return W.H.useEffect(E,z)},oe.useEffectEvent=function(E){return W.H.useEffectEvent(E)},oe.useId=function(){return W.H.useId()},oe.useImperativeHandle=function(E,z,Q){return W.H.useImperativeHandle(E,z,Q)},oe.useInsertionEffect=function(E,z){return W.H.useInsertionEffect(E,z)},oe.useLayoutEffect=function(E,z){return W.H.useLayoutEffect(E,z)},oe.useMemo=function(E,z){return W.H.useMemo(E,z)},oe.useOptimistic=function(E,z){return W.H.useOptimistic(E,z)},oe.useReducer=function(E,z,Q){return W.H.useReducer(E,z,Q)},oe.useRef=function(E){return W.H.useRef(E)},oe.useState=function(E){return W.H.useState(E)},oe.useSyncExternalStore=function(E,z,Q){return W.H.useSyncExternalStore(E,z,Q)},oe.useTransition=function(){return W.H.useTransition()},oe.version="19.2.4",oe}var Dm;function Cc(){return Dm||(Dm=1,ic.exports=nv()),ic.exports}var sc={exports:{}},gt={};var zm;function av(){if(zm)return gt;zm=1;var s=Cc();function a(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(y,g,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:y,containerInfo:g,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gt.createPortal=function(y,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return h(y,g,null,S)},gt.flushSync=function(y){var g=d.T,S=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=g,r.p=S,r.d.f()}},gt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},gt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},gt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var S=g.as,A=m(S,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:C}):S==="script"&&r.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},gt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,A=m(S,g.crossOrigin);r.d.L(y,S,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(y,g){if(typeof y=="string")if(g){var S=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},gt.requestFormReset=function(y){r.d.r(y)},gt.unstable_batchedUpdates=function(y,g){return y(g)},gt.useFormState=function(y,g,S){return d.H.useFormState(y,g,S)},gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},gt.version="19.2.4",gt}var Mm;function iv(){if(Mm)return sc.exports;Mm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),sc.exports=av(),sc.exports}var qm;function sv(){if(qm)return zs;qm=1;var s=tv(),a=Cc(),l=iv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){n=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return y(u),e;if(o===i)return y(u),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=u,i=o;else{for(var f=!1,p=u.child;p;){if(p===n){f=!0,n=u,i=o;break}if(p===i){f=!0,i=u,n=o;break}p=p.sibling}if(!f){for(p=o.child;p;){if(p===n){f=!0,n=o,i=u;break}if(p===i){f=!0,i=o,n=u;break}p=p.sibling}if(!f)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),Ge=Symbol.for("react.activity"),zn=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var Wt=Symbol.for("react.client.reference");function yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Wt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case V:return"Profiler";case G:return"StrictMode";case Te:return"Suspense";case he:return"SuspenseList";case Ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case L:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:yt(e.type)||"Memo";case $e:t=e._payload,e=e._init;try{return yt(e(t))}catch{}}return null}var Nt=Array.isArray,k=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ae=[],re=-1;function E(e){return{current:e}}function z(e){0>re||(e.current=Ae[re],Ae[re]=null,re--)}function Q(e,t){re++,Ae[re]=e.current,e.current=t}var X=E(null),ue=E(null),de=E(null),pe=E(null);function Ne(e,t){switch(Q(de,t),Q(ue,e),Q(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wd(t),e=Fd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(X),Q(X,e)}function _e(){z(X),z(ue),z(de)}function Mn(e){e.memoizedState!==null&&Q(pe,e);var t=X.current,n=Fd(t,e.type);t!==n&&(Q(ue,e),Q(X,n))}function ha(e){ue.current===e&&(z(X),z(ue)),pe.current===e&&(z(pe),Cs._currentValue=ne)}var fn,Li;function Ut(e){if(fn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fn=t&&t[1]||"",Li=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fn+e+Li}var ln=!1;function vt(e,t){if(!e||ln)return"";ln=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(U){var x=U}Reflect.construct(e,[],B)}else{try{B.call()}catch(U){x=U}e.call(B.prototype)}}else{try{throw Error()}catch(U){x=U}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(U){if(U&&x&&typeof U.stack=="string")return[U.stack,x.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),f=o[0],p=o[1];if(f&&p){var b=f.split(`
`),j=p.split(`
`);for(u=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;if(i===b.length||u===j.length)for(i=b.length-1,u=j.length-1;1<=i&&0<=u&&b[i]!==j[u];)u--;for(;1<=i&&0<=u;i--,u--)if(b[i]!==j[u]){if(i!==1||u!==1)do if(i--,u--,0>u||b[i]!==j[u]){var D=`
`+b[i].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=i&&0<=u);break}}}finally{ln=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ut(n):""}function wt(e,t){switch(e.tag){case 26:case 27:case 5:return Ut(e.type);case 16:return Ut("Lazy");case 13:return e.child!==t&&t!==null?Ut("Suspense Fallback"):Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return vt(e.type,!1);case 11:return vt(e.type.render,!1);case 1:return vt(e.type,!0);case 31:return Ut("Activity");default:return""}}function el(e){try{var t="",n=null;do t+=wt(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Hi=Object.prototype.hasOwnProperty,$i=s.unstable_scheduleCallback,Ba=s.unstable_cancelCallback,Mr=s.unstable_shouldYield,tl=s.unstable_requestPaint,_t=s.unstable_now,qr=s.unstable_getCurrentPriorityLevel,nl=s.unstable_ImmediatePriority,al=s.unstable_UserBlockingPriority,La=s.unstable_NormalPriority,Br=s.unstable_LowPriority,Gi=s.unstable_IdlePriority,Lr=s.log,Hr=s.unstable_setDisableYieldValue,fa=null,bt=null;function rn(e){if(typeof Lr=="function"&&Hr(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(fa,e)}catch{}}var v=Math.clz32?Math.clz32:le,N=Math.log,H=Math.LN2;function le(e){return e>>>=0,e===0?32:31-(N(e)/H|0)|0}var Me=256,P=262144,ge=4194304;function qe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pt(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var p=i&134217727;return p!==0?(i=p&~o,i!==0?u=qe(i):(f&=p,f!==0?u=qe(f):n||(n=p&~e,n!==0&&(u=qe(n))))):(p=i&~o,p!==0?u=qe(p):f!==0?u=qe(f):n||(n=i&~e,n!==0&&(u=qe(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function qn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function il(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vi(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function $r(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ki(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hp(e,t,n,i,u,o){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var p=e.entanglements,b=e.expirationTimes,j=e.hiddenUpdates;for(n=f&~n;0<n;){var D=31-v(n),B=1<<D;p[D]=0,b[D]=-1;var x=j[D];if(x!==null)for(j[D]=null,D=0;D<x.length;D++){var U=x[D];U!==null&&(U.lane&=-536870913)}n&=~B}i!==0&&kc(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function kc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-v(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Dc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-v(n),u=1<<i;u&t|e[i]&t&&(e[i]|=t),n&=~u}}function zc(e,t){var n=t&-t;return n=(n&42)!==0?1:Gr(n),(n&(e.suspendedLanes|t))!==0?0:n}function Gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:wm(e.type))}function qc(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var Bn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Bn,Et="__reactProps$"+Bn,Ha="__reactContainer$"+Bn,Kr="__reactEvents$"+Bn,$p="__reactListeners$"+Bn,Gp="__reactHandles$"+Bn,Bc="__reactResources$"+Bn,Yi="__reactMarker$"+Bn;function Yr(e){delete e[ut],delete e[Et],delete e[Kr],delete e[$p],delete e[Gp]}function $a(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ha]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lm(e);e!==null;){if(n=e[ut])return n;e=lm(e)}return t}e=n,n=e.parentNode}return null}function Ga(e){if(e=e[ut]||e[Ha]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Va(e){var t=e[Bc];return t||(t=e[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Yi]=!0}var Lc=new Set,Hc={};function da(e,t){Ka(e,t),Ka(e+"Capture",t)}function Ka(e,t){for(Hc[e]=t,e=0;e<t.length;e++)Lc.add(t[e])}var Vp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$c={},Gc={};function Kp(e){return Hi.call(Gc,e)?!0:Hi.call($c,e)?!1:Vp.test(e)?Gc[e]=!0:($c[e]=!0,!1)}function sl(e,t,n){if(Kp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ll(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function dn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yp(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(f){n=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qr(e){if(!e._valueTracker){var t=Vc(e)?"checked":"value";e._valueTracker=Yp(e,t,""+e[t])}}function Kc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Vc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qp=/[\n"\\]/g;function Vt(e){return e.replace(Qp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xr(e,t,n,i,u,o,f,p){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Jr(e,f,Gt(t)):n!=null?Jr(e,f,Gt(n)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Gt(p):e.removeAttribute("name")}function Yc(e,t,n,i,u,o,f,p){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Qr(e);return}n=n!=null?""+Gt(n):"",t=t!=null?""+Gt(t):n,p||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=p?e.checked:!!i,e.defaultChecked=!!i,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Qr(e)}function Jr(e,t,n){t==="number"&&rl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ya(e,t,n,i){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Qc(e,t,n){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Gt(n):""}function Xc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(r(92));if(Nt(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Gt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Qr(e)}function Qa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Xp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Zc(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&n[u]!==i&&Jc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&Jc(e,o,t[o])}function Zr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(e){return Zp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Ir=null;function Pr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,Ja=null;function Ic(e){var t=Ga(e);if(t&&(e=t.stateNode)){var n=e[Et]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var u=i[Et]||null;if(!u)throw Error(r(90));Xr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Kc(i)}break e;case"textarea":Qc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ya(e,!!n.multiple,t,!1)}}}var Wr=!1;function Pc(e,t,n){if(Wr)return e(t,n);Wr=!0;try{var i=e(t);return i}finally{if(Wr=!1,(Xa!==null||Ja!==null)&&(Zl(),Xa&&(t=Xa,e=Ja,Ja=Xa=null,Ic(t),e)))for(t=0;t<e.length;t++)Ic(e[t])}}function Xi(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Et]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(pn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{Fr=!1}var Ln=null,eu=null,ol=null;function Wc(){if(ol)return ol;var e,t=eu,n=t.length,i,u="value"in Ln?Ln.value:Ln.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===u[o-i];i++);return ol=u.slice(e,1<i?1-i:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hl(){return!0}function Fc(){return!1}function Tt(e){function t(n,i,u,o,f){this._reactName=n,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hl:Fc,this.isPropagationStopped=Fc,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),t}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Tt(ma),Zi=A({},ma,{view:0,detail:0}),Ip=Tt(Zi),tu,nu,Ii,dl=A({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(tu=e.screenX-Ii.screenX,nu=e.screenY-Ii.screenY):nu=tu=0,Ii=e),tu)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),eh=Tt(dl),Pp=A({},dl,{dataTransfer:0}),Wp=Tt(Pp),Fp=A({},Zi,{relatedTarget:0}),au=Tt(Fp),eg=A({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=Tt(eg),ng=A({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ag=Tt(ng),ig=A({},ma,{data:0}),th=Tt(ig),sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ug(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rg[e])?!!t[e]:!1}function iu(){return ug}var og=A({},Zi,{key:function(e){if(e.key){var t=sg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cg=Tt(og),hg=A({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=Tt(hg),fg=A({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),dg=Tt(fg),mg=A({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),pg=Tt(mg),gg=A({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yg=Tt(gg),vg=A({},ma,{newState:0,oldState:0}),_g=Tt(vg),bg=[9,13,27,32],su=pn&&"CompositionEvent"in window,Pi=null;pn&&"documentMode"in document&&(Pi=document.documentMode);var Sg=pn&&"TextEvent"in window&&!Pi,ah=pn&&(!su||Pi&&8<Pi&&11>=Pi),ih=" ",sh=!1;function lh(e,t){switch(e){case"keyup":return bg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function wg(e,t){switch(e){case"compositionend":return rh(t);case"keypress":return t.which!==32?null:(sh=!0,ih);case"textInput":return e=t.data,e===ih&&sh?null:e;default:return null}}function Eg(e,t){if(Za)return e==="compositionend"||!su&&lh(e,t)?(e=Wc(),ol=eu=Ln=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ah&&t.locale!=="ko"?null:t.data;default:return null}}var Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tg[e.type]:t==="textarea"}function oh(e,t,n,i){Xa?Ja?Ja.push(i):Ja=[i]:Xa=i,t=nr(t,"onChange"),0<t.length&&(n=new fl("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Wi=null,Fi=null;function Ag(e){Qd(e,0)}function ml(e){var t=Qi(e);if(Kc(t))return e}function ch(e,t){if(e==="change")return t}var hh=!1;if(pn){var lu;if(pn){var ru="oninput"in document;if(!ru){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),ru=typeof fh.oninput=="function"}lu=ru}else lu=!1;hh=lu&&(!document.documentMode||9<document.documentMode)}function dh(){Wi&&(Wi.detachEvent("onpropertychange",mh),Fi=Wi=null)}function mh(e){if(e.propertyName==="value"&&ml(Fi)){var t=[];oh(t,Fi,e,Pr(e)),Pc(Ag,t)}}function Og(e,t,n){e==="focusin"?(dh(),Wi=t,Fi=n,Wi.attachEvent("onpropertychange",mh)):e==="focusout"&&dh()}function jg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(Fi)}function Rg(e,t){if(e==="click")return ml(t)}function xg(e,t){if(e==="input"||e==="change")return ml(t)}function Cg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Cg;function es(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var u=n[i];if(!Hi.call(t,u)||!kt(e[u],t[u]))return!1}return!0}function ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gh(e,t){var n=ph(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ph(n)}}function yh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rl(e.document)}return t}function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ng=pn&&"documentMode"in document&&11>=document.documentMode,Ia=null,ou=null,ts=null,cu=!1;function _h(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cu||Ia==null||Ia!==rl(i)||(i=Ia,"selectionStart"in i&&uu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ts&&es(ts,i)||(ts=i,i=nr(ou,"onSelect"),0<i.length&&(t=new fl("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ia)))}function pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pa={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},hu={},bh={};pn&&(bh=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function ga(e){if(hu[e])return hu[e];if(!Pa[e])return e;var t=Pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bh)return hu[e]=t[n];return e}var Sh=ga("animationend"),wh=ga("animationiteration"),Eh=ga("animationstart"),Ug=ga("transitionrun"),kg=ga("transitionstart"),Dg=ga("transitioncancel"),Th=ga("transitionend"),Ah=new Map,fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fu.push("scrollEnd");function Ft(e,t){Ah.set(e,t),da(t,[e])}var pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],Wa=0,du=0;function gl(){for(var e=Wa,t=du=Wa=0;t<e;){var n=Kt[t];Kt[t++]=null;var i=Kt[t];Kt[t++]=null;var u=Kt[t];Kt[t++]=null;var o=Kt[t];if(Kt[t++]=null,i!==null&&u!==null){var f=i.pending;f===null?u.next=u:(u.next=f.next,f.next=u),i.pending=u}o!==0&&Oh(n,u,o)}}function yl(e,t,n,i){Kt[Wa++]=e,Kt[Wa++]=t,Kt[Wa++]=n,Kt[Wa++]=i,du|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function mu(e,t,n,i){return yl(e,t,n,i),vl(e)}function ya(e,t){return yl(e,null,null,t),vl(e)}function Oh(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-v(n),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=n|536870912),o):null}function vl(e){if(50<Es)throw Es=0,To=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Fa={};function zg(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,i){return new zg(e,t,n,i)}function pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _l(e,t,n,i,u,o){var f=0;if(i=e,typeof e=="function")pu(e)&&(f=1);else if(typeof e=="string")f=Hy(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ge:return e=Dt(31,n,t,u),e.elementType=Ge,e.lanes=o,e;case $:return va(n.children,u,o,t);case G:f=8,u|=24;break;case V:return e=Dt(12,n,t,u|2),e.elementType=V,e.lanes=o,e;case Te:return e=Dt(13,n,t,u),e.elementType=Te,e.lanes=o,e;case he:return e=Dt(19,n,t,u),e.elementType=he,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:f=10;break e;case K:f=9;break e;case Z:f=11;break e;case W:f=14;break e;case $e:f=16,i=null;break e}f=29,n=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=Dt(f,n,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function va(e,t,n,i){return e=Dt(7,e,i,t),e.lanes=n,e}function gu(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function Rh(e){var t=Dt(18,null,null,0);return t.stateNode=e,t}function yu(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xh=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var n=xh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:el(t)},xh.set(e,t),t)}return{value:e,source:t,stack:el(t)}}var ei=[],ti=0,bl=null,ns=0,Qt=[],Xt=0,Hn=null,un=1,on="";function yn(e,t){ei[ti++]=ns,ei[ti++]=bl,bl=e,ns=t}function Ch(e,t,n){Qt[Xt++]=un,Qt[Xt++]=on,Qt[Xt++]=Hn,Hn=e;var i=un;e=on;var u=32-v(i)-1;i&=~(1<<u),n+=1;var o=32-v(t)+u;if(30<o){var f=u-u%5;o=(i&(1<<f)-1).toString(32),i>>=f,u-=f,un=1<<32-v(t)+u|n<<u|i,on=o+e}else un=1<<o|n<<u|i,on=e}function vu(e){e.return!==null&&(yn(e,1),Ch(e,1,0))}function _u(e){for(;e===bl;)bl=ei[--ti],ei[ti]=null,ns=ei[--ti],ei[ti]=null;for(;e===Hn;)Hn=Qt[--Xt],Qt[Xt]=null,on=Qt[--Xt],Qt[Xt]=null,un=Qt[--Xt],Qt[Xt]=null}function Nh(e,t){Qt[Xt++]=un,Qt[Xt++]=on,Qt[Xt++]=Hn,un=t.id,on=t.overflow,Hn=e}var ot=null,Ve=null,we=!1,$n=null,Jt=!1,bu=Error(r(519));function Gn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw as(Yt(t,e)),bu}function Uh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ut]=e,t[Et]=i,n){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(n=0;n<As.length;n++)ve(As[n],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),Yc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Xc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Id(t.textContent,n)?(i.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),i.onScroll!=null&&ve("scroll",t),i.onScrollEnd!=null&&ve("scrollend",t),i.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||Gn(e,!0)}function kh(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ot=ot.return}}function ni(e){if(e!==ot)return!1;if(!we)return kh(e),we=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Lo(e.type,e.memoizedProps)),n=!n),n&&Ve&&Gn(e),kh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=sm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=sm(e)}else t===27?(t=Ve,na(e.type)?(e=Ko,Ko=null,Ve=e):Ve=t):Ve=ot?It(e.stateNode.nextSibling):null;return!0}function _a(){Ve=ot=null,we=!1}function Su(){var e=$n;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),$n=null),e}function as(e){$n===null?$n=[e]:$n.push(e)}var wu=E(null),ba=null,vn=null;function Vn(e,t,n){Q(wu,t._currentValue),t._currentValue=n}function _n(e){e._currentValue=wu.current,z(wu)}function Eu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Tu(e,t,n,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var f=u.child;o=o.firstContext;e:for(;o!==null;){var p=o;o=u;for(var b=0;b<t.length;b++)if(p.context===t[b]){o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Eu(o.return,n,e),i||(f=null);break e}o=p.next}}else if(u.tag===18){if(f=u.return,f===null)throw Error(r(341));f.lanes|=n,o=f.alternate,o!==null&&(o.lanes|=n),Eu(f,n,e),f=null}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===e){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}}function ai(e,t,n,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var f=u.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var p=u.type;kt(u.pendingProps.value,f.value)||(e!==null?e.push(p):e=[p])}}else if(u===pe.current){if(f=u.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Cs):e=[Cs])}u=u.return}e!==null&&Tu(t,e,n,i),t.flags|=262144}function Sl(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ba=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Dh(ba,e)}function wl(e,t){return ba===null&&Sa(e),Dh(e,t)}function Dh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},vn===null){if(e===null)throw Error(r(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return n}var Mg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},qg=s.unstable_scheduleCallback,Bg=s.unstable_NormalPriority,Fe={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new Mg,data:new Map,refCount:0}}function is(e){e.refCount--,e.refCount===0&&qg(Bg,function(){e.controller.abort()})}var ss=null,Ou=0,ii=0,si=null;function Lg(e,t){if(ss===null){var n=ss=[];Ou=0,ii=Co(),si={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ou++,t.then(zh,zh),t}function zh(){if(--Ou===0&&ss!==null){si!==null&&(si.status="fulfilled");var e=ss;ss=null,ii=0,si=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Hg(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),i}var Mh=k.S;k.S=function(e,t){bd=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Lg(e,t),Mh!==null&&Mh(e,t)};var wa=E(null);function ju(){var e=wa.current;return e!==null?e:Be.pooledCache}function El(e,t){t===null?Q(wa,wa.current):Q(wa,t.pool)}function qh(){var e=ju();return e===null?null:{parent:Fe._currentValue,pool:e}}var li=Error(r(460)),Ru=Error(r(474)),Tl=Error(r(542)),Al={then:function(){}};function Bh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(mn,mn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$h(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$h(e),e}throw Ta=t,li}}function Ea(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ta=n,li):n}}var Ta=null;function Hh(){if(Ta===null)throw Error(r(459));var e=Ta;return Ta=null,e}function $h(e){if(e===li||e===Tl)throw Error(r(483))}var ri=null,ls=0;function Ol(e){var t=ls;return ls+=1,ri===null&&(ri=[]),Lh(ri,e,t)}function rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function jl(e,t){throw t.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gh(e){function t(T,w){if(e){var O=T.deletions;O===null?(T.deletions=[w],T.flags|=16):O.push(w)}}function n(T,w){if(!e)return null;for(;w!==null;)t(T,w),w=w.sibling;return null}function i(T){for(var w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function u(T,w){return T=gn(T,w),T.index=0,T.sibling=null,T}function o(T,w,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<w?(T.flags|=67108866,w):O):(T.flags|=67108866,w)):(T.flags|=1048576,w)}function f(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,w,O,M){return w===null||w.tag!==6?(w=gu(O,T.mode,M),w.return=T,w):(w=u(w,O),w.return=T,w)}function b(T,w,O,M){var te=O.type;return te===$?D(T,w,O.props.children,M,O.key):w!==null&&(w.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===$e&&Ea(te)===w.type)?(w=u(w,O.props),rs(w,O),w.return=T,w):(w=_l(O.type,O.key,O.props,null,T.mode,M),rs(w,O),w.return=T,w)}function j(T,w,O,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==O.containerInfo||w.stateNode.implementation!==O.implementation?(w=yu(O,T.mode,M),w.return=T,w):(w=u(w,O.children||[]),w.return=T,w)}function D(T,w,O,M,te){return w===null||w.tag!==7?(w=va(O,T.mode,M,te),w.return=T,w):(w=u(w,O),w.return=T,w)}function B(T,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=gu(""+w,T.mode,O),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return O=_l(w.type,w.key,w.props,null,T.mode,O),rs(O,w),O.return=T,O;case q:return w=yu(w,T.mode,O),w.return=T,w;case $e:return w=Ea(w),B(T,w,O)}if(Nt(w)||ze(w))return w=va(w,T.mode,O,null),w.return=T,w;if(typeof w.then=="function")return B(T,Ol(w),O);if(w.$$typeof===L)return B(T,wl(T,w),O);jl(T,w)}return null}function x(T,w,O,M){var te=w!==null?w.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return te!==null?null:p(T,w,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return O.key===te?b(T,w,O,M):null;case q:return O.key===te?j(T,w,O,M):null;case $e:return O=Ea(O),x(T,w,O,M)}if(Nt(O)||ze(O))return te!==null?null:D(T,w,O,M,null);if(typeof O.then=="function")return x(T,w,Ol(O),M);if(O.$$typeof===L)return x(T,w,wl(T,O),M);jl(T,O)}return null}function U(T,w,O,M,te){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return T=T.get(O)||null,p(w,T,""+M,te);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return T=T.get(M.key===null?O:M.key)||null,b(w,T,M,te);case q:return T=T.get(M.key===null?O:M.key)||null,j(w,T,M,te);case $e:return M=Ea(M),U(T,w,O,M,te)}if(Nt(M)||ze(M))return T=T.get(O)||null,D(w,T,M,te,null);if(typeof M.then=="function")return U(T,w,O,Ol(M),te);if(M.$$typeof===L)return U(T,w,O,wl(w,M),te);jl(w,M)}return null}function J(T,w,O,M){for(var te=null,Oe=null,I=w,me=w=0,Se=null;I!==null&&me<O.length;me++){I.index>me?(Se=I,I=null):Se=I.sibling;var je=x(T,I,O[me],M);if(je===null){I===null&&(I=Se);break}e&&I&&je.alternate===null&&t(T,I),w=o(je,w,me),Oe===null?te=je:Oe.sibling=je,Oe=je,I=Se}if(me===O.length)return n(T,I),we&&yn(T,me),te;if(I===null){for(;me<O.length;me++)I=B(T,O[me],M),I!==null&&(w=o(I,w,me),Oe===null?te=I:Oe.sibling=I,Oe=I);return we&&yn(T,me),te}for(I=i(I);me<O.length;me++)Se=U(I,T,me,O[me],M),Se!==null&&(e&&Se.alternate!==null&&I.delete(Se.key===null?me:Se.key),w=o(Se,w,me),Oe===null?te=Se:Oe.sibling=Se,Oe=Se);return e&&I.forEach(function(ra){return t(T,ra)}),we&&yn(T,me),te}function ae(T,w,O,M){if(O==null)throw Error(r(151));for(var te=null,Oe=null,I=w,me=w=0,Se=null,je=O.next();I!==null&&!je.done;me++,je=O.next()){I.index>me?(Se=I,I=null):Se=I.sibling;var ra=x(T,I,je.value,M);if(ra===null){I===null&&(I=Se);break}e&&I&&ra.alternate===null&&t(T,I),w=o(ra,w,me),Oe===null?te=ra:Oe.sibling=ra,Oe=ra,I=Se}if(je.done)return n(T,I),we&&yn(T,me),te;if(I===null){for(;!je.done;me++,je=O.next())je=B(T,je.value,M),je!==null&&(w=o(je,w,me),Oe===null?te=je:Oe.sibling=je,Oe=je);return we&&yn(T,me),te}for(I=i(I);!je.done;me++,je=O.next())je=U(I,T,me,je.value,M),je!==null&&(e&&je.alternate!==null&&I.delete(je.key===null?me:je.key),w=o(je,w,me),Oe===null?te=je:Oe.sibling=je,Oe=je);return e&&I.forEach(function(Py){return t(T,Py)}),we&&yn(T,me),te}function De(T,w,O,M){if(typeof O=="object"&&O!==null&&O.type===$&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case C:e:{for(var te=O.key;w!==null;){if(w.key===te){if(te=O.type,te===$){if(w.tag===7){n(T,w.sibling),M=u(w,O.props.children),M.return=T,T=M;break e}}else if(w.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===$e&&Ea(te)===w.type){n(T,w.sibling),M=u(w,O.props),rs(M,O),M.return=T,T=M;break e}n(T,w);break}else t(T,w);w=w.sibling}O.type===$?(M=va(O.props.children,T.mode,M,O.key),M.return=T,T=M):(M=_l(O.type,O.key,O.props,null,T.mode,M),rs(M,O),M.return=T,T=M)}return f(T);case q:e:{for(te=O.key;w!==null;){if(w.key===te)if(w.tag===4&&w.stateNode.containerInfo===O.containerInfo&&w.stateNode.implementation===O.implementation){n(T,w.sibling),M=u(w,O.children||[]),M.return=T,T=M;break e}else{n(T,w);break}else t(T,w);w=w.sibling}M=yu(O,T.mode,M),M.return=T,T=M}return f(T);case $e:return O=Ea(O),De(T,w,O,M)}if(Nt(O))return J(T,w,O,M);if(ze(O)){if(te=ze(O),typeof te!="function")throw Error(r(150));return O=te.call(O),ae(T,w,O,M)}if(typeof O.then=="function")return De(T,w,Ol(O),M);if(O.$$typeof===L)return De(T,w,wl(T,O),M);jl(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,w!==null&&w.tag===6?(n(T,w.sibling),M=u(w,O),M.return=T,T=M):(n(T,w),M=gu(O,T.mode,M),M.return=T,T=M),f(T)):n(T,w)}return function(T,w,O,M){try{ls=0;var te=De(T,w,O,M);return ri=null,te}catch(I){if(I===li||I===Tl)throw I;var Oe=Dt(29,I,null,T.mode);return Oe.lanes=M,Oe.return=T,Oe}}}var Aa=Gh(!0),Vh=Gh(!1),Kn=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Re&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=vl(e),Oh(e,null,n),t}return yl(e,i,t,n),vl(e)}function us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Dc(e,n)}}function Nu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=f:o=o.next=f,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Uu=!1;function os(){if(Uu){var e=si;if(e!==null)throw e}}function cs(e,t,n,i){Uu=!1;var u=e.updateQueue;Kn=!1;var o=u.firstBaseUpdate,f=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var b=p,j=b.next;b.next=null,f===null?o=j:f.next=j,f=b;var D=e.alternate;D!==null&&(D=D.updateQueue,p=D.lastBaseUpdate,p!==f&&(p===null?D.firstBaseUpdate=j:p.next=j,D.lastBaseUpdate=b))}if(o!==null){var B=u.baseState;f=0,D=j=b=null,p=o;do{var x=p.lane&-536870913,U=x!==p.lane;if(U?(be&x)===x:(i&x)===x){x!==0&&x===ii&&(Uu=!0),D!==null&&(D=D.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var J=e,ae=p;x=t;var De=n;switch(ae.tag){case 1:if(J=ae.payload,typeof J=="function"){B=J.call(De,B,x);break e}B=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ae.payload,x=typeof J=="function"?J.call(De,B,x):J,x==null)break e;B=A({},B,x);break e;case 2:Kn=!0}}x=p.callback,x!==null&&(e.flags|=64,U&&(e.flags|=8192),U=u.callbacks,U===null?u.callbacks=[x]:U.push(x))}else U={lane:x,tag:p.tag,payload:p.payload,callback:p.callback,next:null},D===null?(j=D=U,b=B):D=D.next=U,f|=x;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;U=p,p=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);D===null&&(b=B),u.baseState=b,u.firstBaseUpdate=j,u.lastBaseUpdate=D,o===null&&(u.shared.lanes=0),Pn|=f,e.lanes=f,e.memoizedState=B}}function Kh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Yh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Kh(n[e],t)}var ui=E(null),Rl=E(0);function Qh(e,t){e=Rn,Q(Rl,e),Q(ui,t),Rn=e|t.baseLanes}function ku(){Q(Rl,Rn),Q(ui,ui.current)}function Du(){Rn=Rl.current,z(ui),z(Rl)}var zt=E(null),Zt=null;function Xn(e){var t=e.alternate;Q(Ie,Ie.current&1),Q(zt,e),Zt===null&&(t===null||ui.current!==null||t.memoizedState!==null)&&(Zt=e)}function zu(e){Q(Ie,Ie.current),Q(zt,e),Zt===null&&(Zt=e)}function Xh(e){e.tag===22?(Q(Ie,Ie.current),Q(zt,e),Zt===null&&(Zt=e)):Jn()}function Jn(){Q(Ie,Ie.current),Q(zt,zt.current)}function Mt(e){z(zt),Zt===e&&(Zt=null),z(Ie)}var Ie=E(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Go(n)||Vo(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bn=0,fe=null,Ue=null,et=null,Cl=!1,oi=!1,Oa=!1,Nl=0,hs=0,ci=null,$g=0;function Xe(){throw Error(r(321))}function Mu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function qu(e,t,n,i,u,o){return bn=o,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Nf:Wu,Oa=!1,o=n(i,u),Oa=!1,oi&&(o=Zh(t,n,i,u)),Jh(e),o}function Jh(e){k.H=ms;var t=Ue!==null&&Ue.next!==null;if(bn=0,et=Ue=fe=null,Cl=!1,hs=0,ci=null,t)throw Error(r(300));e===null||tt||(e=e.dependencies,e!==null&&Sl(e)&&(tt=!0))}function Zh(e,t,n,i){fe=e;var u=0;do{if(oi&&(ci=null),hs=0,oi=!1,25<=u)throw Error(r(301));if(u+=1,et=Ue=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}k.H=Uf,o=t(n,i)}while(oi);return o}function Gg(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?fs(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(fe.flags|=1024),t}function Bu(){var e=Nl!==0;return Nl=0,e}function Lu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hu(e){if(Cl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Cl=!1}bn=0,et=Ue=fe=null,oi=!1,hs=Nl=0,ci=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?fe.memoizedState=et=e:et=et.next=e,et}function Pe(){if(Ue===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=et===null?fe.memoizedState:et.next;if(t!==null)et=t,Ue=e;else{if(e===null)throw fe.alternate===null?Error(r(467)):Error(r(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},et===null?fe.memoizedState=et=e:et=et.next=e}return et}function Ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fs(e){var t=hs;return hs+=1,ci===null&&(ci=[]),e=Lh(ci,e,t),t=fe,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Nf:Wu),e}function kl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fs(e);if(e.$$typeof===L)return ct(e)}throw Error(r(438,String(e)))}function $u(e){var t=null,n=fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=fe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ul(),fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=zn;return t.index++,n}function Sn(e,t){return typeof t=="function"?t(e):t}function Dl(e){var t=Pe();return Gu(t,Ue,e)}function Gu(e,t,n){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var f=u.next;u.next=o.next,o.next=f}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var p=f=null,b=null,j=t,D=!1;do{var B=j.lane&-536870913;if(B!==j.lane?(be&B)===B:(bn&B)===B){var x=j.revertLane;if(x===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),B===ii&&(D=!0);else if((bn&x)===x){j=j.next,x===ii&&(D=!0);continue}else B={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},b===null?(p=b=B,f=o):b=b.next=B,fe.lanes|=x,Pn|=x;B=j.action,Oa&&n(o,B),o=j.hasEagerState?j.eagerState:n(o,B)}else x={lane:B,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},b===null?(p=b=x,f=o):b=b.next=x,fe.lanes|=B,Pn|=B;j=j.next}while(j!==null&&j!==t);if(b===null?f=o:b.next=p,!kt(o,e.memoizedState)&&(tt=!0,D&&(n=si,n!==null)))throw n;e.memoizedState=o,e.baseState=f,e.baseQueue=b,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Vu(e){var t=Pe(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var f=u=u.next;do o=e(o,f.action),f=f.next;while(f!==u);kt(o,t.memoizedState)||(tt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Ih(e,t,n){var i=fe,u=Pe(),o=we;if(o){if(n===void 0)throw Error(r(407));n=n()}else n=t();var f=!kt((Ue||u).memoizedState,n);if(f&&(u.memoizedState=n,tt=!0),u=u.queue,Qu(Fh.bind(null,i,u,e),[e]),u.getSnapshot!==t||f||et!==null&&et.memoizedState.tag&1){if(i.flags|=2048,hi(9,{destroy:void 0},Wh.bind(null,i,u,n,t),null),Be===null)throw Error(r(349));o||(bn&127)!==0||Ph(i,t,n)}return n}function Ph(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t=Ul(),fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wh(e,t,n,i){t.value=n,t.getSnapshot=i,ef(t)&&tf(e)}function Fh(e,t,n){return n(function(){ef(t)&&tf(e)})}function ef(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function tf(e){var t=ya(e,2);t!==null&&xt(t,e,2)}function Ku(e){var t=St();if(typeof e=="function"){var n=e;if(e=n(),Oa){rn(!0);try{n()}finally{rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function nf(e,t,n,i){return e.baseState=n,Gu(e,Ue,typeof i=="function"?i:Sn)}function Vg(e,t,n,i,u){if(ql(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};k.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,af(t,o)):(o.next=n.next,t.pending=n.next=o)}}function af(e,t){var n=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=k.T,f={};k.T=f;try{var p=n(u,i),b=k.S;b!==null&&b(f,p),sf(e,t,p)}catch(j){Yu(e,t,j)}finally{o!==null&&f.types!==null&&(o.types=f.types),k.T=o}}else try{o=n(u,i),sf(e,t,o)}catch(j){Yu(e,t,j)}}function sf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){lf(e,t,i)},function(i){return Yu(e,t,i)}):lf(e,t,n)}function lf(e,t,n){t.status="fulfilled",t.value=n,rf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,af(e,n)))}function Yu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,rf(t),t=t.next;while(t!==i)}e.action=null}function rf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uf(e,t){return t}function of(e,t){if(we){var n=Be.formState;if(n!==null){e:{var i=fe;if(we){if(Ve){t:{for(var u=Ve,o=Jt;u.nodeType!==8;){if(!o){u=null;break t}if(u=It(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Ve=It(u.nextSibling),i=u.data==="F!";break e}}Gn(i)}i=!1}i&&(t=n[0])}}return n=St(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:t},n.queue=i,n=Rf.bind(null,fe,i),i.dispatch=n,i=Ku(!1),o=Pu.bind(null,fe,!1,i.queue),i=St(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,n=Vg.bind(null,fe,u,o,n),u.dispatch=n,i.memoizedState=e,[t,n,!1]}function cf(e){var t=Pe();return hf(t,Ue,e)}function hf(e,t,n){if(t=Gu(e,t,uf)[0],e=Dl(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=fs(t)}catch(f){throw f===li?Tl:f}else i=t;t=Pe();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(fe.flags|=2048,hi(9,{destroy:void 0},Kg.bind(null,u,n),null)),[i,o,e]}function Kg(e,t){e.action=t}function ff(e){var t=Pe(),n=Ue;if(n!==null)return hf(t,n,e);Pe(),t=t.memoizedState,n=Pe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function hi(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=fe.updateQueue,t===null&&(t=Ul(),fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function df(){return Pe().memoizedState}function zl(e,t,n,i){var u=St();fe.flags|=e,u.memoizedState=hi(1|t,{destroy:void 0},n,i===void 0?null:i)}function Ml(e,t,n,i){var u=Pe();i=i===void 0?null:i;var o=u.memoizedState.inst;Ue!==null&&i!==null&&Mu(i,Ue.memoizedState.deps)?u.memoizedState=hi(t,o,n,i):(fe.flags|=e,u.memoizedState=hi(1|t,o,n,i))}function mf(e,t){zl(8390656,8,e,t)}function Qu(e,t){Ml(2048,8,e,t)}function Yg(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=Ul(),fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function pf(e){var t=Pe().memoizedState;return Yg({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function gf(e,t){return Ml(4,2,e,t)}function yf(e,t){return Ml(4,4,e,t)}function vf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _f(e,t,n){n=n!=null?n.concat([e]):null,Ml(4,4,vf.bind(null,t,e),n)}function Xu(){}function bf(e,t){var n=Pe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Mu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Sf(e,t){var n=Pe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Mu(t,i[1]))return i[0];if(i=e(),Oa){rn(!0);try{e()}finally{rn(!1)}}return n.memoizedState=[i,t],i}function Ju(e,t,n){return n===void 0||(bn&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=wd(),fe.lanes|=e,Pn|=e,n)}function wf(e,t,n,i){return kt(n,t)?n:ui.current!==null?(e=Ju(e,n,i),kt(e,t)||(tt=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(be&261930)===0?(tt=!0,e.memoizedState=n):(e=wd(),fe.lanes|=e,Pn|=e,t)}function Ef(e,t,n,i,u){var o=Y.p;Y.p=o!==0&&8>o?o:8;var f=k.T,p={};k.T=p,Pu(e,!1,t,n);try{var b=u(),j=k.S;if(j!==null&&j(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var D=Hg(b,i);ds(e,t,D,Lt(e))}else ds(e,t,i,Lt(e))}catch(B){ds(e,t,{then:function(){},status:"rejected",reason:B},Lt())}finally{Y.p=o,f!==null&&p.types!==null&&(f.types=p.types),k.T=f}}function Qg(){}function Zu(e,t,n,i){if(e.tag!==5)throw Error(r(476));var u=Tf(e).queue;Ef(e,u,t,ne,n===null?Qg:function(){return Af(e),n(i)})}function Tf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:ne},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Af(e){var t=Tf(e);t.next===null&&(t=e.alternate.memoizedState),ds(e,t.next.queue,{},Lt())}function Iu(){return ct(Cs)}function Of(){return Pe().memoizedState}function jf(){return Pe().memoizedState}function Xg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Lt();e=Yn(n);var i=Qn(t,e,n);i!==null&&(xt(i,t,n),us(i,t,n)),t={cache:Au()},e.payload=t;return}t=t.return}}function Jg(e,t,n){var i=Lt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ql(e)?xf(t,n):(n=mu(e,t,n,i),n!==null&&(xt(n,e,i),Cf(n,t,i)))}function Rf(e,t,n){var i=Lt();ds(e,t,n,i)}function ds(e,t,n,i){var u={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ql(e))xf(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,p=o(f,n);if(u.hasEagerState=!0,u.eagerState=p,kt(p,f))return yl(e,t,u,0),Be===null&&gl(),!1}catch{}if(n=mu(e,t,u,i),n!==null)return xt(n,e,i),Cf(n,t,i),!0}return!1}function Pu(e,t,n,i){if(i={lane:2,revertLane:Co(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ql(e)){if(t)throw Error(r(479))}else t=mu(e,n,i,2),t!==null&&xt(t,e,2)}function ql(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function xf(e,t){oi=Cl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cf(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Dc(e,n)}}var ms={readContext:ct,use:kl,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};ms.useEffectEvent=Xe;var Nf={readContext:ct,use:kl,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:mf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,zl(4194308,4,vf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){zl(4,2,e,t)},useMemo:function(e,t){var n=St();t=t===void 0?null:t;var i=e();if(Oa){rn(!0);try{e()}finally{rn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=St();if(n!==void 0){var u=n(t);if(Oa){rn(!0);try{n(t)}finally{rn(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=Jg.bind(null,fe,e),[i.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Ku(e);var t=e.queue,n=Rf.bind(null,fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xu,useDeferredValue:function(e,t){var n=St();return Ju(n,e,t)},useTransition:function(){var e=Ku(!1);return e=Ef.bind(null,fe,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=fe,u=St();if(we){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Be===null)throw Error(r(349));(be&127)!==0||Ph(i,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,mf(Fh.bind(null,i,o,e),[e]),i.flags|=2048,hi(9,{destroy:void 0},Wh.bind(null,i,o,n,t),null),n},useId:function(){var e=St(),t=Be.identifierPrefix;if(we){var n=on,i=un;n=(i&~(1<<32-v(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Nl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$g++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Iu,useFormState:of,useActionState:of,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Pu.bind(null,fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:$u,useCacheRefresh:function(){return St().memoizedState=Xg.bind(null,fe)},useEffectEvent:function(e){var t=St(),n={impl:e};return t.memoizedState=n,function(){if((Re&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Wu={readContext:ct,use:kl,useCallback:bf,useContext:ct,useEffect:Qu,useImperativeHandle:_f,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:Dl,useRef:df,useState:function(){return Dl(Sn)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Pe();return wf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=Dl(Sn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:Ih,useId:Of,useHostTransitionStatus:Iu,useFormState:cf,useActionState:cf,useOptimistic:function(e,t){var n=Pe();return nf(n,Ue,e,t)},useMemoCache:$u,useCacheRefresh:jf};Wu.useEffectEvent=pf;var Uf={readContext:ct,use:kl,useCallback:bf,useContext:ct,useEffect:Qu,useImperativeHandle:_f,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:Vu,useRef:df,useState:function(){return Vu(Sn)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Pe();return Ue===null?Ju(n,e,t):wf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=Vu(Sn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:Ih,useId:Of,useHostTransitionStatus:Iu,useFormState:ff,useActionState:ff,useOptimistic:function(e,t){var n=Pe();return Ue!==null?nf(n,Ue,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$u,useCacheRefresh:jf};Uf.useEffectEvent=pf;function Fu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:A({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Lt(),u=Yn(i);u.payload=t,n!=null&&(u.callback=n),t=Qn(e,u,i),t!==null&&(xt(t,e,i),us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Lt(),u=Yn(i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Qn(e,u,i),t!==null&&(xt(t,e,i),us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),i=Yn(n);i.tag=2,t!=null&&(i.callback=t),t=Qn(e,i,n),t!==null&&(xt(t,e,n),us(t,e,n))}};function kf(e,t,n,i,u,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,f):t.prototype&&t.prototype.isPureReactComponent?!es(n,i)||!es(u,o):!0}function Df(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function ja(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=A({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function zf(e){pl(e)}function Mf(e){console.error(e)}function qf(e){pl(e)}function Bl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Bf(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function to(e,t,n){return n=Yn(n),n.tag=3,n.payload={element:null},n.callback=function(){Bl(e,t)},n}function Lf(e){return e=Yn(e),e.tag=3,e}function Hf(e,t,n,i){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){Bf(t,n,i)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Bf(t,n,i),typeof u!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var p=i.stack;this.componentDidCatch(i.value,{componentStack:p!==null?p:""})})}function Zg(e,t,n,i,u){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ai(t,n,u,!0),n=zt.current,n!==null){switch(n.tag){case 31:case 13:return Zt===null?Il():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=u,i===Al?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),jo(e,i,u)),!1;case 22:return n.flags|=65536,i===Al?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),jo(e,i,u)),!1}throw Error(r(435,n.tag))}return jo(e,i,u),Il(),!1}if(we)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==bu&&(e=Error(r(422),{cause:i}),as(Yt(e,n)))):(i!==bu&&(t=Error(r(423),{cause:i}),as(Yt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Yt(i,n),u=to(e.stateNode,i,u),Nu(e,u),Je!==4&&(Je=2)),!1;var o=Error(r(520),{cause:i});if(o=Yt(o,n),ws===null?ws=[o]:ws.push(o),Je!==4&&(Je=2),t===null)return!0;i=Yt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=to(n.stateNode,i,e),Nu(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Wn===null||!Wn.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Lf(u),Hf(u,e,n,i),Nu(n,u),!1}n=n.return}while(n!==null);return!1}var no=Error(r(461)),tt=!1;function ht(e,t,n,i){t.child=e===null?Vh(t,null,n,i):Aa(t,e.child,n,i)}function $f(e,t,n,i,u){n=n.render;var o=t.ref;if("ref"in i){var f={};for(var p in i)p!=="ref"&&(f[p]=i[p])}else f=i;return Sa(t),i=qu(e,t,n,f,o,u),p=Bu(),e!==null&&!tt?(Lu(e,t,u),wn(e,t,u)):(we&&p&&vu(t),t.flags|=1,ht(e,t,i,u),t.child)}function Gf(e,t,n,i,u){if(e===null){var o=n.type;return typeof o=="function"&&!pu(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Vf(e,t,o,i,u)):(e=_l(n.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!co(e,u)){var f=o.memoizedProps;if(n=n.compare,n=n!==null?n:es,n(f,i)&&e.ref===t.ref)return wn(e,t,u)}return t.flags|=1,e=gn(o,i),e.ref=t.ref,e.return=t,t.child=e}function Vf(e,t,n,i,u){if(e!==null){var o=e.memoizedProps;if(es(o,i)&&e.ref===t.ref)if(tt=!1,t.pendingProps=i=o,co(e,u))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,wn(e,t,u)}return ao(e,t,n,i,u)}function Kf(e,t,n,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return Yf(e,t,o,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&El(t,o!==null?o.cachePool:null),o!==null?Qh(t,o):ku(),Xh(t);else return i=t.lanes=536870912,Yf(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(El(t,o.cachePool),Qh(t,o),Jn(),t.memoizedState=null):(e!==null&&El(t,null),ku(),Jn());return ht(e,t,u,n),t.child}function ps(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yf(e,t,n,i,u){var o=ju();return o=o===null?null:{parent:Fe._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&El(t,null),ku(),Xh(t),e!==null&&ai(e,t,i,!0),t.childLanes=u,null}function Ll(e,t){return t=$l({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Qf(e,t,n){return Aa(t,e.child,null,n),e=Ll(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function Ig(e,t,n){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(i.mode==="hidden")return e=Ll(t,i),t.lanes=536870912,ps(null,e);if(zu(t),(e=Ve)?(e=im(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:un,overflow:on}:null,retryLane:536870912,hydrationErrors:null},n=Rh(e),n.return=t,t.child=n,ot=t,Ve=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return Ll(t,i)}var o=e.memoizedState;if(o!==null){var f=o.dehydrated;if(zu(t),u)if(t.flags&256)t.flags&=-257,t=Qf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(tt||ai(e,t,n,!1),u=(n&e.childLanes)!==0,tt||u){if(i=Be,i!==null&&(f=zc(i,n),f!==0&&f!==o.retryLane))throw o.retryLane=f,ya(e,f),xt(i,e,f),no;Il(),t=Qf(e,t,n)}else e=o.treeContext,Ve=It(f.nextSibling),ot=t,we=!0,$n=null,Jt=!1,e!==null&&Nh(t,e),t=Ll(t,i),t.flags|=4096;return t}return e=gn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Hl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ao(e,t,n,i,u){return Sa(t),n=qu(e,t,n,i,void 0,u),i=Bu(),e!==null&&!tt?(Lu(e,t,u),wn(e,t,u)):(we&&i&&vu(t),t.flags|=1,ht(e,t,n,u),t.child)}function Xf(e,t,n,i,u,o){return Sa(t),t.updateQueue=null,n=Zh(t,i,n,u),Jh(e),i=Bu(),e!==null&&!tt?(Lu(e,t,o),wn(e,t,o)):(we&&i&&vu(t),t.flags|=1,ht(e,t,n,o),t.child)}function Jf(e,t,n,i,u){if(Sa(t),t.stateNode===null){var o=Fa,f=n.contextType;typeof f=="object"&&f!==null&&(o=ct(f)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=eo,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},xu(t),f=n.contextType,o.context=typeof f=="object"&&f!==null?ct(f):Fa,o.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Fu(t,n,f,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&eo.enqueueReplaceState(o,o.state,null),cs(t,i,o,u),os(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var p=t.memoizedProps,b=ja(n,p);o.props=b;var j=o.context,D=n.contextType;f=Fa,typeof D=="object"&&D!==null&&(f=ct(D));var B=n.getDerivedStateFromProps;D=typeof B=="function"||typeof o.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,D||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p||j!==f)&&Df(t,o,i,f),Kn=!1;var x=t.memoizedState;o.state=x,cs(t,i,o,u),os(),j=t.memoizedState,p||x!==j||Kn?(typeof B=="function"&&(Fu(t,n,B,i),j=t.memoizedState),(b=Kn||kf(t,n,b,i,x,j,f))?(D||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=j),o.props=i,o.state=j,o.context=f,i=b):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Cu(e,t),f=t.memoizedProps,D=ja(n,f),o.props=D,B=t.pendingProps,x=o.context,j=n.contextType,b=Fa,typeof j=="object"&&j!==null&&(b=ct(j)),p=n.getDerivedStateFromProps,(j=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==B||x!==b)&&Df(t,o,i,b),Kn=!1,x=t.memoizedState,o.state=x,cs(t,i,o,u),os();var U=t.memoizedState;f!==B||x!==U||Kn||e!==null&&e.dependencies!==null&&Sl(e.dependencies)?(typeof p=="function"&&(Fu(t,n,p,i),U=t.memoizedState),(D=Kn||kf(t,n,D,i,x,U,b)||e!==null&&e.dependencies!==null&&Sl(e.dependencies))?(j||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,U,b),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,U,b)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=U),o.props=i,o.state=U,o.context=b,i=D):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,Hl(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=Aa(t,e.child,null,u),t.child=Aa(t,null,n,u)):ht(e,t,n,u),t.memoizedState=o.state,e=t.child):e=wn(e,t,u),e}function Zf(e,t,n,i){return _a(),t.flags|=256,ht(e,t,n,i),t.child}var io={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function so(e){return{baseLanes:e,cachePool:qh()}}function lo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Bt),e}function If(e,t,n){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),f&&(u=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(u?Xn(t):Jn(),(e=Ve)?(e=im(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:un,overflow:on}:null,retryLane:536870912,hydrationErrors:null},n=Rh(e),n.return=t,t.child=n,ot=t,Ve=null)):e=null,e===null)throw Gn(t);return Vo(e)?t.lanes=32:t.lanes=536870912,null}var p=i.children;return i=i.fallback,u?(Jn(),u=t.mode,p=$l({mode:"hidden",children:p},u),i=va(i,u,n,null),p.return=t,i.return=t,p.sibling=i,t.child=p,i=t.child,i.memoizedState=so(n),i.childLanes=lo(e,f,n),t.memoizedState=io,ps(null,i)):(Xn(t),ro(t,p))}var b=e.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(o)t.flags&256?(Xn(t),t.flags&=-257,t=uo(e,t,n)):t.memoizedState!==null?(Jn(),t.child=e.child,t.flags|=128,t=null):(Jn(),p=i.fallback,u=t.mode,i=$l({mode:"visible",children:i.children},u),p=va(p,u,n,null),p.flags|=2,i.return=t,p.return=t,i.sibling=p,t.child=i,Aa(t,e.child,null,n),i=t.child,i.memoizedState=so(n),i.childLanes=lo(e,f,n),t.memoizedState=io,t=ps(null,i));else if(Xn(t),Vo(p)){if(f=p.nextSibling&&p.nextSibling.dataset,f)var j=f.dgst;f=j,i=Error(r(419)),i.stack="",i.digest=f,as({value:i,source:null,stack:null}),t=uo(e,t,n)}else if(tt||ai(e,t,n,!1),f=(n&e.childLanes)!==0,tt||f){if(f=Be,f!==null&&(i=zc(f,n),i!==0&&i!==b.retryLane))throw b.retryLane=i,ya(e,i),xt(f,e,i),no;Go(p)||Il(),t=uo(e,t,n)}else Go(p)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ve=It(p.nextSibling),ot=t,we=!0,$n=null,Jt=!1,e!==null&&Nh(t,e),t=ro(t,i.children),t.flags|=4096);return t}return u?(Jn(),p=i.fallback,u=t.mode,b=e.child,j=b.sibling,i=gn(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&65011712,j!==null?p=gn(j,p):(p=va(p,u,n,null),p.flags|=2),p.return=t,i.return=t,i.sibling=p,t.child=i,ps(null,i),i=t.child,p=e.child.memoizedState,p===null?p=so(n):(u=p.cachePool,u!==null?(b=Fe._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=qh(),p={baseLanes:p.baseLanes|n,cachePool:u}),i.memoizedState=p,i.childLanes=lo(e,f,n),t.memoizedState=io,ps(e.child,i)):(Xn(t),n=e.child,e=n.sibling,n=gn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function ro(e,t){return t=$l({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $l(e,t){return e=Dt(22,e,null,t),e.lanes=0,e}function uo(e,t,n){return Aa(t,e.child,null,n),e=ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pf(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Eu(e.return,t,n)}function oo(e,t,n,i,u,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:u,treeForkCount:o}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=u,f.treeForkCount=o)}function Wf(e,t,n){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var f=Ie.current,p=(f&2)!==0;if(p?(f=f&1|2,t.flags|=128):f&=1,Q(Ie,f),ht(e,t,i,n),i=we?ns:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pf(e,n,t);else if(e.tag===19)Pf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),oo(t,!1,u,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&xl(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}oo(t,!0,n,null,o,i);break;case"together":oo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ai(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function co(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Sl(e)))}function Pg(e,t,n){switch(t.tag){case 3:Ne(t,t.stateNode.containerInfo),Vn(t,Fe,e.memoizedState.cache),_a();break;case 27:case 5:Mn(t);break;case 4:Ne(t,t.stateNode.containerInfo);break;case 10:Vn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,zu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Xn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?If(e,t,n):(Xn(t),e=wn(e,t,n),e!==null?e.sibling:null);Xn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ai(e,t,n,!1),i=(n&t.childLanes)!==0),u){if(i)return Wf(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Q(Ie,Ie.current),i)break;return null;case 22:return t.lanes=0,Kf(e,t,n,t.pendingProps);case 24:Vn(t,Fe,e.memoizedState.cache)}return wn(e,t,n)}function Ff(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!co(e,n)&&(t.flags&128)===0)return tt=!1,Pg(e,t,n);tt=(e.flags&131072)!==0}else tt=!1,we&&(t.flags&1048576)!==0&&Ch(t,ns,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Ea(t.elementType),t.type=e,typeof e=="function")pu(e)?(i=ja(e,i),t.tag=1,t=Jf(null,t,e,i,n)):(t.tag=0,t=ao(null,t,e,i,n));else{if(e!=null){var u=e.$$typeof;if(u===Z){t.tag=11,t=$f(null,t,e,i,n);break e}else if(u===W){t.tag=14,t=Gf(null,t,e,i,n);break e}}throw t=yt(e)||e,Error(r(306,t,""))}}return t;case 0:return ao(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,u=ja(i,t.pendingProps),Jf(e,t,i,u,n);case 3:e:{if(Ne(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,Cu(e,t),cs(t,i,null,n);var f=t.memoizedState;if(i=f.cache,Vn(t,Fe,i),i!==o.cache&&Tu(t,[Fe],n,!0),os(),i=f.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Zf(e,t,i,n);break e}else if(i!==u){u=Yt(Error(r(424)),t),as(u),t=Zf(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ve=It(e.firstChild),ot=t,we=!0,$n=null,Jt=!0,n=Vh(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_a(),i===u){t=wn(e,t,n);break e}ht(e,t,i,n)}t=t.child}return t;case 26:return Hl(e,t),e===null?(n=cm(t.type,null,t.pendingProps,null))?t.memoizedState=n:we||(n=t.type,e=t.pendingProps,i=ar(de.current).createElement(n),i[ut]=t,i[Et]=e,ft(i,n,e),lt(i),t.stateNode=i):t.memoizedState=cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Mn(t),e===null&&we&&(i=t.stateNode=rm(t.type,t.pendingProps,de.current),ot=t,Jt=!0,u=Ve,na(t.type)?(Ko=u,Ve=It(i.firstChild)):Ve=u),ht(e,t,t.pendingProps.children,n),Hl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((u=i=Ve)&&(i=jy(i,t.type,t.pendingProps,Jt),i!==null?(t.stateNode=i,ot=t,Ve=It(i.firstChild),Jt=!1,u=!0):u=!1),u||Gn(t)),Mn(t),u=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,i=o.children,Lo(u,o)?i=null:f!==null&&Lo(u,f)&&(t.flags|=32),t.memoizedState!==null&&(u=qu(e,t,Gg,null,null,n),Cs._currentValue=u),Hl(e,t),ht(e,t,i,n),t.child;case 6:return e===null&&we&&((e=n=Ve)&&(n=Ry(n,t.pendingProps,Jt),n!==null?(t.stateNode=n,ot=t,Ve=null,e=!0):e=!1),e||Gn(t)),null;case 13:return If(e,t,n);case 4:return Ne(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Aa(t,null,i,n):ht(e,t,i,n),t.child;case 11:return $f(e,t,t.type,t.pendingProps,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Vn(t,t.type,i.value),ht(e,t,i.children,n),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,Sa(t),u=ct(u),i=i(u),t.flags|=1,ht(e,t,i,n),t.child;case 14:return Gf(e,t,t.type,t.pendingProps,n);case 15:return Vf(e,t,t.type,t.pendingProps,n);case 19:return Wf(e,t,n);case 31:return Ig(e,t,n);case 22:return Kf(e,t,n,t.pendingProps);case 24:return Sa(t),i=ct(Fe),e===null?(u=ju(),u===null&&(u=Be,o=Au(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:i,cache:u},xu(t),Vn(t,Fe,u)):((e.lanes&n)!==0&&(Cu(e,t),cs(t,null,null,n),os()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Vn(t,Fe,i)):(i=o.cache,Vn(t,Fe,i),i!==u.cache&&Tu(t,[Fe],n,!0))),ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function En(e){e.flags|=4}function ho(e,t,n,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Od())e.flags|=8192;else throw Ta=Al,Ru}else e.flags&=-16777217}function ed(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pm(t))if(Od())e.flags|=8192;else throw Ta=Al,Ru}function Gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vi():536870912,e.lanes|=t,pi|=t)}function gs(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Wg(e,t,n){var i=t.pendingProps;switch(_u(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_n(Fe),_e(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ni(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Su())),Ke(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(En(t),o!==null?(Ke(t),ed(t,o)):(Ke(t),ho(t,u,null,i,n))):o?o!==e.memoizedState?(En(t),Ke(t),ed(t,o)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&En(t),Ke(t),ho(t,u,e,i,n)),null;case 27:if(ha(t),n=de.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ke(t),null}e=X.current,ni(t)?Uh(t):(e=rm(u,i,n),t.stateNode=e,En(t))}return Ke(t),null;case 5:if(ha(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ke(t),null}if(o=X.current,ni(t))Uh(t);else{var f=ar(de.current);switch(o){case 1:o=f.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=f.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=f.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=f.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=f.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?f.createElement("select",{is:i.is}):f.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?f.createElement(u,{is:i.is}):f.createElement(u)}}o[ut]=t,o[Et]=i;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=o;e:switch(ft(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&En(t)}}return Ke(t),ho(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=de.current,ni(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,u=ot,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[ut]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Id(e.nodeValue,n)),e||Gn(t,!0)}else e=ar(e).createTextNode(i),e[ut]=t,t.stateNode=e}return Ke(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ni(t),n!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ut]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else n=Su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ke(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ni(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ut]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),u=!1}else u=Su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Gl(t,t.updateQueue),Ke(t),null);case 4:return _e(),e===null&&Do(t.stateNode.containerInfo),Ke(t),null;case 10:return _n(t.type),Ke(t),null;case 19:if(z(Ie),i=t.memoizedState,i===null)return Ke(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)gs(i,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=xl(e),o!==null){for(t.flags|=128,gs(i,!1),e=o.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jh(n,e),n=n.sibling;return Q(Ie,Ie.current&1|2),we&&yn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&_t()>Xl&&(t.flags|=128,u=!0,gs(i,!1),t.lanes=4194304)}else{if(!u)if(e=xl(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),gs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return Ke(t),null}else 2*_t()-i.renderingStartTime>Xl&&n!==536870912&&(t.flags|=128,u=!0,gs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,n=Ie.current,Q(Ie,u?n&1|2:n&1),we&&yn(t,i.treeForkCount),e):(Ke(t),null);case 22:case 23:return Mt(t),Du(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),n=t.updateQueue,n!==null&&Gl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&z(wa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_n(Fe),Ke(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Fg(e,t){switch(_u(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(Fe),_e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ha(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(r(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(Ie),null;case 4:return _e(),null;case 10:return _n(t.type),null;case 22:case 23:return Mt(t),Du(),e!==null&&z(wa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _n(Fe),null;case 25:return null;default:return null}}function td(e,t){switch(_u(t),t.tag){case 3:_n(Fe),_e();break;case 26:case 27:case 5:ha(t);break;case 4:_e();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:z(Ie);break;case 10:_n(t.type);break;case 22:case 23:Mt(t),Du(),e!==null&&z(wa);break;case 24:_n(Fe)}}function ys(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){i=void 0;var o=n.create,f=n.inst;i=o(),f.destroy=i}n=n.next}while(n!==u)}}catch(p){Ce(t,t.return,p)}}function Zn(e,t,n){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var f=i.inst,p=f.destroy;if(p!==void 0){f.destroy=void 0,u=t;var b=n,j=p;try{j()}catch(D){Ce(u,b,D)}}}i=i.next}while(i!==o)}}catch(D){Ce(t,t.return,D)}}function nd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Yh(t,n)}catch(i){Ce(e,e.return,i)}}}function ad(e,t,n){n.props=ja(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ce(e,t,i)}}function vs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(u){Ce(e,t,u)}}function cn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(u){Ce(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Ce(e,t,u)}else n.current=null}function id(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(u){Ce(e,e.return,u)}}function fo(e,t,n){try{var i=e.stateNode;Sy(i,e.type,n,t),i[Et]=t}catch(u){Ce(e,e.return,u)}}function sd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&na(e.type)||e.tag===4}function mo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function po(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mn));else if(i!==4&&(i===27&&na(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(po(e,t,n),e=e.sibling;e!==null;)po(e,t,n),e=e.sibling}function Vl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&na(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}function ld(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ft(t,i,n),t[ut]=e,t[Et]=n}catch(o){Ce(e,e.return,o)}}var Tn=!1,nt=!1,go=!1,rd=typeof WeakSet=="function"?WeakSet:Set,rt=null;function ey(e,t){if(e=e.containerInfo,qo=cr,e=vh(e),uu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var f=0,p=-1,b=-1,j=0,D=0,B=e,x=null;t:for(;;){for(var U;B!==n||u!==0&&B.nodeType!==3||(p=f+u),B!==o||i!==0&&B.nodeType!==3||(b=f+i),B.nodeType===3&&(f+=B.nodeValue.length),(U=B.firstChild)!==null;)x=B,B=U;for(;;){if(B===e)break t;if(x===n&&++j===u&&(p=f),x===o&&++D===i&&(b=f),(U=B.nextSibling)!==null)break;B=x,x=B.parentNode}B=U}n=p===-1||b===-1?null:{start:p,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bo={focusedElem:e,selectionRange:n},cr=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var J=ja(n.type,u);e=i.getSnapshotBeforeUpdate(J,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ce(n,n.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)$o(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$o(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function ud(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:On(e,n),i&4&&ys(5,n);break;case 1:if(On(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Ce(n,n.return,f)}else{var u=ja(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Ce(n,n.return,f)}}i&64&&nd(n),i&512&&vs(n,n.return);break;case 3:if(On(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Yh(e,t)}catch(f){Ce(n,n.return,f)}}break;case 27:t===null&&i&4&&ld(n);case 26:case 5:On(e,n),t===null&&i&4&&id(n),i&512&&vs(n,n.return);break;case 12:On(e,n);break;case 31:On(e,n),i&4&&hd(e,n);break;case 13:On(e,n),i&4&&fd(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=oy.bind(null,n),xy(e,n))));break;case 22:if(i=n.memoizedState!==null||Tn,!i){t=t!==null&&t.memoizedState!==null||nt,u=Tn;var o=nt;Tn=i,(nt=t)&&!o?jn(e,n,(n.subtreeFlags&8772)!==0):On(e,n),Tn=u,nt=o}break;case 30:break;default:On(e,n)}}function od(e){var t=e.alternate;t!==null&&(e.alternate=null,od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,At=!1;function An(e,t,n){for(n=n.child;n!==null;)cd(e,t,n),n=n.sibling}function cd(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(fa,n)}catch{}switch(n.tag){case 26:nt||cn(n,t),An(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nt||cn(n,t);var i=Qe,u=At;na(n.type)&&(Qe=n.stateNode,At=!1),An(e,t,n),js(n.stateNode),Qe=i,At=u;break;case 5:nt||cn(n,t);case 6:if(i=Qe,u=At,Qe=null,An(e,t,n),Qe=i,At=u,Qe!==null)if(At)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(n.stateNode)}catch(o){Ce(n,t,o)}else try{Qe.removeChild(n.stateNode)}catch(o){Ce(n,t,o)}break;case 18:Qe!==null&&(At?(e=Qe,nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ei(e)):nm(Qe,n.stateNode));break;case 4:i=Qe,u=At,Qe=n.stateNode.containerInfo,At=!0,An(e,t,n),Qe=i,At=u;break;case 0:case 11:case 14:case 15:Zn(2,n,t),nt||Zn(4,n,t),An(e,t,n);break;case 1:nt||(cn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&ad(n,t,i)),An(e,t,n);break;case 21:An(e,t,n);break;case 22:nt=(i=nt)||n.memoizedState!==null,An(e,t,n),nt=i;break;default:An(e,t,n)}}function hd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ei(e)}catch(n){Ce(t,t.return,n)}}}function fd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ei(e)}catch(n){Ce(t,t.return,n)}}function ty(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rd),t;default:throw Error(r(435,e.tag))}}function Kl(e,t){var n=ty(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var u=cy.bind(null,e,i);i.then(u,u)}})}function Ot(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var u=n[i],o=e,f=t,p=f;e:for(;p!==null;){switch(p.tag){case 27:if(na(p.type)){Qe=p.stateNode,At=!1;break e}break;case 5:Qe=p.stateNode,At=!1;break e;case 3:case 4:Qe=p.stateNode.containerInfo,At=!0;break e}p=p.return}if(Qe===null)throw Error(r(160));cd(o,f,u),Qe=null,At=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dd(t,e),t=t.sibling}var en=null;function dd(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),jt(e),i&4&&(Zn(3,e,e.return),ys(3,e),Zn(5,e,e.return));break;case 1:Ot(t,e),jt(e),i&512&&(nt||n===null||cn(n,n.return)),i&64&&Tn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var u=en;if(Ot(t,e),jt(e),i&512&&(nt||n===null||cn(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Yi]||o[ut]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),ft(o,i,n),o[ut]=e,lt(o),i=o;break e;case"link":var f=dm("link","href",u).get(i+(n.href||""));if(f){for(var p=0;p<f.length;p++)if(o=f[p],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(p,1);break t}}o=u.createElement(i),ft(o,i,n),u.head.appendChild(o);break;case"meta":if(f=dm("meta","content",u).get(i+(n.content||""))){for(p=0;p<f.length;p++)if(o=f[p],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(p,1);break t}}o=u.createElement(i),ft(o,i,n),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[ut]=e,lt(o),i=o}e.stateNode=i}else mm(u,e.type,e.stateNode);else e.stateNode=fm(u,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?mm(u,e.type,e.stateNode):fm(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&fo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ot(t,e),jt(e),i&512&&(nt||n===null||cn(n,n.return)),n!==null&&i&4&&fo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ot(t,e),jt(e),i&512&&(nt||n===null||cn(n,n.return)),e.flags&32){u=e.stateNode;try{Qa(u,"")}catch(J){Ce(e,e.return,J)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,fo(e,u,n!==null?n.memoizedProps:u)),i&1024&&(go=!0);break;case 6:if(Ot(t,e),jt(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(J){Ce(e,e.return,J)}}break;case 3:if(lr=null,u=en,en=ir(t.containerInfo),Ot(t,e),en=u,jt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ei(t.containerInfo)}catch(J){Ce(e,e.return,J)}go&&(go=!1,md(e));break;case 4:i=en,en=ir(e.stateNode.containerInfo),Ot(t,e),jt(e),en=i;break;case 12:Ot(t,e),jt(e);break;case 31:Ot(t,e),jt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 13:Ot(t,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ql=_t()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 22:u=e.memoizedState!==null;var b=n!==null&&n.memoizedState!==null,j=Tn,D=nt;if(Tn=j||u,nt=D||b,Ot(t,e),nt=D,Tn=j,jt(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||b||Tn||nt||Ra(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){b=n=t;try{if(o=b.stateNode,u)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=b.stateNode;var B=b.memoizedProps.style,x=B!=null&&B.hasOwnProperty("display")?B.display:null;p.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(J){Ce(b,b.return,J)}}}else if(t.tag===6){if(n===null){b=t;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(J){Ce(b,b.return,J)}}}else if(t.tag===18){if(n===null){b=t;try{var U=b.stateNode;u?am(U,!0):am(b.stateNode,!1)}catch(J){Ce(b,b.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Kl(e,n))));break;case 19:Ot(t,e),jt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 30:break;case 21:break;default:Ot(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(sd(i)){n=i;break}i=i.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,o=mo(e);Vl(e,o,u);break;case 5:var f=n.stateNode;n.flags&32&&(Qa(f,""),n.flags&=-33);var p=mo(e);Vl(e,p,f);break;case 3:case 4:var b=n.stateNode.containerInfo,j=mo(e);po(e,j,b);break;default:throw Error(r(161))}}catch(D){Ce(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function md(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;md(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function On(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ud(e,t.alternate,t),t=t.sibling}function Ra(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zn(4,t,t.return),Ra(t);break;case 1:cn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ad(t,t.return,n),Ra(t);break;case 27:js(t.stateNode);case 26:case 5:cn(t,t.return),Ra(t);break;case 22:t.memoizedState===null&&Ra(t);break;case 30:Ra(t);break;default:Ra(t)}e=e.sibling}}function jn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:jn(u,o,n),ys(4,o);break;case 1:if(jn(u,o,n),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(j){Ce(i,i.return,j)}if(i=o,u=i.updateQueue,u!==null){var p=i.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)Kh(b[u],p)}catch(j){Ce(i,i.return,j)}}n&&f&64&&nd(o),vs(o,o.return);break;case 27:ld(o);case 26:case 5:jn(u,o,n),n&&i===null&&f&4&&id(o),vs(o,o.return);break;case 12:jn(u,o,n);break;case 31:jn(u,o,n),n&&f&4&&hd(u,o);break;case 13:jn(u,o,n),n&&f&4&&fd(u,o);break;case 22:o.memoizedState===null&&jn(u,o,n),vs(o,o.return);break;case 30:break;default:jn(u,o,n)}t=t.sibling}}function yo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&is(n))}function vo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e))}function tn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pd(e,t,n,i),t=t.sibling}function pd(e,t,n,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,i),u&2048&&ys(9,t);break;case 1:tn(e,t,n,i);break;case 3:tn(e,t,n,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e)));break;case 12:if(u&2048){tn(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,p=o.onPostCommit;typeof p=="function"&&p(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ce(t,t.return,b)}}else tn(e,t,n,i);break;case 31:tn(e,t,n,i);break;case 13:tn(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?tn(e,t,n,i):_s(e,t):o._visibility&2?tn(e,t,n,i):(o._visibility|=2,fi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&yo(f,t);break;case 24:tn(e,t,n,i),u&2048&&vo(t.alternate,t);break;default:tn(e,t,n,i)}}function fi(e,t,n,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,f=t,p=n,b=i,j=f.flags;switch(f.tag){case 0:case 11:case 15:fi(o,f,p,b,u),ys(8,f);break;case 23:break;case 22:var D=f.stateNode;f.memoizedState!==null?D._visibility&2?fi(o,f,p,b,u):_s(o,f):(D._visibility|=2,fi(o,f,p,b,u)),u&&j&2048&&yo(f.alternate,f);break;case 24:fi(o,f,p,b,u),u&&j&2048&&vo(f.alternate,f);break;default:fi(o,f,p,b,u)}t=t.sibling}}function _s(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,u=i.flags;switch(i.tag){case 22:_s(n,i),u&2048&&yo(i.alternate,i);break;case 24:_s(n,i),u&2048&&vo(i.alternate,i);break;default:_s(n,i)}t=t.sibling}}var bs=8192;function di(e,t,n){if(e.subtreeFlags&bs)for(e=e.child;e!==null;)gd(e,t,n),e=e.sibling}function gd(e,t,n){switch(e.tag){case 26:di(e,t,n),e.flags&bs&&e.memoizedState!==null&&$y(n,en,e.memoizedState,e.memoizedProps);break;case 5:di(e,t,n);break;case 3:case 4:var i=en;en=ir(e.stateNode.containerInfo),di(e,t,n),en=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=bs,bs=16777216,di(e,t,n),bs=i):di(e,t,n));break;default:di(e,t,n)}}function yd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ss(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];rt=i,_d(i,e)}yd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vd(e),e=e.sibling}function vd(e){switch(e.tag){case 0:case 11:case 15:Ss(e),e.flags&2048&&Zn(9,e,e.return);break;case 3:Ss(e);break;case 12:Ss(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Yl(e)):Ss(e);break;default:Ss(e)}}function Yl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];rt=i,_d(i,e)}yd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zn(8,t,t.return),Yl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Yl(t));break;default:Yl(t)}e=e.sibling}}function _d(e,t){for(;rt!==null;){var n=rt;switch(n.tag){case 0:case 11:case 15:Zn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:is(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,rt=i;else e:for(n=e;rt!==null;){i=rt;var u=i.sibling,o=i.return;if(od(i),i===n){rt=null;break e}if(u!==null){u.return=o,rt=u;break e}rt=o}}}var ny={getCacheForType:function(e){var t=ct(Fe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ct(Fe).controller.signal}},ay=typeof WeakMap=="function"?WeakMap:Map,Re=0,Be=null,ye=null,be=0,xe=0,qt=null,In=!1,mi=!1,_o=!1,Rn=0,Je=0,Pn=0,xa=0,bo=0,Bt=0,pi=0,ws=null,Rt=null,So=!1,Ql=0,bd=0,Xl=1/0,Jl=null,Wn=null,it=0,Fn=null,gi=null,xn=0,wo=0,Eo=null,Sd=null,Es=0,To=null;function Lt(){return(Re&2)!==0&&be!==0?be&-be:k.T!==null?Co():Mc()}function wd(){if(Bt===0)if((be&536870912)===0||we){var e=P;P<<=1,(P&3932160)===0&&(P=262144),Bt=e}else Bt=536870912;return e=zt.current,e!==null&&(e.flags|=32),Bt}function xt(e,t,n){(e===Be&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(yi(e,0),ea(e,be,Bt,!1)),Ki(e,n),((Re&2)===0||e!==Be)&&(e===Be&&((Re&2)===0&&(xa|=n),Je===4&&ea(e,be,Bt,!1)),hn(e))}function Ed(e,t,n){if((Re&6)!==0)throw Error(r(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||qn(e,t),u=i?ly(e,t):Oo(e,t,!0),o=i;do{if(u===0){mi&&!i&&ea(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!iy(n)){u=Oo(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var p=e;u=ws;var b=p.current.memoizedState.isDehydrated;if(b&&(yi(p,f).flags|=256),f=Oo(p,f,!1),f!==2){if(_o&&!b){p.errorRecoveryDisabledLanes|=o,xa|=o,u=4;break e}o=Rt,Rt=u,o!==null&&(Rt===null?Rt=o:Rt.push.apply(Rt,o))}u=f}if(o=!1,u!==2)continue}}if(u===1){yi(e,0),ea(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ea(i,t,Bt,!In);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Ql+300-_t(),10<u)){if(ea(i,t,Bt,!In),pt(i,0,!0)!==0)break e;xn=t,i.timeoutHandle=em(Td.bind(null,i,n,Rt,Jl,So,t,Bt,xa,pi,In,o,"Throttled",-0,0),u);break e}Td(i,n,Rt,Jl,So,t,Bt,xa,pi,In,o,null,-0,0)}}break}while(!0);hn(e)}function Td(e,t,n,i,u,o,f,p,b,j,D,B,x,U){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},gd(t,o,B);var J=(o&62914560)===o?Ql-_t():(o&4194048)===o?bd-_t():0;if(J=Gy(B,J),J!==null){xn=o,e.cancelPendingCommit=J(Ud.bind(null,e,t,o,n,i,u,f,p,b,D,B,null,x,U)),ea(e,o,f,!j);return}}Ud(e,t,o,n,i,u,f,p,b)}function iy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var u=n[i],o=u.getSnapshot;u=u.value;try{if(!kt(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ea(e,t,n,i){t&=~bo,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-v(u),f=1<<o;i[o]=-1,u&=~f}n!==0&&kc(e,n,t)}function Zl(){return(Re&6)===0?(Ts(0),!1):!0}function Ao(){if(ye!==null){if(xe===0)var e=ye.return;else e=ye,vn=ba=null,Hu(e),ri=null,ls=0,e=ye;for(;e!==null;)td(e.alternate,e),e=e.return;ye=null}}function yi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ty(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),xn=0,Ao(),Be=e,ye=n=gn(e.current,null),be=t,xe=0,qt=null,In=!1,mi=qn(e,t),_o=!1,pi=Bt=bo=xa=Pn=Je=0,Rt=ws=null,So=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-v(i),o=1<<u;t|=e[u],i&=~o}return Rn=t,gl(),n}function Ad(e,t){fe=null,k.H=ms,t===li||t===Tl?(t=Hh(),xe=3):t===Ru?(t=Hh(),xe=4):xe=t===no?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qt=t,ye===null&&(Je=1,Bl(e,Yt(t,e.current)))}function Od(){var e=zt.current;return e===null?!0:(be&4194048)===be?Zt===null:(be&62914560)===be||(be&536870912)!==0?e===Zt:!1}function jd(){var e=k.H;return k.H=ms,e===null?ms:e}function Rd(){var e=k.A;return k.A=ny,e}function Il(){Je=4,In||(be&4194048)!==be&&zt.current!==null||(mi=!0),(Pn&134217727)===0&&(xa&134217727)===0||Be===null||ea(Be,be,Bt,!1)}function Oo(e,t,n){var i=Re;Re|=2;var u=jd(),o=Rd();(Be!==e||be!==t)&&(Jl=null,yi(e,t)),t=!1;var f=Je;e:do try{if(xe!==0&&ye!==null){var p=ye,b=qt;switch(xe){case 8:Ao(),f=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var j=xe;if(xe=0,qt=null,vi(e,p,b,j),n&&mi){f=0;break e}break;default:j=xe,xe=0,qt=null,vi(e,p,b,j)}}sy(),f=Je;break}catch(D){Ad(e,D)}while(!0);return t&&e.shellSuspendCounter++,vn=ba=null,Re=i,k.H=u,k.A=o,ye===null&&(Be=null,be=0,gl()),f}function sy(){for(;ye!==null;)xd(ye)}function ly(e,t){var n=Re;Re|=2;var i=jd(),u=Rd();Be!==e||be!==t?(Jl=null,Xl=_t()+500,yi(e,t)):mi=qn(e,t);e:do try{if(xe!==0&&ye!==null){t=ye;var o=qt;t:switch(xe){case 1:xe=0,qt=null,vi(e,t,o,1);break;case 2:case 9:if(Bh(o)){xe=0,qt=null,Cd(t);break}t=function(){xe!==2&&xe!==9||Be!==e||(xe=7),hn(e)},o.then(t,t);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:Bh(o)?(xe=0,qt=null,Cd(t)):(xe=0,qt=null,vi(e,t,o,7));break;case 5:var f=null;switch(ye.tag){case 26:f=ye.memoizedState;case 5:case 27:var p=ye;if(f?pm(f):p.stateNode.complete){xe=0,qt=null;var b=p.sibling;if(b!==null)ye=b;else{var j=p.return;j!==null?(ye=j,Pl(j)):ye=null}break t}}xe=0,qt=null,vi(e,t,o,5);break;case 6:xe=0,qt=null,vi(e,t,o,6);break;case 8:Ao(),Je=6;break e;default:throw Error(r(462))}}ry();break}catch(D){Ad(e,D)}while(!0);return vn=ba=null,k.H=i,k.A=u,Re=n,ye!==null?0:(Be=null,be=0,gl(),Je)}function ry(){for(;ye!==null&&!Mr();)xd(ye)}function xd(e){var t=Ff(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?Pl(e):ye=t}function Cd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xf(n,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Xf(n,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:Hu(t);default:td(n,t),t=ye=jh(t,Rn),t=Ff(n,t,Rn)}e.memoizedProps=e.pendingProps,t===null?Pl(e):ye=t}function vi(e,t,n,i){vn=ba=null,Hu(t),ri=null,ls=0;var u=t.return;try{if(Zg(e,u,t,n,be)){Je=1,Bl(e,Yt(n,e.current)),ye=null;return}}catch(o){if(u!==null)throw ye=u,o;Je=1,Bl(e,Yt(n,e.current)),ye=null;return}t.flags&32768?(we||i===1?e=!0:mi||(be&536870912)!==0?e=!1:(In=e=!0,(i===2||i===9||i===3||i===6)&&(i=zt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Nd(t,e)):Pl(t)}function Pl(e){var t=e;do{if((t.flags&32768)!==0){Nd(t,In);return}e=t.return;var n=Wg(t.alternate,t,Rn);if(n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Je===0&&(Je=5)}function Nd(e,t){do{var n=Fg(e.alternate,e);if(n!==null){n.flags&=32767,ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=n}while(e!==null);Je=6,ye=null}function Ud(e,t,n,i,u,o,f,p,b){e.cancelPendingCommit=null;do Wl();while(it!==0);if((Re&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=du,Hp(e,n,o,f,p,b),e===Be&&(ye=Be=null,be=0),gi=t,Fn=e,xn=n,wo=o,Eo=u,Sd=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hy(La,function(){return qd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=k.T,k.T=null,u=Y.p,Y.p=2,f=Re,Re|=4;try{ey(e,t,n)}finally{Re=f,Y.p=u,k.T=i}}it=1,kd(),Dd(),zd()}}function kd(){if(it===1){it=0;var e=Fn,t=gi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null;var i=Y.p;Y.p=2;var u=Re;Re|=4;try{dd(t,e);var o=Bo,f=vh(e.containerInfo),p=o.focusedElem,b=o.selectionRange;if(f!==p&&p&&p.ownerDocument&&yh(p.ownerDocument.documentElement,p)){if(b!==null&&uu(p)){var j=b.start,D=b.end;if(D===void 0&&(D=j),"selectionStart"in p)p.selectionStart=j,p.selectionEnd=Math.min(D,p.value.length);else{var B=p.ownerDocument||document,x=B&&B.defaultView||window;if(x.getSelection){var U=x.getSelection(),J=p.textContent.length,ae=Math.min(b.start,J),De=b.end===void 0?ae:Math.min(b.end,J);!U.extend&&ae>De&&(f=De,De=ae,ae=f);var T=gh(p,ae),w=gh(p,De);if(T&&w&&(U.rangeCount!==1||U.anchorNode!==T.node||U.anchorOffset!==T.offset||U.focusNode!==w.node||U.focusOffset!==w.offset)){var O=B.createRange();O.setStart(T.node,T.offset),U.removeAllRanges(),ae>De?(U.addRange(O),U.extend(w.node,w.offset)):(O.setEnd(w.node,w.offset),U.addRange(O))}}}}for(B=[],U=p;U=U.parentNode;)U.nodeType===1&&B.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<B.length;p++){var M=B[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}cr=!!qo,Bo=qo=null}finally{Re=u,Y.p=i,k.T=n}}e.current=t,it=2}}function Dd(){if(it===2){it=0;var e=Fn,t=gi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=k.T,k.T=null;var i=Y.p;Y.p=2;var u=Re;Re|=4;try{ud(e,t.alternate,t)}finally{Re=u,Y.p=i,k.T=n}}it=3}}function zd(){if(it===4||it===3){it=0,tl();var e=Fn,t=gi,n=xn,i=Sd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,gi=Fn=null,Md(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Wn=null),Vr(n),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(fa,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=k.T,u=Y.p,Y.p=2,k.T=null;try{for(var o=e.onRecoverableError,f=0;f<i.length;f++){var p=i[f];o(p.value,{componentStack:p.stack})}}finally{k.T=t,Y.p=u}}(xn&3)!==0&&Wl(),hn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===To?Es++:(Es=0,To=e):Es=0,Ts(0)}}function Md(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,is(t)))}function Wl(){return kd(),Dd(),zd(),qd()}function qd(){if(it!==5)return!1;var e=Fn,t=wo;wo=0;var n=Vr(xn),i=k.T,u=Y.p;try{Y.p=32>n?32:n,k.T=null,n=Eo,Eo=null;var o=Fn,f=xn;if(it=0,gi=Fn=null,xn=0,(Re&6)!==0)throw Error(r(331));var p=Re;if(Re|=4,vd(o.current),pd(o,o.current,f,n),Re=p,Ts(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(fa,o)}catch{}return!0}finally{Y.p=u,k.T=i,Md(e,t)}}function Bd(e,t,n){t=Yt(n,t),t=to(e.stateNode,t,2),e=Qn(e,t,2),e!==null&&(Ki(e,2),hn(e))}function Ce(e,t,n){if(e.tag===3)Bd(e,e,n);else for(;t!==null;){if(t.tag===3){Bd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wn===null||!Wn.has(i))){e=Yt(n,e),n=Lf(2),i=Qn(t,n,2),i!==null&&(Hf(n,i,t,e),Ki(i,2),hn(i));break}}t=t.return}}function jo(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new ay;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(n)||(_o=!0,u.add(n),e=uy.bind(null,e,t,n),t.then(e,e))}function uy(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Be===e&&(be&n)===n&&(Je===4||Je===3&&(be&62914560)===be&&300>_t()-Ql?(Re&2)===0&&yi(e,0):bo|=n,pi===be&&(pi=0)),hn(e)}function Ld(e,t){t===0&&(t=Vi()),e=ya(e,t),e!==null&&(Ki(e,t),hn(e))}function oy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ld(e,n)}function cy(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),Ld(e,n)}function hy(e,t){return $i(e,t)}var Fl=null,_i=null,Ro=!1,er=!1,xo=!1,ta=0;function hn(e){e!==_i&&e.next===null&&(_i===null?Fl=_i=e:_i=_i.next=e),er=!0,Ro||(Ro=!0,dy())}function Ts(e,t){if(!xo&&er){xo=!0;do for(var n=!1,i=Fl;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var f=i.suspendedLanes,p=i.pingedLanes;o=(1<<31-v(42|e)+1)-1,o&=u&~(f&~p),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Vd(i,o))}else o=be,o=pt(i,i===Be?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||qn(i,o)||(n=!0,Vd(i,o));i=i.next}while(n);xo=!1}}function fy(){Hd()}function Hd(){er=Ro=!1;var e=0;ta!==0&&Ey()&&(e=ta);for(var t=_t(),n=null,i=Fl;i!==null;){var u=i.next,o=$d(i,t);o===0?(i.next=null,n===null?Fl=u:n.next=u,u===null&&(_i=n)):(n=i,(e!==0||(o&3)!==0)&&(er=!0)),i=u}it!==0&&it!==5||Ts(e),ta!==0&&(ta=0)}function $d(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-v(o),p=1<<f,b=u[f];b===-1?((p&n)===0||(p&i)!==0)&&(u[f]=il(p,t)):b<=t&&(e.expiredLanes|=p),o&=~p}if(t=Be,n=be,n=pt(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ba(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||qn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ba(i),Vr(n)){case 2:case 8:n=al;break;case 32:n=La;break;case 268435456:n=Gi;break;default:n=La}return i=Gd.bind(null,e),n=$i(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ba(i),e.callbackPriority=2,e.callbackNode=null,2}function Gd(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Wl()&&e.callbackNode!==n)return null;var i=be;return i=pt(e,e===Be?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Ed(e,i,t),$d(e,_t()),e.callbackNode!=null&&e.callbackNode===n?Gd.bind(null,e):null)}function Vd(e,t){if(Wl())return null;Ed(e,t,!0)}function dy(){Ay(function(){(Re&6)!==0?$i(nl,fy):Hd()})}function Co(){if(ta===0){var e=ii;e===0&&(e=Me,Me<<=1,(Me&261888)===0&&(Me=256)),ta=e}return ta}function Kd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ul(""+e)}function Yd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function my(e,t,n,i,u){if(t==="submit"&&n&&n.stateNode===u){var o=Kd((u[Et]||null).action),f=i.submitter;f&&(t=(t=f[Et]||null)?Kd(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var p=new fl("action","action",null,i,u);e.push({event:p,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ta!==0){var b=f?Yd(u,f):new FormData(u);Zu(n,{pending:!0,data:b,method:u.method,action:o},null,b)}}else typeof o=="function"&&(p.preventDefault(),b=f?Yd(u,f):new FormData(u),Zu(n,{pending:!0,data:b,method:u.method,action:o},o,b))},currentTarget:u}]})}}for(var No=0;No<fu.length;No++){var Uo=fu[No],py=Uo.toLowerCase(),gy=Uo[0].toUpperCase()+Uo.slice(1);Ft(py,"on"+gy)}Ft(Sh,"onAnimationEnd"),Ft(wh,"onAnimationIteration"),Ft(Eh,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Ug,"onTransitionRun"),Ft(kg,"onTransitionStart"),Ft(Dg,"onTransitionCancel"),Ft(Th,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function Qd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var f=i.length-1;0<=f;f--){var p=i[f],b=p.instance,j=p.currentTarget;if(p=p.listener,b!==o&&u.isPropagationStopped())break e;o=p,u.currentTarget=j;try{o(u)}catch(D){pl(D)}u.currentTarget=null,o=b}else for(f=0;f<i.length;f++){if(p=i[f],b=p.instance,j=p.currentTarget,p=p.listener,b!==o&&u.isPropagationStopped())break e;o=p,u.currentTarget=j;try{o(u)}catch(D){pl(D)}u.currentTarget=null,o=b}}}}function ve(e,t){var n=t[Kr];n===void 0&&(n=t[Kr]=new Set);var i=e+"__bubble";n.has(i)||(Xd(t,e,2,!1),n.add(i))}function ko(e,t,n){var i=0;t&&(i|=4),Xd(n,e,i,t)}var tr="_reactListening"+Math.random().toString(36).slice(2);function Do(e){if(!e[tr]){e[tr]=!0,Lc.forEach(function(n){n!=="selectionchange"&&(yy.has(n)||ko(n,!1,e),ko(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tr]||(t[tr]=!0,ko("selectionchange",!1,t))}}function Xd(e,t,n,i){switch(wm(t)){case 2:var u=Yy;break;case 8:u=Qy;break;default:u=Zo}n=u.bind(null,t,n,e),u=void 0,!Fr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function zo(e,t,n,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var p=i.stateNode.containerInfo;if(p===u)break;if(f===4)for(f=i.return;f!==null;){var b=f.tag;if((b===3||b===4)&&f.stateNode.containerInfo===u)return;f=f.return}for(;p!==null;){if(f=$a(p),f===null)return;if(b=f.tag,b===5||b===6||b===26||b===27){i=o=f;continue e}p=p.parentNode}}i=i.return}Pc(function(){var j=o,D=Pr(n),B=[];e:{var x=Ah.get(e);if(x!==void 0){var U=fl,J=e;switch(e){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":U=cg;break;case"focusin":J="focus",U=au;break;case"focusout":J="blur",U=au;break;case"beforeblur":case"afterblur":U=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=dg;break;case Sh:case wh:case Eh:U=tg;break;case Th:U=pg;break;case"scroll":case"scrollend":U=Ip;break;case"wheel":U=yg;break;case"copy":case"cut":case"paste":U=ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=nh;break;case"toggle":case"beforetoggle":U=_g}var ae=(t&4)!==0,De=!ae&&(e==="scroll"||e==="scrollend"),T=ae?x!==null?x+"Capture":null:x;ae=[];for(var w=j,O;w!==null;){var M=w;if(O=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||O===null||T===null||(M=Xi(w,T),M!=null&&ae.push(Os(w,M,O))),De)break;w=w.return}0<ae.length&&(x=new U(x,J,null,n,D),B.push({event:x,listeners:ae}))}}if((t&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",x&&n!==Ir&&(J=n.relatedTarget||n.fromElement)&&($a(J)||J[Ha]))break e;if((U||x)&&(x=D.window===D?D:(x=D.ownerDocument)?x.defaultView||x.parentWindow:window,U?(J=n.relatedTarget||n.toElement,U=j,J=J?$a(J):null,J!==null&&(De=h(J),ae=J.tag,J!==De||ae!==5&&ae!==27&&ae!==6)&&(J=null)):(U=null,J=j),U!==J)){if(ae=eh,M="onMouseLeave",T="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ae=nh,M="onPointerLeave",T="onPointerEnter",w="pointer"),De=U==null?x:Qi(U),O=J==null?x:Qi(J),x=new ae(M,w+"leave",U,n,D),x.target=De,x.relatedTarget=O,M=null,$a(D)===j&&(ae=new ae(T,w+"enter",J,n,D),ae.target=O,ae.relatedTarget=De,M=ae),De=M,U&&J)t:{for(ae=vy,T=U,w=J,O=0,M=T;M;M=ae(M))O++;M=0;for(var te=w;te;te=ae(te))M++;for(;0<O-M;)T=ae(T),O--;for(;0<M-O;)w=ae(w),M--;for(;O--;){if(T===w||w!==null&&T===w.alternate){ae=T;break t}T=ae(T),w=ae(w)}ae=null}else ae=null;U!==null&&Jd(B,x,U,ae,!1),J!==null&&De!==null&&Jd(B,De,J,ae,!0)}}e:{if(x=j?Qi(j):window,U=x.nodeName&&x.nodeName.toLowerCase(),U==="select"||U==="input"&&x.type==="file")var Oe=ch;else if(uh(x))if(hh)Oe=xg;else{Oe=jg;var I=Og}else U=x.nodeName,!U||U.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?j&&Zr(j.elementType)&&(Oe=ch):Oe=Rg;if(Oe&&(Oe=Oe(e,j))){oh(B,Oe,n,D);break e}I&&I(e,x,j),e==="focusout"&&j&&x.type==="number"&&j.memoizedProps.value!=null&&Jr(x,"number",x.value)}switch(I=j?Qi(j):window,e){case"focusin":(uh(I)||I.contentEditable==="true")&&(Ia=I,ou=j,ts=null);break;case"focusout":ts=ou=Ia=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,_h(B,n,D);break;case"selectionchange":if(Ng)break;case"keydown":case"keyup":_h(B,n,D)}var me;if(su)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Za?lh(e,n)&&(Se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Se="onCompositionStart");Se&&(ah&&n.locale!=="ko"&&(Za||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Za&&(me=Wc()):(Ln=D,eu="value"in Ln?Ln.value:Ln.textContent,Za=!0)),I=nr(j,Se),0<I.length&&(Se=new th(Se,e,null,n,D),B.push({event:Se,listeners:I}),me?Se.data=me:(me=rh(n),me!==null&&(Se.data=me)))),(me=Sg?wg(e,n):Eg(e,n))&&(Se=nr(j,"onBeforeInput"),0<Se.length&&(I=new th("onBeforeInput","beforeinput",null,n,D),B.push({event:I,listeners:Se}),I.data=me)),my(B,e,j,n,D)}Qd(B,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nr(e,t){for(var n=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Xi(e,n),u!=null&&i.unshift(Os(e,u,o)),u=Xi(e,t),u!=null&&i.push(Os(e,u,o))),e.tag===3)return i;e=e.return}return[]}function vy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jd(e,t,n,i,u){for(var o=t._reactName,f=[];n!==null&&n!==i;){var p=n,b=p.alternate,j=p.stateNode;if(p=p.tag,b!==null&&b===i)break;p!==5&&p!==26&&p!==27||j===null||(b=j,u?(j=Xi(n,o),j!=null&&f.unshift(Os(n,j,b))):u||(j=Xi(n,o),j!=null&&f.push(Os(n,j,b)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var _y=/\r\n?/g,by=/\u0000|\uFFFD/g;function Zd(e){return(typeof e=="string"?e:""+e).replace(_y,`
`).replace(by,"")}function Id(e,t){return t=Zd(t),Zd(e)===t}function ke(e,t,n,i,u,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Qa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Qa(e,""+i);break;case"className":ll(e,"class",i);break;case"tabIndex":ll(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ll(e,n,i);break;case"style":Zc(e,i,o);break;case"data":if(t!=="object"){ll(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ul(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ke(e,t,"name",u.name,u,null),ke(e,t,"formEncType",u.formEncType,u,null),ke(e,t,"formMethod",u.formMethod,u,null),ke(e,t,"formTarget",u.formTarget,u,null)):(ke(e,t,"encType",u.encType,u,null),ke(e,t,"method",u.method,u,null),ke(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ul(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=mn);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=ul(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ve("beforetoggle",e),ve("toggle",e),sl(e,"popover",i);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":sl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Jp.get(n)||n,sl(e,n,i))}}function Mo(e,t,n,i,u,o){switch(n){case"style":Zc(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Qa(e,i):(typeof i=="number"||typeof i=="bigint")&&Qa(e,""+i);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"onClick":i!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[Et]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,u);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):sl(e,n,i)}}}function ft(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var i=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var f=n[o];if(f!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ke(e,t,o,f,n,null)}}u&&ke(e,t,"srcSet",n.srcSet,n,null),i&&ke(e,t,"src",n.src,n,null);return;case"input":ve("invalid",e);var p=o=f=u=null,b=null,j=null;for(i in n)if(n.hasOwnProperty(i)){var D=n[i];if(D!=null)switch(i){case"name":u=D;break;case"type":f=D;break;case"checked":b=D;break;case"defaultChecked":j=D;break;case"value":o=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:ke(e,t,i,D,n,null)}}Yc(e,o,p,b,j,f,u,!1);return;case"select":ve("invalid",e),i=f=o=null;for(u in n)if(n.hasOwnProperty(u)&&(p=n[u],p!=null))switch(u){case"value":o=p;break;case"defaultValue":f=p;break;case"multiple":i=p;default:ke(e,t,u,p,n,null)}t=o,n=f,e.multiple=!!i,t!=null?Ya(e,!!i,t,!1):n!=null&&Ya(e,!!i,n,!0);return;case"textarea":ve("invalid",e),o=u=i=null;for(f in n)if(n.hasOwnProperty(f)&&(p=n[f],p!=null))switch(f){case"value":i=p;break;case"defaultValue":u=p;break;case"children":o=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:ke(e,t,f,p,n,null)}Xc(e,i,u,o);return;case"option":for(b in n)n.hasOwnProperty(b)&&(i=n[b],i!=null)&&(b==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":ke(e,t,b,i,n,null));return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(i=0;i<As.length;i++)ve(As[i],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in n)if(n.hasOwnProperty(j)&&(i=n[j],i!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ke(e,t,j,i,n,null)}return;default:if(Zr(t)){for(D in n)n.hasOwnProperty(D)&&(i=n[D],i!==void 0&&Mo(e,t,D,i,n,void 0));return}}for(p in n)n.hasOwnProperty(p)&&(i=n[p],i!=null&&ke(e,t,p,i,n,null))}function Sy(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,f=null,p=null,b=null,j=null,D=null;for(U in n){var B=n[U];if(n.hasOwnProperty(U)&&B!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":b=B;default:i.hasOwnProperty(U)||ke(e,t,U,null,i,B)}}for(var x in i){var U=i[x];if(B=n[x],i.hasOwnProperty(x)&&(U!=null||B!=null))switch(x){case"type":o=U;break;case"name":u=U;break;case"checked":j=U;break;case"defaultChecked":D=U;break;case"value":f=U;break;case"defaultValue":p=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:U!==B&&ke(e,t,x,U,i,B)}}Xr(e,f,p,b,j,D,o,u);return;case"select":U=f=p=x=null;for(o in n)if(b=n[o],n.hasOwnProperty(o)&&b!=null)switch(o){case"value":break;case"multiple":U=b;default:i.hasOwnProperty(o)||ke(e,t,o,null,i,b)}for(u in i)if(o=i[u],b=n[u],i.hasOwnProperty(u)&&(o!=null||b!=null))switch(u){case"value":x=o;break;case"defaultValue":p=o;break;case"multiple":f=o;default:o!==b&&ke(e,t,u,o,i,b)}t=p,n=f,i=U,x!=null?Ya(e,!!n,x,!1):!!i!=!!n&&(t!=null?Ya(e,!!n,t,!0):Ya(e,!!n,n?[]:"",!1));return;case"textarea":U=x=null;for(p in n)if(u=n[p],n.hasOwnProperty(p)&&u!=null&&!i.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:ke(e,t,p,null,i,u)}for(f in i)if(u=i[f],o=n[f],i.hasOwnProperty(f)&&(u!=null||o!=null))switch(f){case"value":x=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&ke(e,t,f,u,i,o)}Qc(e,x,U);return;case"option":for(var J in n)x=n[J],n.hasOwnProperty(J)&&x!=null&&!i.hasOwnProperty(J)&&(J==="selected"?e.selected=!1:ke(e,t,J,null,i,x));for(b in i)x=i[b],U=n[b],i.hasOwnProperty(b)&&x!==U&&(x!=null||U!=null)&&(b==="selected"?e.selected=x&&typeof x!="function"&&typeof x!="symbol":ke(e,t,b,x,i,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in n)x=n[ae],n.hasOwnProperty(ae)&&x!=null&&!i.hasOwnProperty(ae)&&ke(e,t,ae,null,i,x);for(j in i)if(x=i[j],U=n[j],i.hasOwnProperty(j)&&x!==U&&(x!=null||U!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,t));break;default:ke(e,t,j,x,i,U)}return;default:if(Zr(t)){for(var De in n)x=n[De],n.hasOwnProperty(De)&&x!==void 0&&!i.hasOwnProperty(De)&&Mo(e,t,De,void 0,i,x);for(D in i)x=i[D],U=n[D],!i.hasOwnProperty(D)||x===U||x===void 0&&U===void 0||Mo(e,t,D,x,i,U);return}}for(var T in n)x=n[T],n.hasOwnProperty(T)&&x!=null&&!i.hasOwnProperty(T)&&ke(e,t,T,null,i,x);for(B in i)x=i[B],U=n[B],!i.hasOwnProperty(B)||x===U||x==null&&U==null||ke(e,t,B,x,i,U)}function Pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var u=n[i],o=u.transferSize,f=u.initiatorType,p=u.duration;if(o&&p&&Pd(f)){for(f=0,p=u.responseEnd,i+=1;i<n.length;i++){var b=n[i],j=b.startTime;if(j>p)break;var D=b.transferSize,B=b.initiatorType;D&&Pd(B)&&(b=b.responseEnd,f+=D*(b<p?1:(p-j)/(b-j)))}if(--i,t+=8*(o+f)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qo=null,Bo=null;function ar(e){return e.nodeType===9?e:e.ownerDocument}function Wd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ho=null;function Ey(){var e=window.event;return e&&e.type==="popstate"?e===Ho?!1:(Ho=e,!0):(Ho=null,!1)}var em=typeof setTimeout=="function"?setTimeout:void 0,Ty=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,Ay=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(e){return tm.resolve(null).then(e).catch(Oy)}:em;function Oy(e){setTimeout(function(){throw e})}function na(e){return e==="head"}function nm(e,t){var n=t,i=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(u),Ei(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")js(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,js(n);for(var o=n.firstChild;o;){var f=o.nextSibling,p=o.nodeName;o[Yi]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=f}}else n==="body"&&js(e.ownerDocument.body);n=u}while(n);Ei(t)}function am(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function $o(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$o(n),Yr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function jy(e,t,n,i){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Yi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=It(e.nextSibling),e===null)break}return null}function Ry(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=It(e.nextSibling),e===null))return null;return e}function im(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=It(e.nextSibling),e===null))return null;return e}function Go(e){return e.data==="$?"||e.data==="$~"}function Vo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ko=null;function sm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return It(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function rm(e,t,n){switch(t=ar(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function js(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yr(e)}var Pt=new Map,um=new Set;function ir(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=Y.d;Y.d={f:Cy,r:Ny,D:Uy,C:ky,L:Dy,m:zy,X:qy,S:My,M:By};function Cy(){var e=Cn.f(),t=Zl();return e||t}function Ny(e){var t=Ga(e);t!==null&&t.tag===5&&t.type==="form"?Af(t):Cn.r(e)}var bi=typeof document>"u"?null:document;function om(e,t,n){var i=bi;if(i&&typeof t=="string"&&t){var u=Vt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),um.has(u)||(um.add(u),e={rel:e,crossOrigin:n,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),ft(t,"link",e),lt(t),i.head.appendChild(t)))}}function Uy(e){Cn.D(e),om("dns-prefetch",e,null)}function ky(e,t){Cn.C(e,t),om("preconnect",e,t)}function Dy(e,t,n){Cn.L(e,t,n);var i=bi;if(i&&e&&t){var u='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Vt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Vt(n.imageSizes)+'"]')):u+='[href="'+Vt(e)+'"]';var o=u;switch(t){case"style":o=Si(e);break;case"script":o=wi(e)}Pt.has(o)||(e=A({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Pt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(Rs(o))||t==="script"&&i.querySelector(xs(o))||(t=i.createElement("link"),ft(t,"link",e),lt(t),i.head.appendChild(t)))}}function zy(e,t){Cn.m(e,t);var n=bi;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Vt(i)+'"][href="'+Vt(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=wi(e)}if(!Pt.has(o)&&(e=A({rel:"modulepreload",href:e},t),Pt.set(o,e),n.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xs(o)))return}i=n.createElement("link"),ft(i,"link",e),lt(i),n.head.appendChild(i)}}}function My(e,t,n){Cn.S(e,t,n);var i=bi;if(i&&e){var u=Va(i).hoistableStyles,o=Si(e);t=t||"default";var f=u.get(o);if(!f){var p={loading:0,preload:null};if(f=i.querySelector(Rs(o)))p.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Pt.get(o))&&Yo(e,n);var b=f=i.createElement("link");lt(b),ft(b,"link",e),b._p=new Promise(function(j,D){b.onload=j,b.onerror=D}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,sr(f,t,i)}f={type:"stylesheet",instance:f,count:1,state:p},u.set(o,f)}}}function qy(e,t){Cn.X(e,t);var n=bi;if(n&&e){var i=Va(n).hoistableScripts,u=wi(e),o=i.get(u);o||(o=n.querySelector(xs(u)),o||(e=A({src:e,async:!0},t),(t=Pt.get(u))&&Qo(e,t),o=n.createElement("script"),lt(o),ft(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function By(e,t){Cn.M(e,t);var n=bi;if(n&&e){var i=Va(n).hoistableScripts,u=wi(e),o=i.get(u);o||(o=n.querySelector(xs(u)),o||(e=A({src:e,async:!0,type:"module"},t),(t=Pt.get(u))&&Qo(e,t),o=n.createElement("script"),lt(o),ft(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function cm(e,t,n,i){var u=(u=de.current)?ir(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Si(n.href),n=Va(u).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Si(n.href);var o=Va(u).hoistableStyles,f=o.get(e);if(f||(u=u.ownerDocument||u,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=u.querySelector(Rs(e)))&&!o._p&&(f.instance=o,f.state.loading=5),Pt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Pt.set(e,n),o||Ly(u,e,n,f.state))),t&&i===null)throw Error(r(528,""));return f}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wi(n),n=Va(u).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Si(e){return'href="'+Vt(e)+'"'}function Rs(e){return'link[rel="stylesheet"]['+e+"]"}function hm(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Ly(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ft(t,"link",n),lt(t),e.head.appendChild(t))}function wi(e){return'[src="'+Vt(e)+'"]'}function xs(e){return"script[async]"+e}function fm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Vt(n.href)+'"]');if(i)return t.instance=i,lt(i),i;var u=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),lt(i),ft(i,"style",u),sr(i,n.precedence,e),t.instance=i;case"stylesheet":u=Si(n.href);var o=e.querySelector(Rs(u));if(o)return t.state.loading|=4,t.instance=o,lt(o),o;i=hm(n),(u=Pt.get(u))&&Yo(i,u),o=(e.ownerDocument||e).createElement("link"),lt(o);var f=o;return f._p=new Promise(function(p,b){f.onload=p,f.onerror=b}),ft(o,"link",i),t.state.loading|=4,sr(o,n.precedence,e),t.instance=o;case"script":return o=wi(n.src),(u=e.querySelector(xs(o)))?(t.instance=u,lt(u),u):(i=n,(u=Pt.get(o))&&(i=A({},n),Qo(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),lt(u),ft(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,sr(i,n.precedence,e));return t.instance}function sr(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,f=0;f<i.length;f++){var p=i[f];if(p.dataset.precedence===t)o=p;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Yo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var lr=null;function dm(e,t,n){if(lr===null){var i=new Map,u=lr=new Map;u.set(n,i)}else u=lr,i=u.get(n),i||(i=new Map,u.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[Yi]||o[ut]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var p=i.get(f);p?p.push(o):i.set(f,[o])}}return i}function mm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Hy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function pm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $y(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Si(i.href),o=t.querySelector(Rs(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=rr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,lt(o);return}o=t.ownerDocument||t,i=hm(i),(u=Pt.get(u))&&Yo(i,u),o=o.createElement("link"),lt(o);var f=o;f._p=new Promise(function(p,b){f.onload=p,f.onerror=b}),ft(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=rr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Xo=0;function Gy(e,t){return e.stylesheets&&e.count===0&&or(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&or(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Xo===0&&(Xo=62500*wy());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&or(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Xo?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function rr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)or(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ur=null;function or(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ur=new Map,t.forEach(Vy,e),ur=null,rr.call(e))}function Vy(e,t){if(!(t.state.loading&4)){var n=ur.get(e);if(n)var i=n.get(null);else{n=new Map,ur.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var f=u[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),i=f)}i&&n.set(null,i)}u=t.instance,f=u.getAttribute("data-precedence"),o=n.get(f)||i,o===i&&n.set(null,u),n.set(f,u),this.count++,i=rr.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Cs={$$typeof:L,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Ky(e,t,n,i,u,o,f,p,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function gm(e,t,n,i,u,o,f,p,b,j,D,B){return e=new Ky(e,t,n,f,b,j,D,B,p),t=1,o===!0&&(t|=24),o=Dt(3,null,null,t),e.current=o,o.stateNode=e,t=Au(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},xu(o),e}function ym(e){return e?(e=Fa,e):Fa}function vm(e,t,n,i,u,o){u=ym(u),i.context===null?i.context=u:i.pendingContext=u,i=Yn(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Qn(e,i,t),n!==null&&(xt(n,e,t),us(n,e,t))}function _m(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jo(e,t){_m(e,t),(e=e.alternate)&&_m(e,t)}function bm(e){if(e.tag===13||e.tag===31){var t=ya(e,67108864);t!==null&&xt(t,e,67108864),Jo(e,67108864)}}function Sm(e){if(e.tag===13||e.tag===31){var t=Lt();t=Gr(t);var n=ya(e,t);n!==null&&xt(n,e,t),Jo(e,t)}}var cr=!0;function Yy(e,t,n,i){var u=k.T;k.T=null;var o=Y.p;try{Y.p=2,Zo(e,t,n,i)}finally{Y.p=o,k.T=u}}function Qy(e,t,n,i){var u=k.T;k.T=null;var o=Y.p;try{Y.p=8,Zo(e,t,n,i)}finally{Y.p=o,k.T=u}}function Zo(e,t,n,i){if(cr){var u=Io(i);if(u===null)zo(e,t,i,hr,n),Em(e,i);else if(Jy(u,e,t,n,i))i.stopPropagation();else if(Em(e,i),t&4&&-1<Xy.indexOf(e)){for(;u!==null;){var o=Ga(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=qe(o.pendingLanes);if(f!==0){var p=o;for(p.pendingLanes|=2,p.entangledLanes|=2;f;){var b=1<<31-v(f);p.entanglements[1]|=b,f&=~b}hn(o),(Re&6)===0&&(Xl=_t()+500,Ts(0))}}break;case 31:case 13:p=ya(o,2),p!==null&&xt(p,o,2),Zl(),Jo(o,2)}if(o=Io(i),o===null&&zo(e,t,i,hr,n),o===u)break;u=o}u!==null&&i.stopPropagation()}else zo(e,t,i,null,n)}}function Io(e){return e=Pr(e),Po(e)}var hr=null;function Po(e){if(hr=null,e=$a(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hr=e,null}function wm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qr()){case nl:return 2;case al:return 8;case La:case Br:return 32;case Gi:return 268435456;default:return 32}default:return 32}}var Wo=!1,aa=null,ia=null,sa=null,Ns=new Map,Us=new Map,la=[],Xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Em(e,t){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function ks(e,t,n,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=Ga(t),t!==null&&bm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Jy(e,t,n,i,u){switch(t){case"focusin":return aa=ks(aa,e,t,n,i,u),!0;case"dragenter":return ia=ks(ia,e,t,n,i,u),!0;case"mouseover":return sa=ks(sa,e,t,n,i,u),!0;case"pointerover":var o=u.pointerId;return Ns.set(o,ks(Ns.get(o)||null,e,t,n,i,u)),!0;case"gotpointercapture":return o=u.pointerId,Us.set(o,ks(Us.get(o)||null,e,t,n,i,u)),!0}return!1}function Tm(e){var t=$a(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,qc(e.priority,function(){Sm(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,qc(e.priority,function(){Sm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Io(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ir=i,n.target.dispatchEvent(i),Ir=null}else return t=Ga(n),t!==null&&bm(t),e.blockedOn=n,!1;t.shift()}return!0}function Am(e,t,n){fr(e)&&n.delete(t)}function Zy(){Wo=!1,aa!==null&&fr(aa)&&(aa=null),ia!==null&&fr(ia)&&(ia=null),sa!==null&&fr(sa)&&(sa=null),Ns.forEach(Am),Us.forEach(Am)}function dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Wo||(Wo=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Zy)))}var mr=null;function Om(e){mr!==e&&(mr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){mr===e&&(mr=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(Po(i||n)===null)continue;break}var o=Ga(n);o!==null&&(e.splice(t,3),t-=3,Zu(o,{pending:!0,data:u,method:n.method,action:i},i,u))}}))}function Ei(e){function t(b){return dr(b,e)}aa!==null&&dr(aa,e),ia!==null&&dr(ia,e),sa!==null&&dr(sa,e),Ns.forEach(t),Us.forEach(t);for(var n=0;n<la.length;n++){var i=la[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<la.length&&(n=la[0],n.blockedOn===null);)Tm(n),n.blockedOn===null&&la.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var u=n[i],o=n[i+1],f=u[Et]||null;if(typeof o=="function")f||Om(n);else if(f){var p=null;if(o&&o.hasAttribute("formAction")){if(u=o,f=o[Et]||null)p=f.formAction;else if(Po(u)!==null)continue}else p=f.action;typeof p=="function"?n[i+1]=p:(n.splice(i,3),i-=3),Om(n)}}}function jm(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(f){return u=f})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Fo(e){this._internalRoot=e}pr.prototype.render=Fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,i=Lt();vm(n,i,e,t,null,null)},pr.prototype.unmount=Fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vm(e.current,2,null,e,null,null),Zl(),t[Ha]=null}};function pr(e){this._internalRoot=e}pr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<la.length&&t!==0&&t<la[n].priority;n++);la.splice(n,0,e),n===0&&Tm(e)}};var Rm=a.version;if(Rm!=="19.2.4")throw Error(r(527,Rm,"19.2.4"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Iy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gr.isDisabled&&gr.supportsFiber)try{fa=gr.inject(Iy),bt=gr}catch{}}return zs.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,i="",u=zf,o=Mf,f=qf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=gm(e,1,!1,null,null,n,i,null,u,o,f,jm),e[Ha]=t.current,Do(e),new Fo(t)},zs.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var i=!1,u="",o=zf,f=Mf,p=qf,b=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.formState!==void 0&&(b=n.formState)),t=gm(e,1,!0,t,n??null,i,u,b,o,f,p,jm),t.context=ym(null),n=t.current,i=Lt(),i=Gr(i),u=Yn(i),u.callback=null,Qn(n,u,i),n=i,t.current.lanes=n,Ki(t,n),hn(t),e[Ha]=t.current,Do(e),new pr(t)},zs.version="19.2.4",zs}var Bm;function lv(){if(Bm)return tc.exports;Bm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),tc.exports=sv(),tc.exports}var rv=lv(),ce=Cc();const uv=["https://solar.huawei.com/admin/asset/v1/pro/view/9005a18da2964ba2a0541ce4fbae4bef.pdf","https://solar.huawei.com/-/media/Solar/attachment/pdf/la/datasheet/SUN2000-30-40KTL-M3.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/1e029d00296a4b87a9823fd083db547e.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/ada802421c674daa9047aeec9d28a710.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/ada802421c674daa9047aeec9d28a710.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/download?p=%2F-%2Fmedia%2FSolarV4%2Fsolar-version2%2Feurope%2Fro%2Fprofessionals%2Fall-products%2Fproduct%2FLUNA2000-5-10-15-S0%2Fsupport%2FLUNA2000-5-10-15-S0-datasheet.pdf","https://solar.huawei.com/download?p=%2F-%2Fmedia%2FSolarV4%2Fsolar-version2%2Feurope%2Fro%2Fprofessionals%2Fall-products%2Fproduct%2FLUNA2000-5-10-15-S0%2Fsupport%2FLUNA2000-5-10-15-S0-datasheet.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/422945b897cd4c1fb5ce16e2c7931240.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/37973b9d0ac64f8bbac4d5dce45cda84.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/95c57a958fd54fdda8a6fa0c7f71c8d4.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/a1adf14392d644c1b432f62ea10fa0ff.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/a1adf14392d644c1b432f62ea10fa0ff.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/79676c3a0de542bf8e6ff9da6d177138.pdf","https://download.huawei.com/edownload/e/download.do?actionFlag=download&nid=EDOC1100020897&partNo=6001&mid=SUPE_DOC","https://download.huawei.com/edownload/e/download.do?actionFlag=download&nid=EDOC1100020897&partNo=6001&mid=SUPE_DOC","https://solar.huawei.com/admin/asset/v1/pro/view/7304f2b9c528458a98f242a8c4c3f672.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/7304f2b9c528458a98f242a8c4c3f672.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/38e8d9d6fdd44185abd71acfc620aa90.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/e3397de6d77c49ce903bea8a2dda7d06.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/fae1d0d46364459191f51ff78db88c3b.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/40f074ec410d44a6a23afb10d55b18a4.pdf"],ov=[{pattern:/SUN2000-100KTL-M2/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/9005a18da2964ba2a0541ce4fbae4bef.pdf"},{pattern:/SUN2000-(12|15|17|20|25)K-MB0/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf"},{pattern:/SUN2000-(5|6|8|10|12)K-MAP0/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf"},{pattern:/SUN2000-30KTL-M3/i,url:"https://solar.huawei.com/-/media/Solar/attachment/pdf/la/datasheet/SUN2000-30-40KTL-M3.pdf"},{pattern:/SUN2000-6KTL-L1/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/1e029d00296a4b87a9823fd083db547e.pdf"},{pattern:/SUN2000-(8|10)K-LC0/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/ada802421c674daa9047aeec9d28a710.pdf"}],dp=(s,a)=>{const l=uv[a-1];return l||(ov.find(c=>c.pattern.test(s))?.url??null)},_c="https://yohand-byte.github.io/huawei-pricing-calculator/",cv=s=>Math.round(s*100)/100,hv=s=>{const a=s.toLowerCase();return a.includes("luna")||a.includes("battery")?"Batteries":a.includes("panel")||a.includes("pv module")?"Solar Panels":a.includes("sun2000")?"Inverters":"Accessories"},fv=s=>s.trim().replace(/\s+/g," "),Ms=(s,a,l)=>{const r=s.match(new RegExp(`${a}:\\s*([0-9]+(?:\\.[0-9]+)?)`));return r?Number(r[1]):l},dv=s=>{const a=s.match(/const\s+defaultLocalCharges\s*=\s*\[([\s\S]*?)\];/);if(!a)return 0;const l=/\{[\s\S]*?amountAED:\s*([0-9.]+)[\s\S]*?included:\s*(true|false)[\s\S]*?\}/g;let r=0,c=l.exec(a[1]);for(;c;)c[2]==="true"&&(r+=Number(c[1])),c=l.exec(a[1]);return r},mv=s=>{const a=s.match(/const\s+shippingProductsSeed\s*=\s*\[([\s\S]*?)\];/);if(!a)return[];const l=a[1],r=/\{\s*no:\s*(\d+),\s*description:\s*'([^']+)',\s*qty:\s*(\d+),\s*unitPriceUSD:\s*([0-9.]+)/g,c=[];let h=0;const d=[];let m=r.exec(l);for(;m;){const K=Number(m[1]),L=fv(m[2]),Z=Number(m[3]),Te=Number(m[4]);h+=Z,d.push({order:K,ref:L,qty:Z,unitPriceUSD:Te}),m=r.exec(l)}const y=Ms(s,"exchangeRate",1),g=Ms(s,"freightQuoteEUR",0),S=Ms(s,"customsCostsEUR",0),A=Ms(s,"containerCount",1),R=Ms(s,"aedToUsdRate",3.6725),C=dv(s),q=R>0?C/R*y:0,G=(g+S+q)*A,V=h>0?G/h:0;for(const K of d)c.find(L=>L.ref===K.ref)||c.push({ref:K.ref,buy_price_unit:cv(K.unitPriceUSD*y+V),category:hv(K.ref),initial_stock:K.qty,order:K.order,datasheet_url:dp(K.ref,K.order),source:"remote"});return c},pv=async()=>{const s=await fetch(_c,{cache:"no-store"});if(!s.ok)throw new Error(`Catalog fetch failed (${s.status})`);const a=await s.text();return mv(a)},Di=s=>s.map((a,l)=>{const r=Number.isFinite(a.order)&&a.order>0?a.order:l+1,c=dp(a.ref,r);return{...a,order:r,datasheet_url:c??a.datasheet_url??null}}),gv=[{min:0,max:5e3,stripe:.0399,wire:.0519},{min:5e3,max:1e4,stripe:.0365,wire:.0474},{min:1e4,max:25e3,stripe:.0314,wire:.0393},{min:25e3,max:8e4,stripe:.0261,wire:.0326},{min:8e4,max:15e4,stripe:.0179,wire:.0206},{min:15e4,max:null,stripe:.0103,wire:.0118}],yv=[{min:0,max:5e3,stripe:.0299,wire:.0389},{min:5e3,max:1e4,stripe:.0276,wire:.0359},{min:1e4,max:25e3,stripe:.0226,wire:.0282},{min:25e3,max:8e4,stripe:.0181,wire:.0226},{min:8e4,max:15e4,stripe:.0131,wire:.0151},{min:15e4,max:null,stripe:.0084,wire:.0097}],vv=[{min:0,max:5e3,stripe:.0488,wire:.0634},{min:5e3,max:1e4,stripe:.0421,wire:.0547},{min:1e4,max:25e3,stripe:.0363,wire:.0454},{min:25e3,max:8e4,stripe:.0301,wire:.0376},{min:8e4,max:1e5,stripe:.0206,wire:.0237},{min:1e5,max:null,stripe:.0119,wire:.0137}],qs=(s,a)=>s==="Solartraders"&&a==="Solar Panels",He=s=>Math.round((Number.isFinite(s)?s:0)*100)/100,_v=s=>Number.isFinite(s)?s<=0?He(s):Math.ceil(s*100)/100:0,bv=(s,a)=>a.find(r=>{const c=s>=r.min,h=r.max===null||s<r.max;return c&&h})??a[a.length-1],Sv=s=>s==="Solar Panels"?yv:s==="Accessories"?vv:gv,wv=s=>`${He(s*100)}%`,Ev=(s,a,l)=>{const r=bv(l,Sv(s)),c=a==="Wire"?r.wire:r.stripe,h=a==="Stripe"?5:0,d=l*c;return{commission_rate_display:wv(c),commission_eur:a==="Stripe"?_v(d):He(d),payment_fee:h}},Tv=(s,a,l)=>{if(s!=="Solar Panels")return{commission_rate_display:"5%",commission_eur:He(a*.05),payment_fee:0};const r=l??0;return r>=1e6?{commission_rate_display:"1 cent/Wp",commission_eur:He(r*.01),payment_fee:0}:{commission_rate_display:"1.5 cent/Wp",commission_eur:He(r*.015),payment_fee:0}},Av=({channel:s,category:a,payment_method:l,transaction_value:r,power_wp:c})=>s==="Sun.store"?Ev(a,l,r):s==="Solartraders"?Tv(a,r,c):{commission_rate_display:"0%",commission_eur:0,payment_fee:0},qa=s=>{const a=He(s.quantity*s.sell_price_unit_ht),l=He(a+s.shipping_charged),r=Av({channel:s.channel,category:s.category,payment_method:s.payment_method,transaction_value:l,power_wp:s.power_wp}),c=He(l-r.commission_eur-r.payment_fee),h=He(s.quantity*s.buy_price_unit+s.shipping_real),d=He(l-h),m=He(c-h),y=l<=0?0:He(m/l*100);return{sell_total_ht:a,transaction_value:l,commission_rate_display:r.commission_rate_display,commission_eur:r.commission_eur,payment_fee:r.payment_fee,net_received:c,total_cost:h,gross_margin:d,net_margin:m,net_margin_pct:y}},mp=s=>/[";\n]/.test(s)?`"${s.replaceAll('"','""')}"`:s,Ye=s=>s==null?"":String(s),Ov=s=>{const a=["id","date","client_or_tx","channel","customer_country","product_ref","quantity","sell_price_unit_ht","sell_price_unit_ttc","sell_total_ht","shipping_charged","shipping_charged_ttc","shipping_real","shipping_real_ttc","transaction_value","payment_method","category","buy_price_unit","power_wp","commission_rate_display","commission_eur","payment_fee","net_received","total_cost","gross_margin","net_margin","net_margin_pct","attachments_count","created_at","updated_at"],l=s.map(r=>[r.id,r.date,r.client_or_tx,r.channel,Ye(r.customer_country),r.product_ref,Ye(r.quantity),Ye(r.sell_price_unit_ht),Ye(r.sell_price_unit_ttc),Ye(r.sell_total_ht),Ye(r.shipping_charged),Ye(r.shipping_charged_ttc),Ye(r.shipping_real),Ye(r.shipping_real_ttc),Ye(r.transaction_value),r.payment_method,r.category,Ye(r.buy_price_unit),Ye(r.power_wp),r.commission_rate_display,Ye(r.commission_eur),Ye(r.payment_fee),Ye(r.net_received),Ye(r.total_cost),Ye(r.gross_margin),Ye(r.net_margin),Ye(r.net_margin_pct),Ye(r.attachments.length),r.created_at,r.updated_at]);return[a,...l].map(r=>r.map(c=>mp(String(c))).join(";")).join(`
`)},jv=(s,a)=>{const l=["order","reference","category","buy_price_unit_eur","stock_initial","stock_current","status","datasheet_url"],r=s.map(c=>{const h=a[c.ref]??c.initial_stock,d=h<=0?"Rupture":h<=5?"Stock faible":"OK";return[Ye(c.order),c.ref,c.category,Ye(c.buy_price_unit),Ye(c.initial_stock),Ye(h),d,Ye(c.datasheet_url)]});return[l,...r].map(c=>c.map(h=>mp(String(h))).join(";")).join(`
`)},pp=(s,a,l)=>{const r=new Blob([l],{type:a}),c=document.createElement("a");c.href=URL.createObjectURL(r),c.download=s,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(c.href)},Lm=(s,a)=>{pp(s,"text/csv;charset=utf-8",a)},Rv=(s,a)=>{pp(s,"application/json;charset=utf-8",JSON.stringify(a,null,2))},lc=s=>{const a=new Date;return a.setDate(a.getDate()+s),a.toISOString().slice(0,10)},rc=()=>[],xv=[{date:lc(-2),client_or_tx:"TX-1001",channel:"Sun.store",customer_country:"France",product_ref:"SUN2000-12K-MB0",quantity:2,sell_price_unit_ht:1490,sell_price_unit_ttc:1788,shipping_charged:120,shipping_charged_ttc:144,shipping_real:80,shipping_real_ttc:96,payment_method:"Wire",category:"Inverters",buy_price_unit:1317,power_wp:null,attachments:rc()},{date:lc(-1),client_or_tx:"ST-2001",channel:"Solartraders",customer_country:"Belgique",product_ref:"HUAWEI-PANEL-550WP",quantity:100,sell_price_unit_ht:58,sell_price_unit_ttc:null,shipping_charged:300,shipping_charged_ttc:null,shipping_real:220,shipping_real_ttc:null,payment_method:"Wire",category:"Solar Panels",buy_price_unit:45,power_wp:55e4,attachments:rc()},{date:lc(0),client_or_tx:"DIR-3001",channel:"Direct",customer_country:"France",product_ref:"Smart dongle SDongleA-05",quantity:5,sell_price_unit_ht:70,sell_price_unit_ttc:84,shipping_charged:25,shipping_charged_ttc:30,shipping_real:20,shipping_real_ttc:24,payment_method:"Cash",category:"Accessories",buy_price_unit:41,power_wp:null,attachments:rc()}],Cv=()=>xv.map((s,a)=>{const l=new Date().toISOString();return{id:`seed-${a+1}`,...s,...qa(s),created_at:l,updated_at:l}}),Bs=5,uc=(s,a)=>{const l={};for(const r of s)l[r.ref]=r.initial_stock;for(const r of a)l[r.product_ref]!==void 0&&(l[r.product_ref]=l[r.product_ref]-r.quantity);return l},We={sales:"sales_margin_tracker_sales_v1",catalog:"sales_margin_tracker_catalog_v2",stock:"sales_margin_tracker_stock_v2",backup:"sales_margin_tracker_backup_v2"},gp=()=>typeof window<"u"&&typeof localStorage<"u",kn=(s,a)=>{if(!gp())return a;try{const l=localStorage.getItem(s);return l?JSON.parse(l):a}catch{return a}},Ct=(s,a)=>{gp()&&localStorage.setItem(s,JSON.stringify(a))},yr=(s,a,l)=>({generated_at:new Date().toISOString(),sales:s,catalog:a,stock:l});function Ur(s,a){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&a.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(s);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(s,r[c])&&(l[r[c]]=s[r[c]]);return l}function Nv(s,a,l,r){function c(h){return h instanceof l?h:new l(function(d){d(h)})}return new(l||(l=Promise))(function(h,d){function m(S){try{g(r.next(S))}catch(A){d(A)}}function y(S){try{g(r.throw(S))}catch(A){d(A)}}function g(S){S.done?h(S.value):c(S.value).then(m,y)}g((r=r.apply(s,a||[])).next())})}const Uv=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class Nc extends Error{constructor(a,l="FunctionsError",r){super(a),this.name=l,this.context=r}}class kv extends Nc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Hm extends Nc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class $m extends Nc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var bc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(bc||(bc={}));class Dv{constructor(a,{headers:l={},customFetch:r,region:c=bc.Any}={}){this.url=a,this.headers=l,this.region=c,this.fetch=Uv(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Nv(this,arguments,void 0,function*(l,r={}){var c;let h,d;try{const{headers:m,method:y,body:g,signal:S,timeout:A}=r;let R={},{region:C}=r;C||(C=this.region);const q=new URL(`${this.url}/${l}`);C&&C!=="any"&&(R["x-region"]=C,q.searchParams.set("forceFunctionRegion",C));let $;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(R["Content-Type"]="application/octet-stream",$=g):typeof g=="string"?(R["Content-Type"]="text/plain",$=g):typeof FormData<"u"&&g instanceof FormData?$=g:(R["Content-Type"]="application/json",$=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?$=JSON.stringify(g):$=g;let G=S;A&&(d=new AbortController,h=setTimeout(()=>d.abort(),A),S?(G=d.signal,S.addEventListener("abort",()=>d.abort())):G=d.signal);const V=yield this.fetch(q.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},R),this.headers),m),body:$,signal:G}).catch(Te=>{throw new kv(Te)}),K=V.headers.get("x-relay-error");if(K&&K==="true")throw new Hm(V);if(!V.ok)throw new $m(V);let L=((c=V.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Z;return L==="application/json"?Z=yield V.json():L==="application/octet-stream"||L==="application/pdf"?Z=yield V.blob():L==="text/event-stream"?Z=V:L==="multipart/form-data"?Z=yield V.formData():Z=yield V.text(),{data:Z,error:null,response:V}}catch(m){return{data:null,error:m,response:m instanceof $m||m instanceof Hm?m.context:void 0}}finally{h&&clearTimeout(h)}})}}var zv=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Mv=class{constructor(s){var a,l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let d=null,m=null,y=null,g=h.status,S=h.statusText;if(h.ok){var A,R;if(l.method!=="HEAD"){var C;const V=await h.text();V===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((C=l.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?m=V:m=JSON.parse(V))}const $=(A=l.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),G=(R=h.headers.get("content-range"))===null||R===void 0?void 0:R.split("/");$&&G&&G.length>1&&(y=parseInt(G[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(m)&&(m.length>1?(d={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,g=406,S="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var q;const $=await h.text();try{d=JSON.parse($),Array.isArray(d)&&h.status===404&&(m=[],d=null,g=200,S="OK")}catch{h.status===404&&$===""?(g=204,S="No Content"):d={message:$}}if(d&&l.isMaybeSingle&&(!(d==null||(q=d.details)===null||q===void 0)&&q.includes("0 rows"))&&(d=null,g=200,S="OK"),d&&l.shouldThrowOnError)throw new zv(d)}return{error:d,data:m,count:y,status:g,statusText:S}});return this.shouldThrowOnError||(c=c.catch(h=>{var d;let m="",y="",g="";const S=h?.cause;if(S){var A,R,C,q;const V=(A=S?.message)!==null&&A!==void 0?A:"",K=(R=S?.code)!==null&&R!==void 0?R:"";m=`${(C=h?.name)!==null&&C!==void 0?C:"FetchError"}: ${h?.message}`,m+=`

Caused by: ${(q=S?.name)!==null&&q!==void 0?q:"Error"}: ${V}`,K&&(m+=` (${K})`),S?.stack&&(m+=`
${S.stack}`)}else{var $;m=($=h?.stack)!==null&&$!==void 0?$:""}const G=this.url.toString().length;return h?.name==="AbortError"||h?.code==="ABORT_ERR"?(g="",y="Request was aborted (timeout or manual cancellation)",G>this.urlLengthLimit&&(y+=`. Note: Your request URL is ${G} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(S?.name==="HeadersOverflowError"||S?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",y="HTTP headers exceeded server limits (typically 16KB)",G>this.urlLengthLimit&&(y+=`. Your request URL is ${G} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:m,hint:y,code:g},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}},qv=class extends Mv{select(s){let a=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!a?"":(r==='"'&&(a=!a),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const h=c?`${c}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,h=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(h,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:h="text"}={}){var d;const m=[s?"analyze":null,a?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Gm=new RegExp("[,()]");var Ni=class extends qv{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&Gm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&Gm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}},Bv=class{constructor(s,{headers:a={},schema:l,fetch:r,urlLengthLimit:c=8e3}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=r,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,a){const{head:l=!1,count:r}=a??{},c=l?"HEAD":"GET";let h=!1;const d=(s??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join(""),{url:m,headers:y}=this.cloneRequestState();return m.searchParams.set("select",d),r&&y.append("Prefer",`count=${r}`),new Ni({method:c,url:m,headers:y,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:a,defaultToNull:l=!0}={}){var r;const c="POST",{url:h,headers:d}=this.cloneRequestState();if(a&&d.append("Prefer",`count=${a}`),l||d.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(m.length>0){const y=[...new Set(m)].map(g=>`"${g}"`);h.searchParams.set("columns",y.join(","))}}return new Ni({method:c,url:h,headers:d,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var h;const d="POST",{url:m,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),r&&y.append("Prefer",`count=${r}`),c||y.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((S,A)=>S.concat(Object.keys(A)),[]);if(g.length>0){const S=[...new Set(g)].map(A=>`"${A}"`);m.searchParams.set("columns",S.join(","))}}return new Ni({method:d,url:m,headers:y,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:a}={}){var l;const r="PATCH",{url:c,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new Ni({method:r,url:c,headers:h,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var a;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new Ni({method:l,url:r,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function Qs(s){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Qs(s)}function Lv(s,a){if(Qs(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Hv(s){var a=Lv(s,"string");return Qs(a)=="symbol"?a:a+""}function $v(s,a,l){return(a=Hv(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Vm(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function vr(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Vm(Object(l),!0).forEach(function(r){$v(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Vm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}var Gv=class yp{constructor(a,{headers:l={},schema:r,fetch:c,timeout:h,urlLengthLimit:d=8e3}={}){this.url=a,this.headers=new Headers(l),this.schemaName=r,this.urlLengthLimit=d;const m=c??globalThis.fetch;h!==void 0&&h>0?this.fetch=(y,g)=>{const S=new AbortController,A=setTimeout(()=>S.abort(),h),R=g?.signal;if(R){if(R.aborted)return clearTimeout(A),m(y,g);const C=()=>{clearTimeout(A),S.abort()};return R.addEventListener("abort",C,{once:!0}),m(y,vr(vr({},g),{},{signal:S.signal})).finally(()=>{clearTimeout(A),R.removeEventListener("abort",C)})}return m(y,vr(vr({},g),{},{signal:S.signal})).finally(()=>clearTimeout(A))}:this.fetch=m}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Bv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new yp(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,l={},{head:r=!1,get:c=!1,count:h}={}){var d;let m;const y=new URL(`${this.url}/rpc/${a}`);let g;const S=C=>C!==null&&typeof C=="object"&&(!Array.isArray(C)||C.some(S)),A=r&&Object.values(l).some(S);A?(m="POST",g=l):r||c?(m=r?"HEAD":"GET",Object.entries(l).filter(([C,q])=>q!==void 0).map(([C,q])=>[C,Array.isArray(q)?`{${q.join(",")}}`:`${q}`]).forEach(([C,q])=>{y.searchParams.append(C,q)})):(m="POST",g=l);const R=new Headers(this.headers);return A?R.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&R.set("Prefer",`count=${h}`),new Ni({method:m,url:y,headers:R,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class Vv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const r=this.getWebSocketConstructor();return new r(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Kv="2.95.3",Yv=`realtime-js/${Kv}`,Qv="1.0.0",vp="2.0.0",Km=vp,Sc=1e4,Xv=1e3,Jv=100;var oa;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(oa||(oa={}));var st;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(st||(st={}));var sn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(sn||(sn={}));var wc;(function(s){s.websocket="websocket"})(wc||(wc={}));var Da;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Da||(Da={}));class Zv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let r=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(a,l,r){var c,h;const d=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",y=(h=a.join_ref)!==null&&h!==void 0?h:"",g=a.payload.event,S=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},A=Object.keys(S).length===0?"":JSON.stringify(S);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`metadata length ${A.length} exceeds maximum of 255`);const R=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+m.length+d.length+g.length+A.length,C=new ArrayBuffer(this.HEADER_LENGTH+R);let q=new DataView(C),$=0;q.setUint8($++,this.KINDS.userBroadcastPush),q.setUint8($++,y.length),q.setUint8($++,m.length),q.setUint8($++,d.length),q.setUint8($++,g.length),q.setUint8($++,A.length),q.setUint8($++,l),Array.from(y,V=>q.setUint8($++,V.charCodeAt(0))),Array.from(m,V=>q.setUint8($++,V.charCodeAt(0))),Array.from(d,V=>q.setUint8($++,V.charCodeAt(0))),Array.from(g,V=>q.setUint8($++,V.charCodeAt(0))),Array.from(A,V=>q.setUint8($++,V.charCodeAt(0)));var G=new Uint8Array(C.byteLength+r.byteLength);return G.set(new Uint8Array(C),0),G.set(new Uint8Array(r),C.byteLength),G.buffer}decode(a,l){if(this._isArrayBuffer(a)){let r=this._binaryDecode(a);return l(r)}if(typeof a=="string"){const r=JSON.parse(a),[c,h,d,m,y]=r;return l({join_ref:c,ref:h,topic:d,event:m,payload:y})}return l({})}_binaryDecode(a){const l=new DataView(a),r=l.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,l,c)}_decodeUserBroadcast(a,l,r){const c=l.getUint8(1),h=l.getUint8(2),d=l.getUint8(3),m=l.getUint8(4);let y=this.HEADER_LENGTH+4;const g=r.decode(a.slice(y,y+c));y=y+c;const S=r.decode(a.slice(y,y+h));y=y+h;const A=r.decode(a.slice(y,y+d));y=y+d;const R=a.slice(y,a.byteLength),C=m===this.JSON_ENCODING?JSON.parse(r.decode(R)):R,q={type:this.BROADCAST_EVENT,event:S,payload:C};return d>0&&(q.meta=JSON.parse(A)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:q}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([r])=>l.includes(r)))}}class _p{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Le||(Le={}));const Ym=(s,a,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return a?Object.keys(a).reduce((h,d)=>(h[d]=Iv(d,s,a,c),h),{}):{}},Iv=(s,a,l,r)=>{const c=a.find(m=>m.name===s),h=c?.type,d=l[s];return h&&!r.includes(h)?bp(h,d):Ec(d)},bp=(s,a)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return e_(a,l)}switch(s){case Le.bool:return Pv(a);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return Wv(a);case Le.json:case Le.jsonb:return Fv(a);case Le.timestamp:return t_(a);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Ec(a);default:return Ec(a)}},Ec=s=>s,Pv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Wv=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},Fv=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},e_=(s,a)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let h;const d=s.slice(1,l);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(m=>bp(a,m))}return s},t_=s=>typeof s=="string"?s.replace(" ","T"):s,Sp=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class oc{constructor(a,l,r={},c=Sc){this.channel=a,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var r;return this._hasReceived(a)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Qm;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Qm||(Qm={}));class Ks{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:h,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ks.syncState(this.state,c,h,d),this.pendingDiffs.forEach(y=>{this.state=Ks.syncDiff(this.state,y,h,d)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},c=>{const{onJoin:h,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ks.syncDiff(this.state,c,h,d),m())}),this.onJoin((c,h,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:d})}),this.onLeave((c,h,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,r,c){const h=this.cloneDeep(a),d=this.transformState(l),m={},y={};return this.map(h,(g,S)=>{d[g]||(y[g]=S)}),this.map(d,(g,S)=>{const A=h[g];if(A){const R=S.map(G=>G.presence_ref),C=A.map(G=>G.presence_ref),q=S.filter(G=>C.indexOf(G.presence_ref)<0),$=A.filter(G=>R.indexOf(G.presence_ref)<0);q.length>0&&(m[g]=q),$.length>0&&(y[g]=$)}else m[g]=S}),this.syncDiff(h,{joins:m,leaves:y},r,c)}static syncDiff(a,l,r,c){const{joins:h,leaves:d}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(h,(m,y)=>{var g;const S=(g=a[m])!==null&&g!==void 0?g:[];if(a[m]=this.cloneDeep(y),S.length>0){const A=a[m].map(C=>C.presence_ref),R=S.filter(C=>A.indexOf(C.presence_ref)<0);a[m].unshift(...R)}r(m,S,y)}),this.map(d,(m,y)=>{let g=a[m];if(!g)return;const S=y.map(A=>A.presence_ref);g=g.filter(A=>S.indexOf(A.presence_ref)<0),a[m]=g,c(m,g,y),g.length===0&&delete a[m]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(r=>l(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,r)=>{const c=a[r];return"metas"in c?l[r]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):l[r]=c,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Xm||(Xm={}));var Ys;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ys||(Ys={}));var Nn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Nn||(Nn={}));class zi{constructor(a,l={config:{}},r){var c,h;if(this.topic=a,this.params=l,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new oc(this,sn.join,this.params,this.timeout),this.rejoinTimer=new _p(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sn.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new Ks(this),this.broadcastEndpointURL=Sp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var r,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:d,presence:m,private:y}}=this.params,g=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(C=>C.filter))!==null&&c!==void 0?c:[],S=!!this.bindings[Ys.PRESENCE]&&this.bindings[Ys.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,A={},R={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:S}),postgres_changes:g,private:y};this.socket.accessTokenValue&&(A.access_token=this.socket.accessTokenValue),this._onError(C=>a?.(Nn.CHANNEL_ERROR,C)),this._onClose(()=>a?.(Nn.CLOSED)),this.updateJoinPayload(Object.assign({config:R},A)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:C})=>{var q;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){a?.(Nn.SUBSCRIBED);return}else{const $=this.bindings.postgres_changes,G=(q=$?.length)!==null&&q!==void 0?q:0,V=[];for(let K=0;K<G;K++){const L=$[K],{filter:{event:Z,schema:Te,table:he,filter:W}}=L,$e=C&&C[K];if($e&&$e.event===Z&&zi.isFilterValueEqual($e.schema,Te)&&zi.isFilterValueEqual($e.table,he)&&zi.isFilterValueEqual($e.filter,W))V.push(Object.assign(Object.assign({},L),{id:$e.id}));else{this.unsubscribe(),this.state=st.errored,a?.(Nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,a&&a(Nn.SUBSCRIBED);return}}).receive("error",C=>{this.state=st.errored,a?.(Nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{a?.(Nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,r){return this.state===st.joined&&a===Ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,r)}async httpSend(a,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const g=await m.json();y=g.error||g.message||y}catch{}return Promise.reject(new Error(y))}async send(a,l={}){var r,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,m,y;const g=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),g.receive("ok",()=>h("ok")),g.receive("error",()=>h("error")),g.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=st.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new oc(this,sn.leave,{},a),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(a,l,r){const c=new AbortController,h=setTimeout(()=>c.abort(),r),d=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(h),d}_push(a,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new oc(this,a,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Jv){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,r){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,r){var c,h;const d=a.toLocaleLowerCase(),{close:m,error:y,leave:g,join:S}=sn;if(r&&[m,y,g,S].indexOf(d)>=0&&r!==this._joinRef())return;let R=this._onMessage(d,l,r);if(l&&!R)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(C=>{var q,$,G;return((q=C.filter)===null||q===void 0?void 0:q.event)==="*"||((G=($=C.filter)===null||$===void 0?void 0:$.event)===null||G===void 0?void 0:G.toLocaleLowerCase())===d}).map(C=>C.callback(R,r)):(h=this.bindings[d])===null||h===void 0||h.filter(C=>{var q,$,G,V,K,L;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in C){const Z=C.id,Te=(q=C.filter)===null||q===void 0?void 0:q.event;return Z&&(($=l.ids)===null||$===void 0?void 0:$.includes(Z))&&(Te==="*"||Te?.toLocaleLowerCase()===((G=l.data)===null||G===void 0?void 0:G.type.toLocaleLowerCase()))}else{const Z=(K=(V=C?.filter)===null||V===void 0?void 0:V.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return Z==="*"||Z===((L=l?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===d}).map(C=>{if(typeof R=="object"&&"ids"in R){const q=R.data,{schema:$,table:G,commit_timestamp:V,type:K,errors:L}=q;R=Object.assign(Object.assign({},{schema:$,table:G,commit_timestamp:V,eventType:K,new:{},old:{},errors:L}),this._getPayloadRecords(q))}C.callback(R,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,r){const c=a.toLocaleLowerCase(),h={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(a,l){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&zi.isEqual(c.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const r in a)if(a[r]!==l[r])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(sn.close,{},a)}_onError(a){this._on(sn.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=Ym(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=Ym(a.columns,a.old_record)),l}}const cc=()=>{},_r={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},n_=[1e3,2e3,5e3,1e4],a_=1e4,i_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s_{constructor(a,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sc,this.transport=null,this.heartbeatIntervalMs=_r.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cc,this.ref=0,this.reconnectTimer=null,this.vsn=Km,this.logger=cc,this.conn=null,this.sendBuffer=[],this.serializer=new Zv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${wc.websocket}`,this.httpEndpoint=Sp(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return l==="ok"&&this._remove(a),this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,r){this.logger(a,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oa.connecting:return Da.Connecting;case oa.open:return Da.Open;case oa.closing:return Da.Closing;default:return Da.Closed}}isConnected(){return this.connectionState()===Da.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const r=`realtime:${a}`,c=this.getChannels().find(h=>h.topic===r);if(c)return c;{const h=new zi(`realtime:${a}`,l,this);return this.channels.push(h),h}}push(a){const{topic:l,event:r,payload:c,ref:h}=a,d=()=>{this.encode(a,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${l} ${r} (${h})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Xv,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},_r.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",g)}catch(S){this.log("error","error in heartbeat callback",S)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:h,ref:d}=l,m=d?`(${d})`:"",y=h.status||"";this.log("receive",`${y} ${r} ${c} ${m}`.trim(),h),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(c,h,d)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===oa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===oa.open||this.conn.readyState===oa.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(sn.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const r=a.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${a}${r}${c}`}_workerObjectUrl(a){let l;if(a)l=a;else{const r=new Blob([i_],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,r=!1;if(a)l=a,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const h={access_token:l,version:Yv};l&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(sn.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _p(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_r.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,r,c,h,d,m,y,g,S,A,R,C;switch(this.transport=(l=a?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=a?.timeout)!==null&&r!==void 0?r:Sc,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:_r.HEARTBEAT_INTERVAL,this.worker=(h=a?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:cc,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:Km,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(q=>n_[q-1]||a_),this.vsn){case Qv:this.encode=(S=a?.encode)!==null&&S!==void 0?S:((q,$)=>$(JSON.stringify(q))),this.decode=(A=a?.decode)!==null&&A!==void 0?A:((q,$)=>$(JSON.parse(q)));break;case vp:this.encode=(R=a?.encode)!==null&&R!==void 0?R:this.serializer.encode.bind(this.serializer),this.decode=(C=a?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Xs=class extends Error{constructor(s,a){super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function l_(s,a,l){const r=new URL(a,s);if(l)for(const[c,h]of Object.entries(l))h!==void 0&&r.searchParams.set(c,h);return r.toString()}async function r_(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function u_(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:h,headers:d}){const m=l_(s.baseUrl,r,c),y=await r_(s.auth),g=await a(m,{method:l,headers:{...h?{"Content-Type":"application/json"}:{},...y,...d},body:h?JSON.stringify(h):void 0}),S=await g.text(),A=(g.headers.get("content-type")||"").includes("application/json"),R=A&&S?JSON.parse(S):S;if(!g.ok){const C=A?R:void 0,q=C?.error;throw new Xs(q?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:q?.type,icebergCode:q?.code,details:C})}return{status:g.status,headers:g.headers,data:R}}}}function br(s){return s.join("")}var o_=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:br(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,a){const l={namespace:s.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${br(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${br(s.namespace)}`}),!0}catch(a){if(a instanceof Xs&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(l){if(l instanceof Xs&&l.status===409)return;throw l}}};function Ti(s){return s.join("")}var c_=class{constructor(s,a="",l){this.client=s,this.prefix=a,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(s,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(l){if(l instanceof Xs&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(l){if(l instanceof Xs&&l.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw l}}},h_=class{constructor(s){let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=u_({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new o_(this.client,a),this.tableOps=new c_(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},kr=class extends Error{constructor(s,a="storage",l,r){super(s),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function Dr(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Sr=class extends kr{constructor(s,a,l,r="storage"){super(s,r,a,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wp=class extends kr{constructor(s,a,l="storage"){super(s,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const f_=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),d_=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Tc=s=>{if(Array.isArray(s))return s.map(l=>Tc(l));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[c]=Tc(r)}),a},m_=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Js(s){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Js(s)}function p_(s,a){if(Js(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function g_(s){var a=p_(s,"string");return Js(a)=="symbol"?a:a+""}function y_(s,a,l){return(a=g_(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Jm(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function se(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Jm(Object(l),!0).forEach(function(r){y_(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Jm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const Zm=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},v_=async(s,a,l,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!l?.noResolveJson){const c=s,h=c.status||500;if(typeof c.json=="function")c.json().then(d=>{const m=d?.statusCode||d?.code||h+"";a(new Sr(Zm(d),h,m,r))}).catch(()=>{if(r==="vectors"){const d=h+"";a(new Sr(c.statusText||`HTTP ${h} error`,h,d,r))}else{const d=h+"";a(new Sr(c.statusText||`HTTP ${h} error`,h,d,r))}});else{const d=h+"";a(new Sr(c.statusText||`HTTP ${h} error`,h,d,r))}}else a(new wp(Zm(s),s,r))},__=(s,a,l,r)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"||s==="HEAD"||!r?se(se({},c),l):(d_(r)?(c.headers=se({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(r)):c.body=r,a?.duplex&&(c.duplex=a.duplex),se(se({},c),l))};async function Ls(s,a,l,r,c,h,d){return new Promise((m,y)=>{s(l,__(a,r,c,h)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;if(d==="vectors"){const S=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!S||!S.includes("application/json"))return{}}return g.json()}).then(g=>m(g)).catch(g=>v_(g,y,r,d))})}function Ep(s="storage"){return{get:async(a,l,r,c)=>Ls(a,"GET",l,r,c,void 0,s),post:async(a,l,r,c,h)=>Ls(a,"POST",l,c,h,r,s),put:async(a,l,r,c,h)=>Ls(a,"PUT",l,c,h,r,s),head:async(a,l,r,c)=>Ls(a,"HEAD",l,se(se({},r),{},{noResolveJson:!0}),c,void 0,s),remove:async(a,l,r,c,h)=>Ls(a,"DELETE",l,c,h,r,s)}}const b_=Ep("storage"),{get:Zs,post:an,put:Ac,head:S_,remove:Uc}=b_,$t=Ep("vectors");var qi=class{constructor(s,a={},l,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.fetch=f_(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var a=this;try{return{data:await s(),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Dr(l))return{data:null,error:l};throw l}}},w_=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Dr(a))return{data:null,error:a};throw a}}};let Tp;Tp=Symbol.toStringTag;var E_=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[Tp]="BlobDownloadBuilder",this.promise=null}asStream(){return new w_(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Dr(a))return{data:null,error:a};throw a}}};const T_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Im={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var A_=class extends qi{constructor(s,a={},l,r){super(s,a,r,"storage"),this.bucketId=l}async uploadOrUpdate(s,a,l,r){var c=this;return c.handleOperation(async()=>{let h;const d=se(se({},Im),r);let m=se(se({},c.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const y=d.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),y&&h.append("metadata",c.encodeMetadata(y)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),y&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(y))):(h=l,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,y&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),r?.headers&&(m=se(se({},m),r.headers));const g=c._removeEmptyFolders(a),S=c._getFinalPath(g),A=await(s=="PUT"?Ac:an)(c.fetch,`${c.url}/object/${S}`,h,se({headers:m},d?.duplex?{duplex:d.duplex}:{}));return{path:g,id:A.Id,fullPath:A.Key}})}async upload(s,a,l){return this.uploadOrUpdate("POST",s,a,l)}async uploadToSignedUrl(s,a,l,r){var c=this;const h=c._removeEmptyFolders(s),d=c._getFinalPath(h),m=new URL(c.url+`/object/upload/sign/${d}`);return m.searchParams.set("token",a),c.handleOperation(async()=>{let y;const g=se({upsert:Im.upsert},r),S=se(se({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&l instanceof Blob?(y=new FormData,y.append("cacheControl",g.cacheControl),y.append("",l)):typeof FormData<"u"&&l instanceof FormData?(y=l,y.append("cacheControl",g.cacheControl)):(y=l,S["cache-control"]=`max-age=${g.cacheControl}`,S["content-type"]=g.contentType),{path:h,fullPath:(await Ac(c.fetch,m.toString(),y,{headers:S})).Key}})}async createSignedUploadUrl(s,a){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(s);const c=se({},l.headers);a?.upsert&&(c["x-upsert"]="true");const h=await an(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),d=new URL(l.url+h.url),m=d.searchParams.get("token");if(!m)throw new kr("No token returned by API");return{signedUrl:d.toString(),path:s,token:m}})}async update(s,a,l){return this.uploadOrUpdate("PUT",s,a,l)}async move(s,a,l){var r=this;return r.handleOperation(async()=>await an(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:r.headers}))}async copy(s,a,l){var r=this;return r.handleOperation(async()=>({path:(await an(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,a,l){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(s),h=await an(r.fetch,`${r.url}/object/sign/${c}`,se({expiresIn:a},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${h.signedURL}${d}`)}})}async createSignedUrls(s,a,l){var r=this;return r.handleOperation(async()=>{const c=await an(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:a,paths:s},{headers:r.headers}),h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c.map(d=>se(se({},d),{},{signedUrl:d.signedURL?encodeURI(`${r.url}${d.signedURL}${h}`):null}))})}download(s,a,l){const r=typeof a?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(a?.transform||{}),h=c?`?${c}`:"",d=this._getFinalPath(s),m=()=>Zs(this.fetch,`${this.url}/${r}/${d}${h}`,{headers:this.headers,noResolveJson:!0},l);return new E_(m,this.shouldThrowOnError)}async info(s){var a=this;const l=a._getFinalPath(s);return a.handleOperation(async()=>Tc(await Zs(a.fetch,`${a.url}/object/info/${l}`,{headers:a.headers})))}async exists(s){var a=this;const l=a._getFinalPath(s);try{return await S_(a.fetch,`${a.url}/object/${l}`,{headers:a.headers}),{data:!0,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Dr(r)&&r instanceof wp){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,a){const l=this._getFinalPath(s),r=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&r.push(c);const h=typeof a?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(a?.transform||{});d!==""&&r.push(d);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${m}`)}}}async remove(s){var a=this;return a.handleOperation(async()=>await Uc(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}))}async list(s,a,l){var r=this;return r.handleOperation(async()=>{const c=se(se(se({},T_),a),{},{prefix:s||""});return await an(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l)})}async listV2(s,a){var l=this;return l.handleOperation(async()=>{const r=se({},s);return await an(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},a)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const O_="2.95.3",Fs={"X-Client-Info":`storage-js/${O_}`};var j_=class extends qi{constructor(s,a={},l,r){const c=new URL(s);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const h=c.href.replace(/\/$/,""),d=se(se({},Fs),a);super(h,d,l,"storage")}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=a.listBucketOptionsToQueryString(s);return await Zs(a.fetch,`${a.url}/bucket${l}`,{headers:a.headers})})}async getBucket(s){var a=this;return a.handleOperation(async()=>await Zs(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}))}async createBucket(s,a={public:!1}){var l=this;return l.handleOperation(async()=>await an(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async updateBucket(s,a){var l=this;return l.handleOperation(async()=>await Ac(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(s){var a=this;return a.handleOperation(async()=>await an(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Uc(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},R_=class extends qi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=se(se({},Fs),a);super(r,c,l,"storage")}async createBucket(s){var a=this;return a.handleOperation(async()=>await an(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}))}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=new URLSearchParams;s?.limit!==void 0&&l.set("limit",s.limit.toString()),s?.offset!==void 0&&l.set("offset",s.offset.toString()),s?.sortColumn&&l.set("sortColumn",s.sortColumn),s?.sortOrder&&l.set("sortOrder",s.sortOrder),s?.search&&l.set("search",s.search);const r=l.toString(),c=r?`${a.url}/bucket?${r}`:`${a.url}/bucket`;return await Zs(a.fetch,c,{headers:a.headers})})}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Uc(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}from(s){var a=this;if(!m_(s))throw new kr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new h_({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,h){const d=c[h];return typeof d!="function"?d:async(...m)=>{try{return{data:await d.apply(c,m),error:null}}catch(y){if(r)throw y;return{data:null,error:y}}}}})}},x_=class extends qi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=se(se({},Fs),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createIndex(s){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{})}async getIndex(s,a){var l=this;return l.handleOperation(async()=>await $t.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers}))}async listIndexes(s){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}))}async deleteIndex(s,a){var l=this;return l.handleOperation(async()=>await $t.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers})||{})}},C_=class extends qi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=se(se({},Fs),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async putVectors(s){var a=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{})}async getVectors(s){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}))}async listVectors(s){var a=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}))}async queryVectors(s){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}))}async deleteVectors(s){var a=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{})}},N_=class extends qi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=se(se({},Fs),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createBucket(s){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}async getBucket(s){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}))}async listBuckets(s={}){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}},U_=class extends N_{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new k_(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,l=this;return a().call(l,s)}async getBucket(s){var a=()=>super.getBucket,l=this;return a().call(l,s)}async listBuckets(s={}){var a=()=>super.listBuckets,l=this;return a().call(l,s)}async deleteBucket(s){var a=()=>super.deleteBucket,l=this;return a().call(l,s)}},k_=class extends x_{constructor(s,a,l,r){super(s,a,r),this.vectorBucketName=l}async createIndex(s){var a=()=>super.createIndex,l=this;return a().call(l,se(se({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,l=this;return a().call(l,se(se({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,l=this;return a().call(l,l.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,l=this;return a().call(l,l.vectorBucketName,s)}index(s){return new D_(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},D_=class extends C_{constructor(s,a,l,r,c){super(s,a,c),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var a=()=>super.putVectors,l=this;return a().call(l,se(se({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var a=()=>super.getVectors,l=this;return a().call(l,se(se({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,l=this;return a().call(l,se(se({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,l=this;return a().call(l,se(se({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,l=this;return a().call(l,se(se({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},z_=class extends j_{constructor(s,a={},l,r){super(s,a,l,r)}from(s){return new A_(this.url,this.headers,s,this.fetch)}get vectors(){return new U_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new R_(this.url+"/iceberg",this.headers,this.fetch)}};const Ap="2.95.3",Ui=30*1e3,Oc=3,hc=Oc*Ui,M_="http://localhost:9999",q_="supabase.auth.token",B_={"X-Client-Info":`gotrue-js/${Ap}`},jc="X-Supabase-Api-Version",Op={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H_=600*1e3;class Is extends Error{constructor(a,l,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function F(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class $_ extends Is{constructor(a,l,r){super(a,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function G_(s){return F(s)&&s.name==="AuthApiError"}class za extends Is{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}}class Dn extends Is{constructor(a,l,r,c){super(a,r,c),this.name=l,this.status=r}}class Ht extends Dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fc(s){return F(s)&&s.name==="AuthSessionMissingError"}class Ai extends Dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wr extends Dn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Er extends Dn{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function V_(s){return F(s)&&s.name==="AuthImplicitGrantRedirectError"}class Pm extends Dn{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class K_ extends Dn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Rc extends Dn{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}}function dc(s){return F(s)&&s.name==="AuthRetryableFetchError"}class Wm extends Dn{constructor(a,l,r){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class xc extends Dn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fm=` 	
\r=`.split(""),Y_=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<Fm.length;a+=1)s[Fm[a].charCodeAt(0)]=-2;for(let a=0;a<Rr.length;a+=1)s[Rr[a].charCodeAt(0)]=a;return s})();function ep(s,a,l){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(Rr[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(Rr[r]),a.queuedBits-=6}}function jp(s,a,l){const r=Y_[s];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function tp(s){const a=[],l=d=>{a.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=d=>{J_(d,r,l)};for(let d=0;d<s.length;d+=1)jp(s.charCodeAt(d),c,h);return a.join("")}function Q_(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function X_(s,a){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}Q_(r,a)}}function J_(s,a,l){if(a.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function Mi(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)jp(s.charCodeAt(c),l,r);return new Uint8Array(a)}function Z_(s){const a=[];return X_(s,l=>a.push(l)),new Uint8Array(a)}function Ma(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};return s.forEach(c=>ep(c,l,r)),ep(null,l,r),a.join("")}function I_(s){return Math.round(Date.now()/1e3)+s}function P_(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",Ca={tested:!1,writable:!1},Rp=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ca.tested)return Ca.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Ca.tested=!0,Ca.writable=!0}catch{Ca.tested=!0,Ca.writable=!1}return Ca.writable};function W_(s){const a={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,h)=>{a[h]=c})}catch{}return l.searchParams.forEach((r,c)=>{a[c]=r}),a}const xp=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),F_=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ki=async(s,a,l)=>{await s.setItem(a,JSON.stringify(l))},Na=async(s,a)=>{const l=await s.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},dt=async(s,a)=>{await s.removeItem(a)};class zr{constructor(){this.promise=new zr.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}zr.promiseConstructor=Promise;function Tr(s){const a=s.split(".");if(a.length!==3)throw new xc("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!L_.test(a[r]))throw new xc("JWT not in base64url format");return{header:JSON.parse(tp(a[0])),payload:JSON.parse(tp(a[1])),signature:Mi(a[2]),raw:{header:a[0],payload:a[1]}}}async function e0(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function t0(s,a){return new Promise((r,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await s(h);if(!a(h,null,d)){r(d);return}}catch(d){if(!a(h,d)){c(d);return}}})()})}function n0(s){return("0"+s.toString(16)).substr(-2)}function a0(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let h=0;h<56;h++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(a),Array.from(a,n0).join("")}async function i0(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function s0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await i0(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oi(s,a,l=!1){const r=a0();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await ki(s,`${a}-code-verifier`,c);const h=await s0(r);return[h,r===h?"plain":"s256"]}const l0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r0(s){const a=s.headers.get(jc);if(!a||!a.match(l0))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function u0(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function o0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const c0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(s){if(!c0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mc(){const s={};return new Proxy(s,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h0(s,a){return new Proxy(s,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!a.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,r,c)}})}function np(s){return JSON.parse(JSON.stringify(s))}const ka=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),f0=[502,503,504];async function ap(s){var a;if(!F_(s))throw new Rc(ka(s),0);if(f0.includes(s.status))throw new Rc(ka(s),s.status);let l;try{l=await s.json()}catch(h){throw new za(ka(h),h)}let r;const c=r0(s);if(c&&c.getTime()>=Op["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new Wm(ka(l),s.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new Ht}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new Wm(ka(l),s.status,l.weak_password.reasons);throw new $_(ka(l),s.status||500,r)}const d0=(s,a,l,r)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function ie(s,a,l,r){var c;const h=Object.assign({},r?.headers);h[jc]||(h[jc]=Op["2024-01-01"].name),r?.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const d=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(d.redirect_to=r.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",y=await m0(s,a,l+m,{headers:h,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(y):{data:Object.assign({},y),error:null}}async function m0(s,a,l,r,c,h){const d=d0(a,r,c,h);let m;try{m=await s(l,Object.assign({},d))}catch(y){throw console.error(y),new Rc(ka(y),0)}if(m.ok||await ap(m),r?.noResolveJson)return m;try{return await m.json()}catch(y){await ap(y)}}function nn(s){var a;let l=null;y0(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=I_(s.expires_in)));const r=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:l,user:r},error:null}}function ip(s){const a=nn(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(a.data.weak_password=s.weak_password),a}function ca(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function p0(s){return{data:s,error:null}}function g0(s){const{action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h}=s,d=Ur(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h},y=Object.assign({},d);return{data:{properties:m,user:y},error:null}}function sp(s){return s}function y0(s){return s.access_token&&s.refresh_token&&s.expires_in}const pc=["global","local","others"];class v0{constructor({url:a="",headers:l={},fetch:r}){this.url=a,this.headers=l,this.fetch=xp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=pc[0]){if(pc.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pc.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,l={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:ca})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:l}=a,r=Ur(a,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:g0,redirectTo:l?.redirectTo})}catch(l){if(F(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ca})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,r,c,h,d,m,y;try{const g={nextPage:null,lastPage:0,total:0},S=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:sp});if(S.error)throw S.error;const A=await S.json(),R=(d=S.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(y=(m=S.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return C.length>0&&(C.forEach(q=>{const $=parseInt(q.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(q.split(";")[1].split("=")[1]);g[`${G}Page`]=$}),g.total=parseInt(R)),{data:Object.assign(Object.assign({},A),g),error:null}}catch(g){if(F(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){ji(a);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ca})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){ji(a);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:ca})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,l=!1){ji(a);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:ca})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){ji(a.userId);try{const{data:l,error:r}=await ie(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(F(l))return{data:null,error:l};throw l}}async _deleteFactor(a){ji(a.userId),ji(a.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(F(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,r,c,h,d,m,y;try{const g={nextPage:null,lastPage:0,total:0},S=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:sp});if(S.error)throw S.error;const A=await S.json(),R=(d=S.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(y=(m=S.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return C.length>0&&(C.forEach(q=>{const $=parseInt(q.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(q.split(";")[1].split("=")[1]);g[`${G}Page`]=$}),g.total=parseInt(R)),{data:Object.assign(Object.assign({},A),g),error:null}}catch(g){if(F(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(F(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}}function lp(s={}){return{getItem:a=>s[a]||null,setItem:(a,l)=>{s[a]=l},removeItem:a=>{delete s[a]}}}const Ri={debug:!!(globalThis&&Rp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class _0 extends Cp{}async function b0(s,a,l){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const r=new globalThis.AbortController;return a>0&&setTimeout(()=>{r.abort(),Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await l()}finally{Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new _0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ri.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function S0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Np(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function w0(s){return parseInt(s,16)}function E0(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,r=>r.toString(16).padStart(2,"0")).join("")}function T0(s){var a;const{chainId:l,domain:r,expirationTime:c,issuedAt:h=new Date,nonce:d,notBefore:m,requestId:y,resources:g,scheme:S,uri:A,version:R}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!A)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(R!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${R}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const C=Np(s.address),q=S?`${S}://${r}`:r,$=s.statement?`${s.statement}
`:"",G=`${q} wants you to sign in with your Ethereum account:
${C}

${$}`;let V=`URI: ${A}
Version: ${R}
Chain ID: ${l}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(c&&(V+=`
Expiration Time: ${c.toISOString()}`),m&&(V+=`
Not Before: ${m.toISOString()}`),y&&(V+=`
Request ID: ${y}`),g){let K=`
Resources:`;for(const L of g){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);K+=`
- ${L}`}V+=K}return`${G}
${V}`}class at extends Error{constructor({message:a,code:l,cause:r,name:c}){var h;super(a,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=c??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=l}}class xr extends at{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function A0({error:s,options:a}){var l,r,c;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new at({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(Up(d)){if(h.rp.id!==d)return new at({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function O0({error:s,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new at({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(Up(r)){if(l.rpId!==r)return new at({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class j0{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const R0=new j0;function x0(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:l,excludeCredentials:r}=s,c=Ur(s,["challenge","user","excludeCredentials"]),h=Mi(a).buffer,d=Object.assign(Object.assign({},l),{id:Mi(l.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:h,user:d});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let y=0;y<r.length;y++){const g=r[y];m.excludeCredentials[y]=Object.assign(Object.assign({},g),{id:Mi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function C0(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:l}=s,r=Ur(s,["challenge","allowCredentials"]),c=Mi(a).buffer,h=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){h.allowCredentials=new Array(l.length);for(let d=0;d<l.length;d++){const m=l[d];h.allowCredentials[d]=Object.assign(Object.assign({},m),{id:Mi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function N0(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:Ma(new Uint8Array(s.response.attestationObject)),clientDataJSON:Ma(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function U0(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Ma(new Uint8Array(c.authenticatorData)),clientDataJSON:Ma(new Uint8Array(c.clientDataJSON)),signature:Ma(new Uint8Array(c.signature)),userHandle:c.userHandle?Ma(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Up(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function rp(){var s,a;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function k0(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new xr("Browser returned unexpected credential type",a)}:{data:null,error:new xr("Empty credential response",a)}}catch(a){return{data:null,error:A0({error:a,options:s})}}}async function D0(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new xr("Browser returned unexpected credential type",a)}:{data:null,error:new xr("Empty credential response",a)}}catch(a){return{data:null,error:O0({error:a,options:s})}}}const z0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},M0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cr(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of s)if(c)for(const h in c){const d=c[h];if(d!==void 0)if(Array.isArray(d))r[h]=d;else if(l(d))r[h]=d;else if(a(d)){const m=r[h];a(m)?r[h]=Cr(m,d):r[h]=Cr(d)}else r[h]=d}return r}function q0(s,a){return Cr(z0,s,a||{})}function B0(s,a){return Cr(M0,s,a||{})}class L0{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:r,signal:c},h){var d;try{const{data:m,error:y}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!m)return{data:null,error:y};const g=c??R0.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:S}=m.webauthn.credential_options.publicKey;if(!S.name){const A=r;if(A)S.name=`${S.id}:${A}`;else{const C=(await this.client.getUser()).data.user,q=((d=C?.user_metadata)===null||d===void 0?void 0:d.name)||C?.email||C?.id||"User";S.name=`${S.id}:${q}`}}S.displayName||(S.displayName=S.name)}switch(m.webauthn.type){case"create":{const S=q0(m.webauthn.credential_options.publicKey,h?.create),{data:A,error:R}=await k0({publicKey:S,signal:g});return A?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:A}},error:null}:{data:null,error:R}}case"request":{const S=B0(m.webauthn.credential_options.publicKey,h?.request),{data:A,error:R}=await D0(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:S,signal:g}));return A?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:A}},error:null}:{data:null,error:R}}}}catch(m){return F(m)?{data:null,error:m}:{data:null,error:new za("Unexpected error in challenge",m)}}}async _verify({challengeId:a,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:r})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new Is("rpId is required for WebAuthn authentication")};try{if(!rp())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:h});if(!d)return{data:null,error:m};const{webauthn:y}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:y.type,rpId:l,rpOrigins:r,credential_response:y.credential_response}})}catch(d){return F(d)?{data:null,error:d}:{data:null,error:new za("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new Is("rpId is required for WebAuthn registration")};try{if(!rp())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(S=>{var A;return(A=S.data)===null||A===void 0?void 0:A.all.find(R=>R.factor_type==="webauthn"&&R.friendly_name===a&&R.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:m};const{data:y,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:h});return y?this._verify({factorId:d.id,challengeId:y.challengeId,webauthn:{rpId:l,rpOrigins:r,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:g}}catch(d){return F(d)?{data:null,error:d}:{data:null,error:new za("Unexpected error in register",d)}}}}S0();const H0={url:M_,storageKey:q_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function up(s,a,l){return await l()}const xi={};class Ps{get jwks(){var a,l;return(l=(a=xi[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=xi[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{cachedAt:a})}constructor(a){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},H0),a);if(this.storageKey=h.storageKey,this.instanceID=(l=Ps.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Ps.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&mt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new v0({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=xp(h.fetch),this.lock=h.lock||up,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&mt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=b0:this.lock=up,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new L0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Rp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lp(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=lp(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ap}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},r="none";if(mt()&&(l=W_(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:h}=await this._getSessionFromURL(l,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),V_(h)){const y=(a=h.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:d,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return F(l)?this._returnResult({error:l}):this._returnResult({error:new za("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,r,c;try{const h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=a?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:nn}),{data:d,error:m}=h;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const y=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(h){if(F(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var l,r,c;try{let h;if("email"in a){const{email:S,password:A,options:R}=a;let C=null,q=null;this.flowType==="pkce"&&([C,q]=await Oi(this.storage,this.storageKey)),h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:R?.emailRedirectTo,body:{email:S,password:A,data:(l=R?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:R?.captchaToken},code_challenge:C,code_challenge_method:q},xform:nn})}else if("phone"in a){const{phone:S,password:A,options:R}=a;h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:A,data:(r=R?.data)!==null&&r!==void 0?r:{},channel:(c=R?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:R?.captchaToken}},xform:nn})}else throw new wr("You must provide either an email or phone number and a password");const{data:d,error:m}=h;if(m||!d)return await dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const y=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(h){if(await dt(this.storage,`${this.storageKey}-code-verifier`),F(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let l;if("email"in a){const{email:h,password:d,options:m}=a;l=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ip})}else if("phone"in a){const{phone:h,password:d,options:m}=a;l=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ip})}else throw new wr("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const h=new Ai;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,r,c,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,r,c,h,d,m,y,g,S,A,R;let C,q;if("message"in a)C=a.message,q=a.signature;else{const{chain:$,wallet:G,statement:V,options:K}=a;let L;if(mt())if(typeof G=="object")L=G;else{const Ge=window;if("ethereum"in Ge&&typeof Ge.ethereum=="object"&&"request"in Ge.ethereum&&typeof Ge.ethereum.request=="function")L=Ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!K?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=G}const Z=new URL((l=K?.url)!==null&&l!==void 0?l:window.location.href),Te=await L.request({method:"eth_requestAccounts"}).then(Ge=>Ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Te||Te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const he=Np(Te[0]);let W=(r=K?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!W){const Ge=await L.request({method:"eth_chainId"});W=w0(Ge)}const $e={domain:Z.host,address:he,statement:V,uri:Z.href,version:"1",chainId:W,nonce:(c=K?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(h=K?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=K?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=K?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(g=K?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(S=K?.signInWithEthereum)===null||S===void 0?void 0:S.resources};C=T0($e),q=await L.request({method:"personal_sign",params:[E0(C),he]})}try{const{data:$,error:G}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:q},!((A=a.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(R=a.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:nn});if(G)throw G;if(!$||!$.session||!$.user){const V=new Ai;return this._returnResult({data:{user:null,session:null},error:V})}return $.session&&(await this._saveSession($.session),await this._notifyAllSubscribers("SIGNED_IN",$.session)),this._returnResult({data:Object.assign({},$),error:G})}catch($){if(F($))return this._returnResult({data:{user:null,session:null},error:$});throw $}}async signInWithSolana(a){var l,r,c,h,d,m,y,g,S,A,R,C;let q,$;if("message"in a)q=a.message,$=a.signature;else{const{chain:G,wallet:V,statement:K,options:L}=a;let Z;if(mt())if(typeof V=="object")Z=V;else{const he=window;if("solana"in he&&typeof he.solana=="object"&&("signIn"in he.solana&&typeof he.solana.signIn=="function"||"signMessage"in he.solana&&typeof he.solana.signMessage=="function"))Z=he.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=V}const Te=new URL((l=L?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in Z&&Z.signIn){const he=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:Te.host,uri:Te.href}),K?{statement:K}:null));let W;if(Array.isArray(he)&&he[0]&&typeof he[0]=="object")W=he[0];else if(he&&typeof he=="object"&&"signedMessage"in he&&"signature"in he)W=he;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)q=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),$=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");q=[`${Te.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${Te.href}`,`Issued At: ${(c=(r=L?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=L?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((d=L?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((m=L?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((y=L?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((g=L?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((A=(S=L?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||A===void 0)&&A.length?["Resources",...L.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const he=await Z.signMessage(new TextEncoder().encode(q),"utf8");if(!he||!(he instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");$=he}}try{const{data:G,error:V}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:q,signature:Ma($)},!((R=a.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(C=a.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:nn});if(V)throw V;if(!G||!G.session||!G.user){const K=new Ai;return this._returnResult({data:{user:null,session:null},error:K})}return G.session&&(await this._saveSession(G.session),await this._notifyAllSubscribers("SIGNED_IN",G.session)),this._returnResult({data:Object.assign({},G),error:V})}catch(G){if(F(G))return this._returnResult({data:{user:null,session:null},error:G});throw G}}async _exchangeCodeForSession(a){const l=await Na(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new K_;const{data:h,error:d}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:nn});if(await dt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const m=new Ai;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:d})}catch(h){if(await dt(this.storage,`${this.storageKey}-code-verifier`),F(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:l,provider:r,token:c,access_token:h,nonce:d}=a,m=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:nn}),{data:y,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y||!y.session||!y.user){const S=new Ai;return this._returnResult({data:{user:null,session:null},error:S})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:g})}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,r,c,h,d;try{if("email"in a){const{email:m,options:y}=a;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await Oi(this.storage,this.storageKey));const{error:A}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(l=y?.data)!==null&&l!==void 0?l:{},create_user:(r=y?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:S},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:A})}if("phone"in a){const{phone:m,options:y}=a,{data:g,error:S}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(h=y?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(d=y?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:S})}throw new wr("You must provide either an email or phone number.")}catch(m){if(await dt(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var l,r;try{let c,h;"options"in a&&(c=(l=a.options)===null||l===void 0?void 0:l.redirectTo,h=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:m}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:nn});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const y=d.session,g=d.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(c){if(F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var l,r,c,h,d;try{let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Oi(this.storage,this.storageKey));const g=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:y}),headers:this.headers,xform:p0});return!((h=g.data)===null||h===void 0)&&h.url&&mt()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await dt(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;if(r)throw r;if(!l)throw new Ht;const{error:c}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:r,type:c,options:h}=a,{error:d}=await ie(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:r,type:c,options:h}=a,{data:d,error:m}=await ie(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:m})}throw new wr("You must provide either an email or phone number and a type")}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await Na(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const d=await Na(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=mc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=h0(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ca}):await this._useSession(async l=>{var r,c,h;const{data:d,error:m}=l;if(m)throw m;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:ca})})}catch(l){if(F(l))return fc(l)&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async r=>{const{data:c,error:h}=r;if(h)throw h;if(!c.session)throw new Ht;const d=c.session;let m=null,y=null;this.flowType==="pkce"&&a.email!=null&&([m,y]=await Oi(this.storage,this.storageKey));const{data:g,error:S}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:y}),jwt:d.access_token,xform:ca});if(S)throw S;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(r){if(await dt(this.storage,`${this.storageKey}-code-verifier`),F(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ht;const l=Date.now()/1e3;let r=l,c=!0,h=null;const{payload:d}=Tr(a.access_token);if(d.exp&&(r=d.exp,c=r<=l),c){const{data:m,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:y}=await this._getUser(a.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});h={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(l){if(F(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var r;if(!a){const{data:d,error:m}=l;if(m)throw m;a=(r=d.session)!==null&&r!==void 0?r:void 0}if(!a?.refresh_token)throw new Ht;const{data:c,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!mt())throw new Er("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Er(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Pm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Er("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Pm("No code detected.");const{data:K,error:L}=await this._exchangeCodeForSession(a.code);if(L)throw L;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:h,refresh_token:d,expires_in:m,expires_at:y,token_type:g}=a;if(!h||!m||!d||!g)throw new Er("No session defined in URL");const S=Math.round(Date.now()/1e3),A=parseInt(m);let R=S+A;y&&(R=parseInt(y));const C=R-S;C*1e3<=Ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${A}s`);const q=R-A;S-q>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",q,R,S):S-q<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",q,R,S);const{data:$,error:G}=await this._getUser(h);if(G)throw G;const V={provider_token:r,provider_refresh_token:c,access_token:h,expires_in:A,expires_at:R,refresh_token:d,token_type:g,user:$.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:a.type},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await Na(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h&&!fc(h))return this._returnResult({error:h});const d=(r=c.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:m}=await this.admin.signOut(d,a);if(m&&!(G_(m)&&(m.status===404||m.status===401||m.status===403)||fc(m)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=P_(),r={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async l=>{var r,c;try{const{data:{session:h},error:d}=l;if(d)throw d;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await Oi(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(h){if(await dt(this.storage,`${this.storageKey}-code-verifier`),F(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:r,error:c}=await this._useSession(async h=>{var d,m,y,g,S;const{data:A,error:R}=h;if(R)throw R;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",C,{headers:this.headers,jwt:(S=(g=A.session)===null||g===void 0?void 0:g.access_token)!==null&&S!==void 0?S:void 0})});if(c)throw c;return mt()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:a.provider,url:r?.url},error:null})}catch(r){if(F(r))return this._returnResult({data:{provider:a.provider,url:null},error:r});throw r}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:h}}=l;if(c)throw c;const{options:d,provider:m,token:y,access_token:g,nonce:S}=a,A=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:y,access_token:g,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:nn}),{data:R,error:C}=A;return C?this._returnResult({data:{user:null,session:null},error:C}):!R||!R.session||!R.user?this._returnResult({data:{user:null,session:null},error:new Ai}):(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("USER_UPDATED",R.session)),this._returnResult({data:R,error:C}))}catch(c){if(await dt(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var r,c;const{data:h,error:d}=l;if(d)throw d;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await t0(async c=>(c>0&&await e0(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:nn})),(c,h)=>{const d=200*Math.pow(2,c);return h&&dc(h)&&Date.now()+d-r<Ui})}catch(r){if(this._debug(l,"error",r),F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",r),mt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await Na(this.storage,this.storageKey);if(c&&this.userStorage){let d=await Na(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await ki(this.userStorage,this.storageKey+"-user",d)),c.user=(a=d?.user)!==null&&a!==void 0?a:mc()}else if(c&&!c.user&&!c.user){const d=await Na(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await dt(this.storage,this.storageKey+"-user"),await ki(this.storage,this.storageKey,c)):c.user=mc()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const h=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<hc;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${hc}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),dc(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(c.access_token);!m&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var l,r;if(!a)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new zr;const{data:h,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!h.session)throw new Ht;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={data:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(c,"error",h),F(h)){const d={data:null,error:h};return dc(h)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,l,r=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:l});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,l)}catch(y){h.push(y)}});if(await Promise.all(d),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await dt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await ki(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const h=np(c);await ki(this.storage,this.storageKey,h)}else{const c=np(l);await ki(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dt(this.storage,this.storageKey),await dt(this.storage,this.storageKey+"-code-verifier"),await dt(this.storage,this.storageKey+"-user"),this.userStorage&&await dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Ui);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-a)/Ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ui}ms, refresh threshold is ${Oc} ticks`),c<=Oc&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Cp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,d]=await Oi(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(m.toString())}if(r?.queryParams){const h=new URLSearchParams(r.queryParams);c.push(h.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;return h?this._returnResult({data:null,error:h}):await ie(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var r,c;const{data:h,error:d}=l;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:g}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=h?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?N0(a.webauthn.credential_response):U0(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:y}=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:y}))})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const d=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:x0(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:C0(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:r}=await this._challenge({factorId:a.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=l?.factors)!==null&&a!==void 0?a:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(a){var l,r,c,h;if(a)try{const{payload:C}=Tr(a);let q=null;C.aal&&(q=C.aal);let $=q;const{data:{user:G},error:V}=await this.getUser(a);if(V)return this._returnResult({data:null,error:V});((r=(l=G?.factors)===null||l===void 0?void 0:l.filter(Z=>Z.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&($="aal2");const L=C.amr||[];return{data:{currentLevel:q,nextLevel:$,currentAuthenticationMethods:L},error:null}}catch(C){if(F(C))return this._returnResult({data:null,error:C});throw C}const{data:{session:d},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=Tr(d.access_token);let g=null;y.aal&&(g=y.aal);let S=g;((h=(c=d.user.factors)===null||c===void 0?void 0:c.filter(C=>C.status==="verified"))!==null&&h!==void 0?h:[]).length>0&&(S="aal2");const R=y.amr||[];return{data:{currentLevel:g,nextLevel:S,currentAuthenticationMethods:R},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Ht});const d=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&mt()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Ht});const d=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&mt()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;return r?this._returnResult({data:null,error:r}):l?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(a){if(F(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let r=l.keys.find(m=>m.kid===a);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(m=>m.kid===a),r&&this.jwks_cached_at+H_>c)return r;const{data:h,error:d}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,r=h.keys.find(m=>m.kid===a),!r)?null:r}async getClaims(a,l={}){try{let r=a;if(!r){const{data:C,error:q}=await this.getSession();if(q||!C.session)return this._returnResult({data:null,error:q});r=C.session.access_token}const{header:c,payload:h,signature:d,raw:{header:m,payload:y}}=Tr(r);l?.allowExpired||u0(h.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!g){const{error:C}=await this.getUser(r);if(C)throw C;return{data:{claims:h,header:c,signature:d},error:null}}const S=o0(c.alg),A=await crypto.subtle.importKey("jwk",g,S,!0,["verify"]);if(!await crypto.subtle.verify(S,A,d,Z_(`${m}.${y}`)))throw new xc("Invalid JWT signature");return{data:{claims:h,header:c,signature:d},error:null}}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}}Ps.nextInstanceID={};const $0=Ps,G0="2.95.3";let Gs="";typeof Deno<"u"?Gs="deno":typeof document<"u"?Gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gs="react-native":Gs="node";const V0={"X-Client-Info":`supabase-js-${Gs}/${G0}`},K0={headers:V0},Y0={schema:"public"},Q0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},X0={};function Ws(s){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ws(s)}function J0(s,a){if(Ws(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Z0(s){var a=J0(s,"string");return Ws(a)=="symbol"?a:a+""}function I0(s,a,l){return(a=Z0(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function op(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Ze(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?op(Object(l),!0).forEach(function(r){I0(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):op(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const P0=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),W0=()=>Headers,F0=(s,a,l)=>{const r=P0(l),c=W0();return async(h,d)=>{var m;const y=(m=await a())!==null&&m!==void 0?m:s;let g=new c(d?.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${y}`),r(h,Ze(Ze({},d),{},{headers:g}))}};function eb(s){return s.endsWith("/")?s:s+"/"}function tb(s,a){var l,r;const{db:c,auth:h,realtime:d,global:m}=s,{db:y,auth:g,realtime:S,global:A}=a,R={db:Ze(Ze({},y),c),auth:Ze(Ze({},g),h),realtime:Ze(Ze({},S),d),storage:{},global:Ze(Ze(Ze({},A),m),{},{headers:Ze(Ze({},(l=A?.headers)!==null&&l!==void 0?l:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?R.accessToken=s.accessToken:delete R.accessToken,R}function nb(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eb(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ab=class extends $0{constructor(s){super(s)}},ib=class{constructor(s,a,l){var r,c;this.supabaseUrl=s,this.supabaseKey=a;const h=nb(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:Y0,realtime:X0,auth:Ze(Ze({},Q0),{},{storageKey:d}),global:K0},y=tb(l??{},m);if(this.storageKey=(r=y.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(S,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=y.auth)!==null&&g!==void 0?g:{},this.headers,y.global.fetch)}this.fetch=F0(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new Gv(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch,timeout:y.db.timeout,urlLengthLimit:y.db.urlLengthLimit}),this.storage=new z_(this.storageUrl.href,this.headers,this.fetch,l?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Dv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,l)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(a=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:h,flowType:d,lock:m,debug:y,throwOnError:g},S,A){const R={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ab({url:this.authUrl.href,headers:Ze(Ze({},R),S),storageKey:h,autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,flowType:d,lock:m,debug:y,throwOnError:g,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new s_(this.realtimeUrl.href,Ze(Ze({},s),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(s,a,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const sb=(s,a,l)=>new ib(s,a,l);function lb(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const a=s.version;if(a==null)return!1;const l=a.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}lb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kp="https://lahtdxvbcscinoxyyjgw.supabase.co".trim()??"",Dp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxhaHRkeHZiY3NjaW5veHl5amd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA4NTI3ODAsImV4cCI6MjA4NjQyODc4MH0.xk-cckHYE5hNWHCnPwRtDBonkui1ivmSxxNONC72ka0".trim()??"",zp="sales_margin_state".trim()||"sales_margin_state",Mp="huawei-sales-margin-tracker-prod".trim()||"default-store",qp=kp.length>0&&Dp.length>0;let gc=null;const Bp=()=>{if(!qp)throw new Error("Supabase non configure (VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY).");return gc||(gc=sb(kp,Dp,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}})),gc},rb=s=>{if(!s||typeof s!="object")return!1;const a=s;return typeof a.generated_at=="string"&&Array.isArray(a.sales)&&Array.isArray(a.catalog)&&!!a.stock&&typeof a.stock=="object"},cp=async()=>{const s=Bp(),{data:a,error:l}=await s.from(zp).select("id,payload,updated_at").eq("id",Mp).maybeSingle();if(l)throw new Error(l.message);if(!a)return null;if(!rb(a.payload))throw new Error("Payload cloud invalide.");return a.payload},Ar=async s=>{const a=Bp(),{data:l,error:r}=await a.from(zp).upsert({id:Mp,payload:s},{onConflict:"id"}).select("updated_at").single();if(r)throw new Error(r.message);return l.updated_at},Or=["Sun.store","Solartraders","Direct","Other"],Hs=["Inverters","Solar Panels","Batteries","Accessories"],hp=["Stripe","Wire","PayPal","Cash"],ub=["Albanie","Allemagne","Andorre","Armenie","Autriche","Azerbaidjan","Belgique","Bielorussie","Bosnie-Herzegovine","Bulgarie","Chypre","Croatie","Danemark","Espagne","Estonie","Finlande","France","Georgie","Grece","Hongrie","Irlande","Islande","Italie","Kosovo","Lettonie","Liechtenstein","Lituanie","Luxembourg","Macedoine du Nord","Malte","Moldavie","Monaco","Montenegro","Norvege","Pays-Bas","Pologne","Portugal","Republique tcheque","Roumanie","Royaume-Uni","Russie","Saint-Marin","Serbie","Slovaquie","Slovenie","Suede","Suisse","Turquie","Ukraine","Vatican"],Lp="sales_margin_tracker_theme_v1",Bi="France",ob={channel:"All",category:"All",date_from:"",date_to:"",query:"",stock_status:"all"},Vs=s=>s.toISOString().slice(0,10),jr=()=>({date:Vs(new Date),client_or_tx:"",channel:"Sun.store",customer_country:Bi,product_ref:"",quantity:1,sell_price_unit_ht:0,sell_price_unit_ttc:null,shipping_charged:0,shipping_charged_ttc:null,shipping_real:0,shipping_real_ttc:null,payment_method:"Wire",category:"Inverters",buy_price_unit:0,power_wp:null,attachments:[]}),Ee=s=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:2}).format(Number.isFinite(s)?s:0),$s=s=>`${He(s)}%`,Ua=s=>{const a=new Date(s);return Number.isNaN(a.getTime())?s:new Intl.DateTimeFormat("fr-FR",{dateStyle:"short",timeStyle:"medium"}).format(a)},fp=s=>{if(!s)return 0;const a=Date.parse(s);return Number.isFinite(a)?a:0},cb=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`sale-${Date.now()}-${Math.random().toString(36).slice(2)}`,hb=s=>({date:s.date,client_or_tx:s.client_or_tx,channel:s.channel,customer_country:s.customer_country||Bi,product_ref:s.product_ref,quantity:s.quantity,sell_price_unit_ht:s.sell_price_unit_ht,sell_price_unit_ttc:s.sell_price_unit_ttc??null,shipping_charged:s.shipping_charged,shipping_charged_ttc:s.shipping_charged_ttc??null,shipping_real:s.shipping_real,shipping_real_ttc:s.shipping_real_ttc??null,payment_method:s.payment_method,category:s.category,buy_price_unit:s.buy_price_unit,power_wp:s.power_wp,attachments:s.attachments}),fb=s=>({date:s.date,client_or_tx:s.client_or_tx,channel:s.channel,customer_country:s.customer_country||Bi,product_ref:"",quantity:1,sell_price_unit_ht:0,sell_price_unit_ttc:null,shipping_charged:0,shipping_charged_ttc:null,shipping_real:0,shipping_real_ttc:null,payment_method:s.payment_method,category:s.category,buy_price_unit:0,power_wp:null,attachments:[]}),yc=(s,a,l)=>{const r=new Date().toISOString();return{id:s,...a,...qa(a),created_at:l??r,updated_at:r}},db=s=>new Promise((a,l)=>{const r=new FileReader;r.onload=()=>{const c=typeof r.result=="string"?r.result:"",h=c.includes(",")?c.split(",")[1]:c;a({id:`${s.name}-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,name:s.name,size:s.size,mime:s.type||"application/octet-stream",base64:h})},r.onerror=()=>l(new Error("Lecture de fichier impossible.")),r.readAsDataURL(s)}),mb=s=>{const a=document.createElement("a");a.href=`data:${s.mime};base64,${s.base64}`,a.download=s.name,document.body.appendChild(a),a.click(),document.body.removeChild(a)},Ci=s=>{const a=Number(s);return Number.isFinite(a)?a:0},vc=s=>{if(s.trim()==="")return null;const a=Number(s);return Number.isFinite(a)?a:null},Un=s=>{if(s==null||s==="")return null;const a=Number(s);return Number.isFinite(a)?a:null},ua=s=>s===Bi,Nr=s=>({...s,customer_country:typeof s.customer_country=="string"&&s.customer_country.length>0?s.customer_country:Bi,sell_price_unit_ttc:Un(s.sell_price_unit_ttc),shipping_charged_ttc:Un(s.shipping_charged_ttc),shipping_real_ttc:Un(s.shipping_real_ttc)}),pb=()=>{const s=kn(We.sales,[]);if(s.length>0)return s.map(l=>{const r=Nr(l);return{...l,...r,...qa(r)}});const a=kn(We.backup,null);return a&&Array.isArray(a.sales)&&a.sales.length>0?a.sales.map(l=>{const r=Nr(l);return{...l,...r,...qa(r)}}):Cv()},gb=()=>{const s=Di(kn(We.catalog,[]));if(s.length>0)return s;const a=kn(We.backup,null);return a&&Array.isArray(a.catalog)&&a.catalog.length>0?Di(a.catalog):[]},yb=()=>{const s=kn(We.stock,{});if(Object.keys(s).length>0)return s;const a=kn(We.backup,null);return a&&a.stock&&typeof a.stock=="object"?a.stock:{}},vb=()=>{const s=kn(We.backup,null);return s&&typeof s.generated_at=="string"&&s.generated_at.length>0?s.generated_at:null},_b=()=>kn(Lp,null)==="light"?"light":"dark";function bb(){const s=qp,[a,l]=ce.useState("sales"),[r,c]=ce.useState(()=>_b()),[h,d]=ce.useState(()=>gb()),[m,y]=ce.useState(()=>pb()),[g,S]=ce.useState(()=>yb()),[A,R]=ce.useState(()=>vb()),[C,q]=ce.useState(()=>!s),[$,G]=ce.useState(()=>s?"Supabase: initialisation...":"Supabase: non configure (mode local)"),[V,K]=ce.useState(!0),[L,Z]=ce.useState(ob),[Te,he]=ce.useState(""),[W,$e]=ce.useState(!1),[Ge,zn]=ce.useState("All"),[ee,ze]=ce.useState(()=>jr()),[Wt,yt]=ce.useState(null),[Nt,k]=ce.useState(!1),[Y,ne]=ce.useState("Sync catalogue en attente..."),[Ae,re]=ce.useState(""),[E,z]=ce.useState(""),Q=ce.useRef(null),X=ce.useMemo(()=>{const v=new Map;for(const N of h)v.set(N.ref,N);return v},[h]),ue=ce.useMemo(()=>[...h].sort((v,N)=>v.ref.localeCompare(N.ref)),[h]),de=ce.useMemo(()=>[...h].sort((v,N)=>(v.order??9999)-(N.order??9999)),[h]);ce.useEffect(()=>{let v=!1;return(async()=>{ne("Sync catalogue distant...");try{const H=await pv();if(v)return;if(H.length===0){ne("Catalogue distant vide. Catalogue local conserve.");return}d(Di(H)),ne(`Catalogue sync OK: ${H.length} references.`)}catch(H){v||ne(`Echec import distant: ${String(H.message)}`)}})(),()=>{v=!0}},[]),ce.useEffect(()=>{if(!s)return;let v=!1;return(async()=>{G("Supabase: lecture du backup cloud...");try{const H=kn(We.backup,null),le=await cp();if(v)return;if(le){const Me=fp(le.generated_at),P=fp(H?.generated_at);if(!H||Me>P){const qe=le.sales.map(il=>{const Vi=Nr(il);return{...il,...Vi,...qa(Vi)}}),pt=Di(le.catalog),qn=le.stock&&typeof le.stock=="object"?le.stock:uc(pt,qe);y(qe),d(pt),S(qn),Ct(We.sales,qe),Ct(We.catalog,pt),Ct(We.stock,qn),Ct(We.backup,le),R(le.generated_at),z("Donnees Supabase restaurees."),G(`Supabase: backup cloud charge (${Ua(le.generated_at)})`)}else{const qe=await Ar(H);v||G(`Supabase: cloud aligne (${Ua(qe)})`)}}else if(H){const Me=await Ar(H);v||G(`Supabase: backup local publie (${Ua(Me)})`)}else G("Supabase: aucun backup detecte.")}catch(H){v||G(`Supabase: erreur (${String(H.message)})`)}finally{v||q(!0)}})(),()=>{v=!0}},[s]),ce.useEffect(()=>{S(uc(h,m))},[h,m]),ce.useEffect(()=>{Ct(We.sales,m)},[m]),ce.useEffect(()=>{Ct(We.catalog,h)},[h]),ce.useEffect(()=>{Ct(We.stock,g)},[g]),ce.useEffect(()=>{Ct(Lp,r)},[r]),ce.useEffect(()=>{if(!E)return;const v=window.setTimeout(()=>z(""),4e3);return()=>window.clearTimeout(v)},[E]),ce.useEffect(()=>{if(!Ae)return;const v=window.setTimeout(()=>re(""),6e3);return()=>window.clearTimeout(v)},[Ae]),ce.useEffect(()=>{const v=yr(m,h,g);Ct(We.backup,v),R(v.generated_at)},[m,h,g]),ce.useEffect(()=>{if(!s||!C)return;const v=yr(m,h,g),N=window.setTimeout(()=>{(async()=>{try{const H=await Ar(v);G(`Supabase: sync auto OK (${Ua(H)})`)}catch(H){G(`Supabase: sync auto KO (${String(H.message)})`)}})()},1200);return()=>{window.clearTimeout(N)}},[s,C,m,h,g]);const pe=ce.useMemo(()=>Wt?m.find(v=>v.id===Wt)??null:null,[Wt,m]),Ne=ce.useMemo(()=>{const v=L.query.trim().toLowerCase();return m.filter(N=>{if(L.channel!=="All"&&N.channel!==L.channel||L.category!=="All"&&N.category!==L.category||L.date_from&&N.date<L.date_from||L.date_to&&N.date>L.date_to||v&&!N.client_or_tx.toLowerCase().includes(v)&&!N.product_ref.toLowerCase().includes(v))return!1;if(L.stock_status!=="all"){const H=g[N.product_ref];return H===void 0?!1:L.stock_status==="low"?H>0&&H<=Bs:H<=0}return!0})},[L,m,g]),_e=ce.useMemo(()=>{const v=Ne.reduce((P,ge)=>P+ge.transaction_value,0),N=Ne.reduce((P,ge)=>P+ge.net_margin,0),H=Ne.reduce((P,ge)=>P+ge.commission_eur,0),le=Ne.reduce((P,ge)=>P+ge.payment_fee,0),Me=Or.map(P=>{const ge=Ne.filter(qe=>qe.channel===P);return{channel:P,count:ge.length,revenue:ge.reduce((qe,pt)=>qe+pt.transaction_value,0),netMargin:ge.reduce((qe,pt)=>qe+pt.net_margin,0),commissions:ge.reduce((qe,pt)=>qe+pt.commission_eur,0)}});return{totalRevenue:He(v),totalNetMargin:He(N),avgNetMarginPct:v>0?He(N/v*100):0,salesCount:Ne.length,totalCommissions:He(H),totalPlatformFees:He(le),breakdown:Me}},[Ne]),Mn=ce.useMemo(()=>{const v=new Map;for(const N of Ne){const H=`${N.date}::${N.client_or_tx}::${N.channel}`,le=v.get(H);if(!le){v.set(H,{date:N.date,client_or_tx:N.client_or_tx,channel:N.channel,refs:new Set([N.product_ref]),quantity:N.quantity,weighted_sell_unit_total:N.sell_price_unit_ht*N.quantity,sell_total_ht:N.sell_total_ht,transaction_value:N.transaction_value,commission_eur:N.commission_eur,payment_fee:N.payment_fee,net_received:N.net_received,net_margin:N.net_margin,attachments_count:N.attachments.length,first_sale:N});continue}le.refs.add(N.product_ref),le.quantity+=N.quantity,le.weighted_sell_unit_total+=N.sell_price_unit_ht*N.quantity,le.sell_total_ht+=N.sell_total_ht,le.transaction_value+=N.transaction_value,le.commission_eur+=N.commission_eur,le.payment_fee+=N.payment_fee,le.net_received+=N.net_received,le.net_margin+=N.net_margin,le.attachments_count+=N.attachments.length}return Array.from(v.entries()).map(([N,H])=>{const le=Array.from(H.refs),Me=le.length,P=Me===1?le[0]:`${Me} references`,ge=H.quantity>0?He(H.weighted_sell_unit_total/H.quantity):0,qe=H.transaction_value>0?He(H.net_margin/H.transaction_value*100):0;return{key:N,date:H.date,client_or_tx:H.client_or_tx,channel:H.channel,refs_count:Me,product_display:P,quantity:H.quantity,sell_price_unit_ht:ge,sell_total_ht:He(H.sell_total_ht),commission_eur:He(H.commission_eur),payment_fee:He(H.payment_fee),net_received:He(H.net_received),net_margin:He(H.net_margin),net_margin_pct:qe,attachments_count:H.attachments_count,first_sale:H.first_sale}}).sort((N,H)=>N.date!==H.date?H.date.localeCompare(N.date):N.client_or_tx.localeCompare(H.client_or_tx))},[Ne]),ha=ce.useMemo(()=>{const v=new Map;for(const N of Ne){const H=v.get(N.product_ref)??{revenue:0,qty:0};v.set(N.product_ref,{revenue:H.revenue+N.transaction_value,qty:H.qty+N.quantity})}return Array.from(v.entries()).map(([N,H])=>({product:N,...H})).sort((N,H)=>H.revenue-N.revenue).slice(0,5)},[Ne]),fn=ce.useMemo(()=>{const v=Te.trim().toLowerCase();return de.map(N=>{const H=g[N.ref]??N.initial_stock,le=H<=0?"RUPTURE":H<=Bs?"FAIBLE":"OK";return{...N,currentStock:H,status:le}}).filter(N=>Ge!=="All"&&N.category!==Ge||W&&N.currentStock>Bs?!1:v?N.ref.toLowerCase().includes(v)||N.category.toLowerCase().includes(v):!0)},[de,g,Te,W,Ge]),Li=ce.useMemo(()=>fn.filter(v=>v.currentStock<=Bs).slice(0,6),[fn]),Ut=ce.useMemo(()=>X.get(ee.product_ref.trim())??null,[X,ee.product_ref]),ln=ce.useMemo(()=>ua(ee.customer_country),[ee.customer_country]),vt=ce.useMemo(()=>qa(ee),[ee]),wt=(v,N)=>{ze(H=>({...H,[v]:N}))},el=v=>{const N=v.trim(),H=X.get(N);ze(le=>{const Me={...le,product_ref:v};return H&&(Me.buy_price_unit=H.buy_price_unit,Me.category=H.category),Me})},Hi=()=>{yt(null),ze(jr()),re(""),z(""),k(!0)},$i=v=>{yt(v.id),ze(hb(v)),re(""),z(""),k(!0)},Ba=v=>{yt(null),ze(fb(v)),re(""),z(""),k(!0)},Mr=v=>{K(!1),Z(N=>({...N,query:v.client_or_tx,channel:v.channel,date_from:v.date,date_to:v.date})),re(""),z(`Affichage detail pour ${v.client_or_tx}.`)},tl=()=>{k(!1),yt(null),ze(jr())},_t=v=>{if(!v.date)return"Date obligatoire.";if(!v.client_or_tx.trim())return"Client/TX obligatoire.";if(!v.product_ref.trim())return"Produit obligatoire.";if(!v.customer_country.trim())return"Pays client obligatoire.";if(v.quantity<=0)return"Quantite > 0 requise.";if(ua(v.customer_country)){if(v.sell_price_unit_ttc===null||v.sell_price_unit_ttc<0)return"Prix vente unit. TTC obligatoire pour client France.";if(v.shipping_charged_ttc===null||v.shipping_charged_ttc<0)return"Prix frais de port TTC obligatoire pour client France.";if(v.shipping_real_ttc===null||v.shipping_real_ttc<0)return"Cout frais de port TTC obligatoire pour client France."}if(qs(v.channel,v.category)&&(v.power_wp===null||v.power_wp<=0))return"power_wp est obligatoire pour Solartraders + Solar Panels.";const N=X.get(v.product_ref.trim());if(N){let H=g[N.ref]??0;if(pe&&pe.product_ref===N.ref&&(H+=pe.quantity),v.quantity>H)return`Stock insuffisant pour ${N.ref} (disponible: ${H}).`}return null},qr=v=>{v.preventDefault(),re(""),z("");const N={...ee,client_or_tx:ee.client_or_tx.trim(),product_ref:ee.product_ref.trim(),customer_country:ee.customer_country,quantity:Math.max(0,Number(ee.quantity)),sell_price_unit_ht:Number(ee.sell_price_unit_ht),sell_price_unit_ttc:ua(ee.customer_country)?Un(ee.sell_price_unit_ttc):null,shipping_charged:Number(ee.shipping_charged),shipping_charged_ttc:ua(ee.customer_country)?Un(ee.shipping_charged_ttc):null,shipping_real:Number(ee.shipping_real),shipping_real_ttc:ua(ee.customer_country)?Un(ee.shipping_real_ttc):null,buy_price_unit:Number(ee.buy_price_unit),power_wp:qs(ee.channel,ee.category)?Number(ee.power_wp):null},H=_t(N);if(H){re(H);return}if(pe){const le=yc(pe.id,N,pe.created_at);y(Me=>Me.map(P=>P.id===pe.id?le:P)),z("Vente modifiee.")}else{const le=yc(cb(),N);y(Me=>[le,...Me]),z("Vente ajoutee.")}k(!1),yt(null),ze(jr())},nl=v=>{const N=m.find(H=>H.id===v);N&&window.confirm(`Supprimer la vente ${N.client_or_tx} ?`)&&y(H=>H.filter(le=>le.id!==v))},al=async v=>{if(!(!v||v.length===0))try{const N=await Promise.all(Array.from(v).map(H=>db(H)));ze(H=>({...H,attachments:[...H.attachments,...N]}))}catch{re("Impossible de joindre au moins un fichier.")}},La=v=>{ze(N=>({...N,attachments:N.attachments.filter(H=>H.id!==v)}))},Br=()=>{const v=Ov(m);Lm(`sales-margin-tracker-${Vs(new Date)}.csv`,v)},Gi=()=>{const v=jv(de,g);Lm(`catalog-stock-${Vs(new Date)}.csv`,v)},Lr=()=>{const v=yr(m,h,g);Ct(We.backup,v),Rv(`sales-margin-backup-${Vs(new Date)}.json`,v)},Hr=async()=>{if(!s){re("Supabase non configure. Ajoute les variables VITE_SUPABASE_*.");return}try{const v=yr(m,h,g),N=await Ar(v);G(`Supabase: sync manuelle OK (${Ua(N)})`),z("Cloud Supabase synchronise."),re("")}catch(v){re(`Sync cloud impossible: ${String(v.message)}`)}},fa=async()=>{if(!s){re("Supabase non configure. Ajoute les variables VITE_SUPABASE_*.");return}try{const v=await cp();if(!v){re("Aucun backup cloud trouve.");return}const N=v.sales.map(Me=>{const P=Nr(Me);return{...Me,...P,...qa(P)}}),H=Di(v.catalog),le=v.stock&&typeof v.stock=="object"?v.stock:uc(H,N);y(N),d(H),S(le),Ct(We.sales,N),Ct(We.catalog,H),Ct(We.stock,le),Ct(We.backup,v),R(v.generated_at),G(`Supabase: backup cloud restaure (${Ua(v.generated_at)})`),z("Backup cloud restaure."),re("")}catch(v){re(`Restauration cloud impossible: ${String(v.message)}`)}},bt=async v=>{if(!v||v.length===0)return;const N=v[0];try{const H=await N.text(),le=JSON.parse(H);if(!Array.isArray(le.sales)){re("Backup invalide: champ sales manquant.");return}const Me=le.sales.map((P,ge)=>{const qe=`import-${ge+1}-${Date.now()}`,pt={date:typeof P.date=="string"?P.date:Vs(new Date),client_or_tx:typeof P.client_or_tx=="string"?P.client_or_tx:`Imported-${ge+1}`,channel:Or.includes(P.channel)?P.channel:"Other",customer_country:typeof P.customer_country=="string"&&P.customer_country.length>0?P.customer_country:Bi,product_ref:typeof P.product_ref=="string"?P.product_ref:"",quantity:Number(P.quantity??0),sell_price_unit_ht:Number(P.sell_price_unit_ht??0),sell_price_unit_ttc:Un(P.sell_price_unit_ttc),shipping_charged:Number(P.shipping_charged??0),shipping_charged_ttc:Un(P.shipping_charged_ttc),shipping_real:Number(P.shipping_real??0),shipping_real_ttc:Un(P.shipping_real_ttc),payment_method:hp.includes(P.payment_method)?P.payment_method:"Wire",category:Hs.includes(P.category)?P.category:"Accessories",buy_price_unit:Number(P.buy_price_unit??0),power_wp:P.power_wp===null||P.power_wp===void 0?null:Number(P.power_wp),attachments:Array.isArray(P.attachments)?P.attachments:[]};return yc(typeof P.id=="string"?P.id:qe,pt,P.created_at)});if(y(Me),Array.isArray(le.catalog)&&le.catalog.length>0){const P=le.catalog.filter(ge=>typeof ge.ref=="string"&&typeof ge.buy_price_unit=="number"&&typeof ge.initial_stock=="number"&&Hs.includes(ge.category)).map((ge,qe)=>({ref:ge.ref,buy_price_unit:ge.buy_price_unit,category:ge.category,initial_stock:ge.initial_stock,order:typeof ge.order=="number"?ge.order:qe+1,datasheet_url:typeof ge.datasheet_url=="string"||ge.datasheet_url===null?ge.datasheet_url:null,source:"remote"}));P.length>0&&d(Di(P))}z("Backup JSON importe avec succes."),re("")}catch{re("Import JSON impossible. Verifie le format du fichier.")}},rn=fn.filter(v=>v.currentStock<=Bs).length;return _.jsxs("div",{className:`sm-app theme-${r}`,children:[_.jsxs("header",{className:"sm-topbar",children:[_.jsxs("div",{className:"sm-brand",children:[_.jsx("div",{className:"sm-logo",children:"SM"}),_.jsxs("div",{children:[_.jsx("p",{className:"sm-title",children:"Huawei Sales Manager"}),_.jsx("p",{className:"sm-subtitle",children:Y}),_.jsx("p",{className:"sm-subtitle",children:A?`Sauvegarde auto locale: ${Ua(A)} (PJ incluses)`:"Sauvegarde auto locale en attente..."}),_.jsx("p",{className:"sm-subtitle",children:$})]})]}),_.jsxs("div",{className:"sm-top-actions",children:[_.jsx("button",{type:"button",className:"sm-icon-btn",onClick:()=>c(v=>v==="dark"?"light":"dark"),title:"Toggle theme",children:r==="dark"?"":""}),_.jsxs("nav",{className:"sm-tabs",children:[_.jsx("button",{type:"button",className:`sm-tab ${a==="sales"?"active":""}`,onClick:()=>l("sales"),children:"Ventes"}),_.jsx("button",{type:"button",className:`sm-tab ${a==="dashboard"?"active":""}`,onClick:()=>l("dashboard"),children:"Dashboard"}),_.jsx("button",{type:"button",className:`sm-tab ${a==="stock"?"active":""}`,onClick:()=>l("stock"),children:"Stock"})]})]})]}),E&&_.jsx("p",{className:"sm-feedback success",children:E}),Ae&&_.jsx("p",{className:"sm-feedback error",children:Ae}),a==="sales"&&_.jsxs("section",{className:"sm-panel",children:[_.jsxs("div",{className:"sm-toolbar",children:[_.jsx("button",{type:"button",className:"sm-primary-btn",onClick:Hi,children:"+ Nouvelle vente"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:Br,children:"CSV ventes"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:Gi,children:"CSV stock"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:Lr,children:"Backup JSON"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:()=>{Hr()},children:"Sync Cloud"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:()=>{fa()},children:"Restaurer Cloud"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:()=>Q.current?.click(),children:"Importer JSON"}),_.jsx("input",{ref:Q,type:"file",accept:"application/json",className:"sm-hidden",onChange:v=>{bt(v.target.files),v.currentTarget.value=""}})]}),_.jsxs("div",{className:"sm-filters",children:[_.jsxs("select",{value:L.channel,onChange:v=>Z(N=>({...N,channel:v.target.value})),children:[_.jsx("option",{value:"All",children:"Tous canaux"}),Or.map(v=>_.jsx("option",{value:v,children:v},v))]}),_.jsxs("select",{value:L.category,onChange:v=>Z(N=>({...N,category:v.target.value})),children:[_.jsx("option",{value:"All",children:"Toutes categories"}),Hs.map(v=>_.jsx("option",{value:v,children:v},v))]}),_.jsx("input",{type:"text",value:L.query,onChange:v=>Z(N=>({...N,query:v.target.value})),placeholder:"Client / TX / produit"}),_.jsx("input",{type:"date",value:L.date_from,onChange:v=>Z(N=>({...N,date_from:v.target.value}))}),_.jsx("input",{type:"date",value:L.date_to,onChange:v=>Z(N=>({...N,date_to:v.target.value}))}),_.jsxs("select",{value:L.stock_status,onChange:v=>Z(N=>({...N,stock_status:v.target.value})),children:[_.jsx("option",{value:"all",children:"Tout stock"}),_.jsx("option",{value:"low",children:"Stock faible"}),_.jsx("option",{value:"out",children:"Rupture"})]}),_.jsxs("label",{className:"sm-checkbox",children:[_.jsx("input",{type:"checkbox",checked:V,onChange:v=>K(v.target.checked)}),"Vue commande"]})]}),_.jsxs("div",{className:"sm-alert-line",children:[" ",rn," alerte(s) stock"]}),_.jsx("div",{className:"sm-table-wrap",children:_.jsxs("table",{className:"sm-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Date"}),_.jsx("th",{children:"Client/TX"}),_.jsx("th",{children:"Canal"}),_.jsx("th",{children:"Produit"}),_.jsx("th",{children:"Qte"}),_.jsx("th",{children:"PV unit HT"}),_.jsx("th",{children:"Total HT"}),_.jsx("th",{children:"Commission / frais plateforme"}),_.jsx("th",{children:"Net recu"}),_.jsx("th",{children:"Marge nette"}),_.jsx("th",{children:"Marge %"}),_.jsx("th",{children:"PJ"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:V?Mn.map(v=>_.jsxs("tr",{children:[_.jsx("td",{children:v.date}),_.jsx("td",{children:v.client_or_tx}),_.jsx("td",{children:_.jsx("span",{className:"sm-chip",children:v.channel})}),_.jsx("td",{children:v.product_display}),_.jsx("td",{children:v.quantity}),_.jsx("td",{children:Ee(v.sell_price_unit_ht)}),_.jsx("td",{children:Ee(v.sell_total_ht)}),_.jsxs("td",{children:[Ee(v.commission_eur)," / ",Ee(v.payment_fee)]}),_.jsx("td",{children:Ee(v.net_received)}),_.jsx("td",{className:v.net_margin>=0?"ok":"ko",children:Ee(v.net_margin)}),_.jsx("td",{className:v.net_margin_pct>=0?"ok":"ko",children:$s(v.net_margin_pct)}),_.jsx("td",{children:v.attachments_count}),_.jsxs("td",{className:"sm-row-actions",children:[_.jsx("button",{type:"button",onClick:()=>Ba(v.first_sale),title:"Ajouter une reference sur cette commande",children:"+Ref"}),_.jsx("button",{type:"button",onClick:()=>Mr(v),title:"Afficher les lignes de la commande",children:"Lignes"})]})]},v.key)):Ne.map(v=>_.jsxs("tr",{children:[_.jsx("td",{children:v.date}),_.jsx("td",{children:v.client_or_tx}),_.jsx("td",{children:_.jsx("span",{className:"sm-chip",children:v.channel})}),_.jsx("td",{children:v.product_ref}),_.jsx("td",{children:v.quantity}),_.jsx("td",{children:Ee(v.sell_price_unit_ht)}),_.jsx("td",{children:Ee(v.sell_total_ht)}),_.jsxs("td",{children:[Ee(v.commission_eur)," / ",Ee(v.payment_fee),_.jsxs("small",{children:[" (",v.commission_rate_display,")"]})]}),_.jsx("td",{children:Ee(v.net_received)}),_.jsx("td",{className:v.net_margin>=0?"ok":"ko",children:Ee(v.net_margin)}),_.jsx("td",{className:v.net_margin_pct>=0?"ok":"ko",children:$s(v.net_margin_pct)}),_.jsx("td",{children:v.attachments.length}),_.jsxs("td",{className:"sm-row-actions",children:[_.jsx("button",{type:"button",onClick:()=>Ba(v),title:"Ajouter une reference pour ce client",children:"+Ref"}),_.jsx("button",{type:"button",onClick:()=>$i(v),children:"Edit"}),_.jsx("button",{type:"button",onClick:()=>nl(v.id),children:"Del"})]})]},v.id))})]})}),_.jsxs("div",{className:"sm-kpi-strip",children:[_.jsxs("div",{children:[_.jsx("p",{children:"Ventes affichees"}),_.jsx("strong",{children:V?Mn.length:_e.salesCount})]}),_.jsxs("div",{children:[_.jsx("p",{children:"CA total"}),_.jsx("strong",{children:Ee(_e.totalRevenue)})]}),_.jsxs("div",{children:[_.jsx("p",{children:"Marge nette"}),_.jsxs("strong",{className:"ok",children:[Ee(_e.totalNetMargin)," (",$s(_e.avgNetMarginPct),")"]})]}),_.jsxs("div",{children:[_.jsx("p",{children:"Commissions / frais plateforme"}),_.jsxs("strong",{className:"warn",children:[Ee(_e.totalCommissions)," / ",Ee(_e.totalPlatformFees)]})]})]})]}),a==="dashboard"&&_.jsxs("section",{className:"sm-panel",children:[_.jsx("h2",{className:"sm-section-title",children:"Dashboard KPI"}),_.jsxs("div",{className:"sm-kpi-grid",children:[_.jsxs("article",{className:"sm-kpi-card blue",children:[_.jsx("p",{children:"Chiffre d affaires"}),_.jsx("strong",{children:Ee(_e.totalRevenue)})]}),_.jsxs("article",{className:"sm-kpi-card green",children:[_.jsx("p",{children:"Marge nette totale"}),_.jsx("strong",{children:Ee(_e.totalNetMargin)})]}),_.jsxs("article",{className:"sm-kpi-card yellow",children:[_.jsx("p",{children:"Commissions totales"}),_.jsx("strong",{children:Ee(_e.totalCommissions)})]}),_.jsxs("article",{className:"sm-kpi-card purple",children:[_.jsx("p",{children:"Taux marge moyen"}),_.jsx("strong",{children:$s(_e.avgNetMarginPct)})]}),_.jsxs("article",{className:"sm-kpi-card",children:[_.jsx("p",{children:"Nombre de ventes"}),_.jsx("strong",{children:_e.salesCount})]})]}),_.jsx("div",{className:"sm-table-wrap",children:_.jsxs("table",{className:"sm-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Canal"}),_.jsx("th",{children:"Ventes"}),_.jsx("th",{children:"CA"}),_.jsx("th",{children:"Commissions"}),_.jsx("th",{children:"Marge nette"})]})}),_.jsx("tbody",{children:_e.breakdown.map(v=>_.jsxs("tr",{children:[_.jsx("td",{children:v.channel}),_.jsx("td",{children:v.count}),_.jsx("td",{children:Ee(v.revenue)}),_.jsx("td",{children:Ee(v.commissions)}),_.jsx("td",{className:v.netMargin>=0?"ok":"ko",children:Ee(v.netMargin)})]},v.channel))})]})}),_.jsxs("div",{className:"sm-dashboard-two-col",children:[_.jsxs("article",{className:"sm-card",children:[_.jsx("h3",{children:"Top 5 produits (par CA)"}),ha.length===0?_.jsx("p",{children:"Aucun produit."}):_.jsx("ul",{className:"sm-list",children:ha.map(v=>_.jsxs("li",{children:[_.jsx("span",{children:v.product}),_.jsx("strong",{children:Ee(v.revenue)})]},v.product))})]}),_.jsxs("article",{className:"sm-card",children:[_.jsx("h3",{children:"Alertes stock"}),Li.length===0?_.jsx("p",{children:"Aucune alerte stock."}):_.jsx("ul",{className:"sm-list",children:Li.map(v=>_.jsxs("li",{children:[_.jsx("span",{children:v.ref}),_.jsxs("strong",{className:v.currentStock<=0?"ko":"warn",children:[v.currentStock," restant(s)"]})]},v.ref))})]})]}),_.jsxs("article",{className:"sm-card",children:[_.jsx("h3",{children:"Marge nette par canal"}),_.jsx("div",{className:"sm-bars",children:(()=>{const v=Math.max(..._e.breakdown.map(N=>Math.abs(N.netMargin)),1);return _e.breakdown.map(N=>{const H=Math.max(8,Math.abs(N.netMargin)/v*160);return _.jsxs("div",{className:"sm-bar-col",children:[_.jsx("div",{className:`sm-bar ${N.netMargin>=0?"pos":"neg"}`,style:{height:`${H}px`},title:`${N.channel} ${Ee(N.netMargin)}`}),_.jsx("span",{children:N.channel}),_.jsx("small",{children:Ee(N.netMargin)})]},N.channel)})})()})]})]}),a==="stock"&&_.jsxs("section",{className:"sm-panel",children:[_.jsxs("div",{className:"sm-stock-head",children:[_.jsxs("h2",{className:"sm-section-title",children:["Catalogue & Stock (",fn.length,")"]}),_.jsxs("div",{className:"sm-stock-controls",children:[_.jsx("input",{type:"text",value:Te,onChange:v=>he(v.target.value),placeholder:"Recherche reference ou categorie"}),_.jsxs("select",{value:Ge,onChange:v=>zn(v.target.value),children:[_.jsx("option",{value:"All",children:"Toutes categories"}),Hs.map(v=>_.jsx("option",{value:v,children:v},v))]}),_.jsxs("label",{className:"sm-checkbox",children:[_.jsx("input",{type:"checkbox",checked:W,onChange:v=>$e(v.target.checked)}),"Stock faible seulement"]}),_.jsx("button",{type:"button",className:"sm-btn",onClick:Gi,children:"Export CSV stock"})]})]}),_.jsx("div",{className:"sm-table-wrap",children:_.jsxs("table",{className:"sm-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"#"}),_.jsx("th",{children:"Reference"}),_.jsx("th",{children:"Categorie"}),_.jsx("th",{children:"PA (EUR)"}),_.jsx("th",{children:"Stock"}),_.jsx("th",{children:"Statut"}),_.jsx("th",{children:"Datasheet"})]})}),_.jsx("tbody",{children:fn.map((v,N)=>_.jsxs("tr",{children:[_.jsx("td",{children:v.order??N+1}),_.jsx("td",{children:v.ref}),_.jsx("td",{children:_.jsx("span",{className:"sm-chip",children:v.category})}),_.jsx("td",{children:Ee(v.buy_price_unit)}),_.jsx("td",{children:v.currentStock}),_.jsx("td",{children:_.jsx("span",{className:`sm-status ${v.status==="OK"?"ok":v.status==="FAIBLE"?"warn":"ko"}`,children:v.status})}),_.jsx("td",{children:v.datasheet_url?_.jsx("a",{className:"sm-link-btn",href:v.datasheet_url,target:"_blank",rel:"noopener noreferrer",children:"PDF"}):_.jsx("span",{className:"sm-muted",children:"N/A"})})]},v.ref))})]})}),_.jsxs("p",{className:"sm-footnote",children:["Source catalogue: ",_.jsx("a",{href:_c,children:_c})]})]}),Nt&&_.jsx("div",{className:"sm-modal-overlay",role:"dialog","aria-modal":"true",children:_.jsxs("form",{className:"sm-modal",onSubmit:qr,children:[_.jsxs("div",{className:"sm-modal-head",children:[_.jsx("h3",{children:pe?"Modifier vente":"Nouvelle vente"}),_.jsx("button",{type:"button",className:"sm-close",onClick:tl,children:""})]}),_.jsxs("div",{className:"sm-form-grid",children:[_.jsxs("label",{children:["Date",_.jsx("input",{type:"date",value:ee.date,onChange:v=>wt("date",v.target.value),required:!0})]}),_.jsxs("label",{children:["Client / TX",_.jsx("input",{type:"text",value:ee.client_or_tx,onChange:v=>wt("client_or_tx",v.target.value),required:!0})]}),_.jsxs("label",{children:["Pays client",_.jsx("select",{value:ee.customer_country,onChange:v=>{const N=v.target.value;ze(H=>({...H,customer_country:N,sell_price_unit_ttc:ua(N)?H.sell_price_unit_ttc:null,shipping_charged_ttc:ua(N)?H.shipping_charged_ttc:null,shipping_real_ttc:ua(N)?H.shipping_real_ttc:null}))},required:!0,children:ub.map(v=>_.jsx("option",{value:v,children:v},v))})]}),_.jsxs("label",{children:["Canal",_.jsx("select",{value:ee.channel,onChange:v=>{const N=v.target.value;ze(H=>({...H,channel:N,power_wp:qs(N,H.category)?H.power_wp:null}))},children:Or.map(v=>_.jsx("option",{value:v,children:v},v))})]}),_.jsxs("label",{children:["Paiement",_.jsx("select",{value:ee.payment_method,onChange:v=>wt("payment_method",v.target.value),children:hp.map(v=>_.jsx("option",{value:v,children:v},v))})]}),_.jsxs("label",{className:"full",children:["Produit",_.jsx("input",{type:"text",value:ee.product_ref,onChange:v=>el(v.target.value),list:"catalog-products",placeholder:"Rechercher un produit",required:!0}),_.jsx("datalist",{id:"catalog-products",children:ue.map(v=>_.jsx("option",{value:v.ref},v.ref))}),Ut&&_.jsxs("small",{children:["Auto: ",Ut.category," | PA ",Ee(Ut.buy_price_unit)," | Stock ",g[Ut.ref]??Ut.initial_stock]})]}),_.jsxs("label",{children:["Categorie",_.jsx("select",{value:ee.category,onChange:v=>{const N=v.target.value;ze(H=>({...H,category:N,power_wp:qs(H.channel,N)?H.power_wp:null}))},children:Hs.map(v=>_.jsx("option",{value:v,children:v},v))})]}),_.jsxs("label",{children:["Quantite",_.jsx("input",{type:"number",min:"1",value:ee.quantity,onChange:v=>wt("quantity",Math.max(0,Ci(v.target.value))),required:!0})]}),_.jsxs("label",{children:["Prix achat unit. (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.buy_price_unit,onChange:v=>wt("buy_price_unit",Ci(v.target.value)),required:!0})]}),_.jsxs("label",{children:["Prix vente unit. HT (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.sell_price_unit_ht,onChange:v=>wt("sell_price_unit_ht",Ci(v.target.value)),required:!0})]}),_.jsxs("label",{children:["Prix vente unit. TTC (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.sell_price_unit_ttc??"",onChange:v=>wt("sell_price_unit_ttc",vc(v.target.value)),disabled:!ln,required:ln})]}),_.jsxs("label",{children:["Prix frais de port HT (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.shipping_charged,onChange:v=>wt("shipping_charged",Ci(v.target.value)),required:!0})]}),_.jsxs("label",{children:["Prix frais de port TTC (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.shipping_charged_ttc??"",onChange:v=>wt("shipping_charged_ttc",vc(v.target.value)),disabled:!ln,required:ln})]}),_.jsxs("label",{children:["Cout frais de port HT (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.shipping_real,onChange:v=>wt("shipping_real",Ci(v.target.value)),required:!0})]}),_.jsxs("label",{children:["Cout frais de port TTC (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.shipping_real_ttc??"",onChange:v=>wt("shipping_real_ttc",vc(v.target.value)),disabled:!ln,required:ln})]}),qs(ee.channel,ee.category)&&_.jsxs("label",{children:["power_wp (obligatoire)",_.jsx("input",{type:"number",min:"1",step:"1",value:ee.power_wp??"",onChange:v=>wt("power_wp",Ci(v.target.value)),required:!0})]})]}),_.jsxs("div",{className:"sm-metric-grid",children:[_.jsxs("p",{children:[_.jsx("span",{children:"Total HT"}),_.jsx("strong",{children:Ee(vt.sell_total_ht)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Valeur TX"}),_.jsx("strong",{children:Ee(vt.transaction_value)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Commission"}),_.jsxs("strong",{children:[Ee(vt.commission_eur)," (",vt.commission_rate_display,")"]})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Frais paiement"}),_.jsx("strong",{children:Ee(vt.payment_fee)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Net recu"}),_.jsx("strong",{children:Ee(vt.net_received)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Cout total"}),_.jsx("strong",{children:Ee(vt.total_cost)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Marge brute"}),_.jsx("strong",{children:Ee(vt.gross_margin)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Marge nette"}),_.jsxs("strong",{className:vt.net_margin>=0?"ok":"ko",children:[Ee(vt.net_margin)," (",$s(vt.net_margin_pct),")"]})]})]}),_.jsxs("div",{className:"sm-attachments",children:[_.jsxs("div",{className:"sm-attach-head",children:[_.jsx("span",{children:"Pieces jointes"}),_.jsx("input",{type:"file",multiple:!0,onChange:v=>{al(v.target.files),v.currentTarget.value=""}})]}),ee.attachments.length===0?_.jsx("p",{className:"sm-muted",children:"Aucune PJ."}):ee.attachments.map(v=>_.jsxs("div",{className:"sm-attach-row",children:[_.jsxs("span",{children:[v.name," (",Math.round(v.size/1024)," KB)"]}),_.jsxs("div",{children:[_.jsx("button",{type:"button",onClick:()=>mb(v),children:"Download"}),_.jsx("button",{type:"button",onClick:()=>La(v.id),children:"Supprimer"})]})]},v.id))]}),_.jsxs("div",{className:"sm-modal-actions",children:[_.jsx("button",{type:"button",className:"sm-btn",onClick:tl,children:"Annuler"}),_.jsx("button",{type:"submit",className:"sm-primary-btn",children:pe?"Enregistrer":"Ajouter"})]})]})})]})}function Sb(){return _.jsx(bb,{})}rv.createRoot(document.getElementById("root")).render(_.jsx(Sb,{}));
