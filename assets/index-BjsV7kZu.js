(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(c){if(c.ep)return;c.ep=!0;const h=l(c);fetch(c.href,h)}})();var ec={exports:{}},Ds={};var xm;function ev(){if(xm)return Ds;xm=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(r,c,h){var d=null;if(h!==void 0&&(d=""+h),c.key!==void 0&&(d=""+c.key),"key"in c){h={};for(var m in c)m!=="key"&&(h[m]=c[m])}else h=c;return c=h.ref,{$$typeof:s,type:r,key:d,ref:c!==void 0?c:null,props:h}}return Ds.Fragment=a,Ds.jsx=l,Ds.jsxs=l,Ds}var Um;function tv(){return Um||(Um=1,ec.exports=ev()),ec.exports}var _=tv(),tc={exports:{}},zs={},nc={exports:{}},ac={};var Nm;function nv(){return Nm||(Nm=1,(function(s){function a(k,Y){var ne=k.length;k.push(Y);e:for(;0<ne;){var Ae=ne-1>>>1,re=k[Ae];if(0<c(re,Y))k[Ae]=Y,k[ne]=re,ne=Ae;else break e}}function l(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var Y=k[0],ne=k.pop();if(ne!==Y){k[0]=ne;e:for(var Ae=0,re=k.length,E=re>>>1;Ae<E;){var z=2*(Ae+1)-1,Q=k[z],X=z+1,oe=k[X];if(0>c(Q,ne))X<re&&0>c(oe,Q)?(k[Ae]=oe,k[X]=ne,Ae=X):(k[Ae]=Q,k[z]=ne,Ae=z);else if(X<re&&0>c(oe,ne))k[Ae]=oe,k[X]=ne,Ae=X;else break e}}return Y}function c(k,Y){var ne=k.sortIndex-Y.sortIndex;return ne!==0?ne:k.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var y=[],g=[],S=1,A=null,j=3,x=!1,q=!1,$=!1,G=!1,V=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Z(k){for(var Y=l(g);Y!==null;){if(Y.callback===null)r(g);else if(Y.startTime<=k)r(g),Y.sortIndex=Y.expirationTime,a(y,Y);else break;Y=l(g)}}function Te(k){if($=!1,Z(k),!q)if(l(y)!==null)q=!0,he||(he=!0,ze());else{var Y=l(g);Y!==null&&vt(Te,Y.startTime-k)}}var he=!1,W=-1,He=5,$e=-1;function Mn(){return G?!0:!(s.unstable_now()-$e<He)}function ee(){if(G=!1,he){var k=s.unstable_now();$e=k;var Y=!0;try{e:{q=!1,$&&($=!1,K(W),W=-1),x=!0;var ne=j;try{t:{for(Z(k),A=l(y);A!==null&&!(A.expirationTime>k&&Mn());){var Ae=A.callback;if(typeof Ae=="function"){A.callback=null,j=A.priorityLevel;var re=Ae(A.expirationTime<=k);if(k=s.unstable_now(),typeof re=="function"){A.callback=re,Z(k),Y=!0;break t}A===l(y)&&r(y),Z(k)}else r(y);A=l(y)}if(A!==null)Y=!0;else{var E=l(g);E!==null&&vt(Te,E.startTime-k),Y=!1}}break e}finally{A=null,j=ne,x=!1}Y=void 0}}finally{Y?ze():he=!1}}}var ze;if(typeof H=="function")ze=function(){H(ee)};else if(typeof MessageChannel<"u"){var Ft=new MessageChannel,yt=Ft.port2;Ft.port1.onmessage=ee,ze=function(){yt.postMessage(null)}}else ze=function(){V(ee,0)};function vt(k,Y){W=V(function(){k(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function(k){switch(j){case 1:case 2:case 3:var Y=3;break;default:Y=j}var ne=j;j=Y;try{return k()}finally{j=ne}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(k,Y){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ne=j;j=k;try{return Y()}finally{j=ne}},s.unstable_scheduleCallback=function(k,Y,ne){var Ae=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ae+ne:Ae):ne=Ae,k){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ne+re,k={id:S++,callback:Y,priorityLevel:k,startTime:ne,expirationTime:re,sortIndex:-1},ne>Ae?(k.sortIndex=ne,a(g,k),l(y)===null&&k===l(g)&&($?(K(W),W=-1):$=!0,vt(Te,ne-Ae))):(k.sortIndex=re,a(y,k),q||x||(q=!0,he||(he=!0,ze()))),k},s.unstable_shouldYield=Mn,s.unstable_wrapCallback=function(k){var Y=j;return function(){var ne=j;j=Y;try{return k.apply(this,arguments)}finally{j=ne}}}})(ac)),ac}var km;function av(){return km||(km=1,nc.exports=nv()),nc.exports}var ic={exports:{}},ce={};var Dm;function iv(){if(Dm)return ce;Dm=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),j=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=j&&E[j]||E["@@iterator"],typeof E=="function"?E:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,G={};function V(E,z,Q){this.props=E,this.context=z,this.refs=G,this.updater=Q||q}V.prototype.isReactComponent={},V.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},V.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function K(){}K.prototype=V.prototype;function H(E,z,Q){this.props=E,this.context=z,this.refs=G,this.updater=Q||q}var Z=H.prototype=new K;Z.constructor=H,$(Z,V.prototype),Z.isPureReactComponent=!0;var Te=Array.isArray;function he(){}var W={H:null,A:null,T:null,S:null},He=Object.prototype.hasOwnProperty;function $e(E,z,Q){var X=Q.ref;return{$$typeof:s,type:E,key:z,ref:X!==void 0?X:null,props:Q}}function Mn(E,z){return $e(E.type,z,E.props)}function ee(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function ze(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return z[Q]})}var Ft=/\/+/g;function yt(E,z){return typeof E=="object"&&E!==null&&E.key!=null?ze(""+E.key):z.toString(36)}function vt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(he,he):(E.status="pending",E.then(function(z){E.status==="pending"&&(E.status="fulfilled",E.value=z)},function(z){E.status==="pending"&&(E.status="rejected",E.reason=z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function k(E,z,Q,X,oe){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(de){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case s:case a:ge=!0;break;case S:return ge=E._init,k(ge(E._payload),z,Q,X,oe)}}if(ge)return oe=oe(E),ge=X===""?"."+yt(E,0):X,Te(oe)?(Q="",ge!=null&&(Q=ge.replace(Ft,"$&/")+"/"),k(oe,z,Q,"",function(qn){return qn})):oe!=null&&(ee(oe)&&(oe=Mn(oe,Q+(oe.key==null||E&&E.key===oe.key?"":(""+oe.key).replace(Ft,"$&/")+"/")+ge)),z.push(oe)),1;ge=0;var Ue=X===""?".":X+":";if(Te(E))for(var _e=0;_e<E.length;_e++)X=E[_e],de=Ue+yt(X,_e),ge+=k(X,z,Q,de,oe);else if(_e=x(E),typeof _e=="function")for(E=_e.call(E),_e=0;!(X=E.next()).done;)X=X.value,de=Ue+yt(X,_e++),ge+=k(X,z,Q,de,oe);else if(de==="object"){if(typeof E.then=="function")return k(vt(E),z,Q,X,oe);throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Y(E,z,Q){if(E==null)return E;var X=[],oe=0;return k(E,X,"","",function(de){return z.call(Q,de,oe++)}),X}function ne(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var Ae=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},re={map:Y,forEach:function(E,z,Q){Y(E,function(){z.apply(this,arguments)},Q)},count:function(E){var z=0;return Y(E,function(){z++}),z},toArray:function(E){return Y(E,function(z){return z})||[]},only:function(E){if(!ee(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ce.Activity=A,ce.Children=re,ce.Component=V,ce.Fragment=l,ce.Profiler=c,ce.PureComponent=H,ce.StrictMode=r,ce.Suspense=y,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,ce.__COMPILER_RUNTIME={__proto__:null,c:function(E){return W.H.useMemoCache(E)}},ce.cache=function(E){return function(){return E.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(E,z,Q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var X=$({},E.props),oe=E.key;if(z!=null)for(de in z.key!==void 0&&(oe=""+z.key),z)!He.call(z,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&z.ref===void 0||(X[de]=z[de]);var de=arguments.length-2;if(de===1)X.children=Q;else if(1<de){for(var ge=Array(de),Ue=0;Ue<de;Ue++)ge[Ue]=arguments[Ue+2];X.children=ge}return $e(E.type,oe,X)},ce.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:h,_context:E},E},ce.createElement=function(E,z,Q){var X,oe={},de=null;if(z!=null)for(X in z.key!==void 0&&(de=""+z.key),z)He.call(z,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(oe[X]=z[X]);var ge=arguments.length-2;if(ge===1)oe.children=Q;else if(1<ge){for(var Ue=Array(ge),_e=0;_e<ge;_e++)Ue[_e]=arguments[_e+2];oe.children=Ue}if(E&&E.defaultProps)for(X in ge=E.defaultProps,ge)oe[X]===void 0&&(oe[X]=ge[X]);return $e(E,de,oe)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(E){return{$$typeof:m,render:E}},ce.isValidElement=ee,ce.lazy=function(E){return{$$typeof:S,_payload:{_status:-1,_result:E},_init:ne}},ce.memo=function(E,z){return{$$typeof:g,type:E,compare:z===void 0?null:z}},ce.startTransition=function(E){var z=W.T,Q={};W.T=Q;try{var X=E(),oe=W.S;oe!==null&&oe(Q,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(he,Ae)}catch(de){Ae(de)}finally{z!==null&&Q.types!==null&&(z.types=Q.types),W.T=z}},ce.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},ce.use=function(E){return W.H.use(E)},ce.useActionState=function(E,z,Q){return W.H.useActionState(E,z,Q)},ce.useCallback=function(E,z){return W.H.useCallback(E,z)},ce.useContext=function(E){return W.H.useContext(E)},ce.useDebugValue=function(){},ce.useDeferredValue=function(E,z){return W.H.useDeferredValue(E,z)},ce.useEffect=function(E,z){return W.H.useEffect(E,z)},ce.useEffectEvent=function(E){return W.H.useEffectEvent(E)},ce.useId=function(){return W.H.useId()},ce.useImperativeHandle=function(E,z,Q){return W.H.useImperativeHandle(E,z,Q)},ce.useInsertionEffect=function(E,z){return W.H.useInsertionEffect(E,z)},ce.useLayoutEffect=function(E,z){return W.H.useLayoutEffect(E,z)},ce.useMemo=function(E,z){return W.H.useMemo(E,z)},ce.useOptimistic=function(E,z){return W.H.useOptimistic(E,z)},ce.useReducer=function(E,z,Q){return W.H.useReducer(E,z,Q)},ce.useRef=function(E){return W.H.useRef(E)},ce.useState=function(E){return W.H.useState(E)},ce.useSyncExternalStore=function(E,z,Q){return W.H.useSyncExternalStore(E,z,Q)},ce.useTransition=function(){return W.H.useTransition()},ce.version="19.2.4",ce}var zm;function Uc(){return zm||(zm=1,ic.exports=iv()),ic.exports}var sc={exports:{}},gt={};var Mm;function sv(){if(Mm)return gt;Mm=1;var s=Uc();function a(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(y,g,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:y,containerInfo:g,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gt.createPortal=function(y,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return h(y,g,null,S)},gt.flushSync=function(y){var g=d.T,S=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=g,r.p=S,r.d.f()}},gt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},gt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},gt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var S=g.as,A=m(S,g.crossOrigin),j=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:j,fetchPriority:x}):S==="script"&&r.d.X(y,{crossOrigin:A,integrity:j,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},gt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,A=m(S,g.crossOrigin);r.d.L(y,S,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(y,g){if(typeof y=="string")if(g){var S=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},gt.requestFormReset=function(y){r.d.r(y)},gt.unstable_batchedUpdates=function(y,g){return y(g)},gt.useFormState=function(y,g,S){return d.H.useFormState(y,g,S)},gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},gt.version="19.2.4",gt}var qm;function lv(){if(qm)return sc.exports;qm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),sc.exports=sv(),sc.exports}var Bm;function rv(){if(Bm)return zs;Bm=1;var s=av(),a=Uc(),l=lv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){n=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return y(u),e;if(o===i)return y(u),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=u,i=o;else{for(var f=!1,p=u.child;p;){if(p===n){f=!0,n=u,i=o;break}if(p===i){f=!0,i=u,n=o;break}p=p.sibling}if(!f){for(p=o.child;p;){if(p===n){f=!0,n=o,i=u;break}if(p===i){f=!0,i=o,n=u;break}p=p.sibling}if(!f)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,j=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),$e=Symbol.for("react.activity"),Mn=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Symbol.for("react.client.reference");function yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ft?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case V:return"Profiler";case G:return"StrictMode";case Te:return"Suspense";case he:return"SuspenseList";case $e:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case H:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:yt(e.type)||"Memo";case He:t=e._payload,e=e._init;try{return yt(e(t))}catch{}}return null}var vt=Array.isArray,k=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ae=[],re=-1;function E(e){return{current:e}}function z(e){0>re||(e.current=Ae[re],Ae[re]=null,re--)}function Q(e,t){re++,Ae[re]=e.current,e.current=t}var X=E(null),oe=E(null),de=E(null),ge=E(null);function Ue(e,t){switch(Q(de,t),Q(oe,e),Q(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Fd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Fd(t),e=em(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(X),Q(X,e)}function _e(){z(X),z(oe),z(de)}function qn(e){e.memoizedState!==null&&Q(ge,e);var t=X.current,n=em(t,e.type);t!==n&&(Q(oe,e),Q(X,n))}function ha(e){oe.current===e&&(z(X),z(oe)),ge.current===e&&(z(ge),xs._currentValue=ne)}var dn,Hi;function kt(e){if(dn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dn=t&&t[1]||"",Hi=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dn+e+Hi}var rn=!1;function _t(e,t){if(!e||rn)return"";rn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(N){var C=N}Reflect.construct(e,[],B)}else{try{B.call()}catch(N){C=N}e.call(B.prototype)}}else{try{throw Error()}catch(N){C=N}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(N){if(N&&C&&typeof N.stack=="string")return[N.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),f=o[0],p=o[1];if(f&&p){var b=f.split(`
`),R=p.split(`
`);for(u=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(i===b.length||u===R.length)for(i=b.length-1,u=R.length-1;1<=i&&0<=u&&b[i]!==R[u];)u--;for(;1<=i&&0<=u;i--,u--)if(b[i]!==R[u]){if(i!==1||u!==1)do if(i--,u--,0>u||b[i]!==R[u]){var D=`
`+b[i].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=i&&0<=u);break}}}finally{rn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?kt(n):""}function Tt(e,t){switch(e.tag){case 26:case 27:case 5:return kt(e.type);case 16:return kt("Lazy");case 13:return e.child!==t&&t!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return _t(e.type,!1);case 11:return _t(e.type.render,!1);case 1:return _t(e.type,!0);case 31:return kt("Activity");default:return""}}function el(e){try{var t="",n=null;do t+=Tt(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var $i=Object.prototype.hasOwnProperty,Gi=s.unstable_scheduleCallback,Ba=s.unstable_cancelCallback,Br=s.unstable_shouldYield,tl=s.unstable_requestPaint,bt=s.unstable_now,Lr=s.unstable_getCurrentPriorityLevel,nl=s.unstable_ImmediatePriority,al=s.unstable_UserBlockingPriority,La=s.unstable_NormalPriority,Hr=s.unstable_LowPriority,il=s.unstable_IdlePriority,sl=s.log,$r=s.unstable_setDisableYieldValue,fa=null,St=null;function un(e){if(typeof sl=="function"&&$r(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(fa,e)}catch{}}var wt=Math.clz32?Math.clz32:L,v=Math.log,U=Math.LN2;function L(e){return e>>>=0,e===0?32:31-(v(e)/U|0)|0}var ae=256,Me=262144,P=4194304;function me(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ye(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var p=i&134217727;return p!==0?(i=p&~o,i!==0?u=me(i):(f&=p,f!==0?u=me(f):n||(n=p&~e,n!==0&&(u=me(n))))):(p=i&~o,p!==0?u=me(p):f!==0?u=me(f):n||(n=i&~e,n!==0&&(u=me(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function ut(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ll(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vi(){var e=P;return P<<=1,(P&62914560)===0&&(P=4194304),e}function Ha(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ki(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gp(e,t,n,i,u,o){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var p=e.entanglements,b=e.expirationTimes,R=e.hiddenUpdates;for(n=f&~n;0<n;){var D=31-wt(n),B=1<<D;p[D]=0,b[D]=-1;var C=R[D];if(C!==null)for(R[D]=null,D=0;D<C.length;D++){var N=C[D];N!==null&&(N.lane&=-536870913)}n&=~B}i!==0&&Dc(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function Dc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-wt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function zc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-wt(n),u=1<<i;u&t|e[i]&t&&(e[i]|=t),n&=~u}}function Mc(e,t){var n=t&-t;return n=(n&42)!==0?1:Gr(n),(n&(e.suspendedLanes|t))!==0?0:n}function Gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Em(e.type))}function Bc(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var Bn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Bn,At="__reactProps$"+Bn,$a="__reactContainer$"+Bn,Kr="__reactEvents$"+Bn,Vp="__reactListeners$"+Bn,Kp="__reactHandles$"+Bn,Lc="__reactResources$"+Bn,Yi="__reactMarker$"+Bn;function Yr(e){delete e[ot],delete e[At],delete e[Kr],delete e[Vp],delete e[Kp]}function Ga(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$a]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rm(e);e!==null;){if(n=e[ot])return n;e=rm(e)}return t}e=n,n=e.parentNode}return null}function Va(e){if(e=e[ot]||e[$a]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ka(e){var t=e[Lc];return t||(t=e[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Yi]=!0}var Hc=new Set,$c={};function da(e,t){Ya(e,t),Ya(e+"Capture",t)}function Ya(e,t){for($c[e]=t,e=0;e<t.length;e++)Hc.add(t[e])}var Yp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gc={},Vc={};function Qp(e){return $i.call(Vc,e)?!0:$i.call(Gc,e)?!1:Yp.test(e)?Vc[e]=!0:(Gc[e]=!0,!1)}function rl(e,t,n){if(Qp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ul(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function mn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xp(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(f){n=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qr(e){if(!e._valueTracker){var t=Kc(e)?"checked":"value";e._valueTracker=Xp(e,t,""+e[t])}}function Yc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Kc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jp=/[\n"\\]/g;function Kt(e){return e.replace(Jp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xr(e,t,n,i,u,o,f,p){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Jr(e,f,Vt(t)):n!=null?Jr(e,f,Vt(n)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Vt(p):e.removeAttribute("name")}function Qc(e,t,n,i,u,o,f,p){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Qr(e);return}n=n!=null?""+Vt(n):"",t=t!=null?""+Vt(t):n,p||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=p?e.checked:!!i,e.defaultChecked=!!i,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Qr(e)}function Jr(e,t,n){t==="number"&&ol(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Qa(e,t,n,i){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Vt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Xc(e,t,n){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Vt(n):""}function Jc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(r(92));if(vt(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Vt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Qr(e)}function Xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Zp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ic(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&n[u]!==i&&Zc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&Zc(e,o,t[o])}function Zr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cl(e){return Pp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var Ir=null;function Pr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,Za=null;function Pc(e){var t=Va(e);if(t&&(e=t.stateNode)){var n=e[At]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Kt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var u=i[At]||null;if(!u)throw Error(r(90));Xr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Yc(i)}break e;case"textarea":Xc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Qa(e,!!n.multiple,t,!1)}}}var Wr=!1;function Wc(e,t,n){if(Wr)return e(t,n);Wr=!0;try{var i=e(t);return i}finally{if(Wr=!1,(Ja!==null||Za!==null)&&(Pl(),Ja&&(t=Ja,e=Za,Za=Ja=null,Pc(t),e)))for(t=0;t<e.length;t++)Pc(e[t])}}function Xi(e,t){var n=e.stateNode;if(n===null)return null;var i=n[At]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(gn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{Fr=!1}var Ln=null,eu=null,hl=null;function Fc(){if(hl)return hl;var e,t=eu,n=t.length,i,u="value"in Ln?Ln.value:Ln.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===u[o-i];i++);return hl=u.slice(e,1<i?1-i:void 0)}function fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dl(){return!0}function eh(){return!1}function Ot(e){function t(n,i,u,o,f){this._reactName=n,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dl:eh,this.isPropagationStopped=eh,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),t}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=Ot(ma),Zi=A({},ma,{view:0,detail:0}),Wp=Ot(Zi),tu,nu,Ii,pl=A({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(tu=e.screenX-Ii.screenX,nu=e.screenY-Ii.screenY):nu=tu=0,Ii=e),tu)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),th=Ot(pl),Fp=A({},pl,{dataTransfer:0}),eg=Ot(Fp),tg=A({},Zi,{relatedTarget:0}),au=Ot(tg),ng=A({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),ag=Ot(ng),ig=A({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=Ot(ig),lg=A({},ma,{data:0}),nh=Ot(lg),rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=og[e])?!!t[e]:!1}function iu(){return cg}var hg=A({},Zi,{key:function(e){if(e.key){var t=rg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(e){return e.type==="keypress"?fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fg=Ot(hg),dg=A({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=Ot(dg),mg=A({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),pg=Ot(mg),gg=A({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),yg=Ot(gg),vg=A({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_g=Ot(vg),bg=A({},ma,{newState:0,oldState:0}),Sg=Ot(bg),wg=[9,13,27,32],su=gn&&"CompositionEvent"in window,Pi=null;gn&&"documentMode"in document&&(Pi=document.documentMode);var Eg=gn&&"TextEvent"in window&&!Pi,ih=gn&&(!su||Pi&&8<Pi&&11>=Pi),sh=" ",lh=!1;function rh(e,t){switch(e){case"keyup":return wg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function Tg(e,t){switch(e){case"compositionend":return uh(t);case"keypress":return t.which!==32?null:(lh=!0,sh);case"textInput":return e=t.data,e===sh&&lh?null:e;default:return null}}function Ag(e,t){if(Ia)return e==="compositionend"||!su&&rh(e,t)?(e=Fc(),hl=eu=Ln=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ih&&t.locale!=="ko"?null:t.data;default:return null}}var Og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Og[e.type]:t==="textarea"}function ch(e,t,n,i){Ja?Za?Za.push(i):Za=[i]:Ja=i,t=ir(t,"onChange"),0<t.length&&(n=new ml("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Wi=null,Fi=null;function Rg(e){Xd(e,0)}function gl(e){var t=Qi(e);if(Yc(t))return e}function hh(e,t){if(e==="change")return t}var fh=!1;if(gn){var lu;if(gn){var ru="oninput"in document;if(!ru){var dh=document.createElement("div");dh.setAttribute("oninput","return;"),ru=typeof dh.oninput=="function"}lu=ru}else lu=!1;fh=lu&&(!document.documentMode||9<document.documentMode)}function mh(){Wi&&(Wi.detachEvent("onpropertychange",ph),Fi=Wi=null)}function ph(e){if(e.propertyName==="value"&&gl(Fi)){var t=[];ch(t,Fi,e,Pr(e)),Wc(Rg,t)}}function jg(e,t,n){e==="focusin"?(mh(),Wi=t,Fi=n,Wi.attachEvent("onpropertychange",ph)):e==="focusout"&&mh()}function Cg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(Fi)}function xg(e,t){if(e==="click")return gl(t)}function Ug(e,t){if(e==="input"||e==="change")return gl(t)}function Ng(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Ng;function es(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var u=n[i];if(!$i.call(t,u)||!Dt(e[u],t[u]))return!1}return!0}function gh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yh(e,t){var n=gh(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gh(n)}}function vh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _h(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ol(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kg=gn&&"documentMode"in document&&11>=document.documentMode,Pa=null,ou=null,ts=null,cu=!1;function bh(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cu||Pa==null||Pa!==ol(i)||(i=Pa,"selectionStart"in i&&uu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ts&&es(ts,i)||(ts=i,i=ir(ou,"onSelect"),0<i.length&&(t=new ml("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Pa)))}function pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wa={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},hu={},Sh={};gn&&(Sh=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function ga(e){if(hu[e])return hu[e];if(!Wa[e])return e;var t=Wa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sh)return hu[e]=t[n];return e}var wh=ga("animationend"),Eh=ga("animationiteration"),Th=ga("animationstart"),Dg=ga("transitionrun"),zg=ga("transitionstart"),Mg=ga("transitioncancel"),Ah=ga("transitionend"),Oh=new Map,fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fu.push("scrollEnd");function en(e,t){Oh.set(e,t),da(t,[e])}var yl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],Fa=0,du=0;function vl(){for(var e=Fa,t=du=Fa=0;t<e;){var n=Yt[t];Yt[t++]=null;var i=Yt[t];Yt[t++]=null;var u=Yt[t];Yt[t++]=null;var o=Yt[t];if(Yt[t++]=null,i!==null&&u!==null){var f=i.pending;f===null?u.next=u:(u.next=f.next,f.next=u),i.pending=u}o!==0&&Rh(n,u,o)}}function _l(e,t,n,i){Yt[Fa++]=e,Yt[Fa++]=t,Yt[Fa++]=n,Yt[Fa++]=i,du|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function mu(e,t,n,i){return _l(e,t,n,i),bl(e)}function ya(e,t){return _l(e,null,null,t),bl(e)}function Rh(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-wt(n),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=n|536870912),o):null}function bl(e){if(50<Es)throw Es=0,To=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ei={};function qg(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,n,i){return new qg(e,t,n,i)}function pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,t){var n=e.alternate;return n===null?(n=zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sl(e,t,n,i,u,o){var f=0;if(i=e,typeof e=="function")pu(e)&&(f=1);else if(typeof e=="string")f=Gy(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $e:return e=zt(31,n,t,u),e.elementType=$e,e.lanes=o,e;case $:return va(n.children,u,o,t);case G:f=8,u|=24;break;case V:return e=zt(12,n,t,u|2),e.elementType=V,e.lanes=o,e;case Te:return e=zt(13,n,t,u),e.elementType=Te,e.lanes=o,e;case he:return e=zt(19,n,t,u),e.elementType=he,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:f=10;break e;case K:f=9;break e;case Z:f=11;break e;case W:f=14;break e;case He:f=16,i=null;break e}f=29,n=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=zt(f,n,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function va(e,t,n,i){return e=zt(7,e,i,t),e.lanes=n,e}function gu(e,t,n){return e=zt(6,e,null,t),e.lanes=n,e}function Ch(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function yu(e,t,n){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xh=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var n=xh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:el(t)},xh.set(e,t),t)}return{value:e,source:t,stack:el(t)}}var ti=[],ni=0,wl=null,ns=0,Xt=[],Jt=0,Hn=null,on=1,cn="";function vn(e,t){ti[ni++]=ns,ti[ni++]=wl,wl=e,ns=t}function Uh(e,t,n){Xt[Jt++]=on,Xt[Jt++]=cn,Xt[Jt++]=Hn,Hn=e;var i=on;e=cn;var u=32-wt(i)-1;i&=~(1<<u),n+=1;var o=32-wt(t)+u;if(30<o){var f=u-u%5;o=(i&(1<<f)-1).toString(32),i>>=f,u-=f,on=1<<32-wt(t)+u|n<<u|i,cn=o+e}else on=1<<o|n<<u|i,cn=e}function vu(e){e.return!==null&&(vn(e,1),Uh(e,1,0))}function _u(e){for(;e===wl;)wl=ti[--ni],ti[ni]=null,ns=ti[--ni],ti[ni]=null;for(;e===Hn;)Hn=Xt[--Jt],Xt[Jt]=null,cn=Xt[--Jt],Xt[Jt]=null,on=Xt[--Jt],Xt[Jt]=null}function Nh(e,t){Xt[Jt++]=on,Xt[Jt++]=cn,Xt[Jt++]=Hn,on=t.id,cn=t.overflow,Hn=e}var ct=null,Ge=null,we=!1,$n=null,Zt=!1,bu=Error(r(519));function Gn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw as(Qt(t,e)),bu}function kh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ot]=e,t[At]=i,n){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(n=0;n<As.length;n++)ve(As[n],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),Qc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Jc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Pd(t.textContent,n)?(i.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),i.onScroll!=null&&ve("scroll",t),i.onScrollEnd!=null&&ve("scrollend",t),i.onClick!=null&&(t.onclick=pn),t=!0):t=!1,t||Gn(e,!0)}function Dh(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ct=ct.return}}function ai(e){if(e!==ct)return!1;if(!we)return Dh(e),we=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Lo(e.type,e.memoizedProps)),n=!n),n&&Ge&&Gn(e),Dh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ge=lm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ge=lm(e)}else t===27?(t=Ge,na(e.type)?(e=Ko,Ko=null,Ge=e):Ge=t):Ge=ct?Pt(e.stateNode.nextSibling):null;return!0}function _a(){Ge=ct=null,we=!1}function Su(){var e=$n;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),$n=null),e}function as(e){$n===null?$n=[e]:$n.push(e)}var wu=E(null),ba=null,_n=null;function Vn(e,t,n){Q(wu,t._currentValue),t._currentValue=n}function bn(e){e._currentValue=wu.current,z(wu)}function Eu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Tu(e,t,n,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var f=u.child;o=o.firstContext;e:for(;o!==null;){var p=o;o=u;for(var b=0;b<t.length;b++)if(p.context===t[b]){o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Eu(o.return,n,e),i||(f=null);break e}o=p.next}}else if(u.tag===18){if(f=u.return,f===null)throw Error(r(341));f.lanes|=n,o=f.alternate,o!==null&&(o.lanes|=n),Eu(f,n,e),f=null}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===e){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}}function ii(e,t,n,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var f=u.alternate;if(f===null)throw Error(r(387));if(f=f.memoizedProps,f!==null){var p=u.type;Dt(u.pendingProps.value,f.value)||(e!==null?e.push(p):e=[p])}}else if(u===ge.current){if(f=u.alternate,f===null)throw Error(r(387));f.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(xs):e=[xs])}u=u.return}e!==null&&Tu(t,e,n,i),t.flags|=262144}function El(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ba=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return zh(ba,e)}function Tl(e,t){return ba===null&&Sa(e),zh(e,t)}function zh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},_n===null){if(e===null)throw Error(r(308));_n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _n=_n.next=t;return n}var Bg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Lg=s.unstable_scheduleCallback,Hg=s.unstable_NormalPriority,Fe={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new Bg,data:new Map,refCount:0}}function is(e){e.refCount--,e.refCount===0&&Lg(Hg,function(){e.controller.abort()})}var ss=null,Ou=0,si=0,li=null;function $g(e,t){if(ss===null){var n=ss=[];Ou=0,si=xo(),li={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ou++,t.then(Mh,Mh),t}function Mh(){if(--Ou===0&&ss!==null){li!==null&&(li.status="fulfilled");var e=ss;ss=null,si=0,li=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Gg(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),i}var qh=k.S;k.S=function(e,t){Sd=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$g(e,t),qh!==null&&qh(e,t)};var wa=E(null);function Ru(){var e=wa.current;return e!==null?e:qe.pooledCache}function Al(e,t){t===null?Q(wa,wa.current):Q(wa,t.pool)}function Bh(){var e=Ru();return e===null?null:{parent:Fe._currentValue,pool:e}}var ri=Error(r(460)),ju=Error(r(474)),Ol=Error(r(542)),Rl={then:function(){}};function Lh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(pn,pn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gh(e),e;default:if(typeof t.status=="string")t.then(pn,pn);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gh(e),e}throw Ta=t,ri}}function Ea(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ta=n,ri):n}}var Ta=null;function $h(){if(Ta===null)throw Error(r(459));var e=Ta;return Ta=null,e}function Gh(e){if(e===ri||e===Ol)throw Error(r(483))}var ui=null,ls=0;function jl(e){var t=ls;return ls+=1,ui===null&&(ui=[]),Hh(ui,e,t)}function rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cl(e,t){throw t.$$typeof===j?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Vh(e){function t(T,w){if(e){var O=T.deletions;O===null?(T.deletions=[w],T.flags|=16):O.push(w)}}function n(T,w){if(!e)return null;for(;w!==null;)t(T,w),w=w.sibling;return null}function i(T){for(var w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function u(T,w){return T=yn(T,w),T.index=0,T.sibling=null,T}function o(T,w,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<w?(T.flags|=67108866,w):O):(T.flags|=67108866,w)):(T.flags|=1048576,w)}function f(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,w,O,M){return w===null||w.tag!==6?(w=gu(O,T.mode,M),w.return=T,w):(w=u(w,O),w.return=T,w)}function b(T,w,O,M){var te=O.type;return te===$?D(T,w,O.props.children,M,O.key):w!==null&&(w.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===He&&Ea(te)===w.type)?(w=u(w,O.props),rs(w,O),w.return=T,w):(w=Sl(O.type,O.key,O.props,null,T.mode,M),rs(w,O),w.return=T,w)}function R(T,w,O,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==O.containerInfo||w.stateNode.implementation!==O.implementation?(w=yu(O,T.mode,M),w.return=T,w):(w=u(w,O.children||[]),w.return=T,w)}function D(T,w,O,M,te){return w===null||w.tag!==7?(w=va(O,T.mode,M,te),w.return=T,w):(w=u(w,O),w.return=T,w)}function B(T,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=gu(""+w,T.mode,O),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case x:return O=Sl(w.type,w.key,w.props,null,T.mode,O),rs(O,w),O.return=T,O;case q:return w=yu(w,T.mode,O),w.return=T,w;case He:return w=Ea(w),B(T,w,O)}if(vt(w)||ze(w))return w=va(w,T.mode,O,null),w.return=T,w;if(typeof w.then=="function")return B(T,jl(w),O);if(w.$$typeof===H)return B(T,Tl(T,w),O);Cl(T,w)}return null}function C(T,w,O,M){var te=w!==null?w.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return te!==null?null:p(T,w,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return O.key===te?b(T,w,O,M):null;case q:return O.key===te?R(T,w,O,M):null;case He:return O=Ea(O),C(T,w,O,M)}if(vt(O)||ze(O))return te!==null?null:D(T,w,O,M,null);if(typeof O.then=="function")return C(T,w,jl(O),M);if(O.$$typeof===H)return C(T,w,Tl(T,O),M);Cl(T,O)}return null}function N(T,w,O,M,te){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return T=T.get(O)||null,p(w,T,""+M,te);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return T=T.get(M.key===null?O:M.key)||null,b(w,T,M,te);case q:return T=T.get(M.key===null?O:M.key)||null,R(w,T,M,te);case He:return M=Ea(M),N(T,w,O,M,te)}if(vt(M)||ze(M))return T=T.get(O)||null,D(w,T,M,te,null);if(typeof M.then=="function")return N(T,w,O,jl(M),te);if(M.$$typeof===H)return N(T,w,O,Tl(w,M),te);Cl(w,M)}return null}function J(T,w,O,M){for(var te=null,Oe=null,I=w,pe=w=0,Se=null;I!==null&&pe<O.length;pe++){I.index>pe?(Se=I,I=null):Se=I.sibling;var Re=C(T,I,O[pe],M);if(Re===null){I===null&&(I=Se);break}e&&I&&Re.alternate===null&&t(T,I),w=o(Re,w,pe),Oe===null?te=Re:Oe.sibling=Re,Oe=Re,I=Se}if(pe===O.length)return n(T,I),we&&vn(T,pe),te;if(I===null){for(;pe<O.length;pe++)I=B(T,O[pe],M),I!==null&&(w=o(I,w,pe),Oe===null?te=I:Oe.sibling=I,Oe=I);return we&&vn(T,pe),te}for(I=i(I);pe<O.length;pe++)Se=N(I,T,pe,O[pe],M),Se!==null&&(e&&Se.alternate!==null&&I.delete(Se.key===null?pe:Se.key),w=o(Se,w,pe),Oe===null?te=Se:Oe.sibling=Se,Oe=Se);return e&&I.forEach(function(ra){return t(T,ra)}),we&&vn(T,pe),te}function ie(T,w,O,M){if(O==null)throw Error(r(151));for(var te=null,Oe=null,I=w,pe=w=0,Se=null,Re=O.next();I!==null&&!Re.done;pe++,Re=O.next()){I.index>pe?(Se=I,I=null):Se=I.sibling;var ra=C(T,I,Re.value,M);if(ra===null){I===null&&(I=Se);break}e&&I&&ra.alternate===null&&t(T,I),w=o(ra,w,pe),Oe===null?te=ra:Oe.sibling=ra,Oe=ra,I=Se}if(Re.done)return n(T,I),we&&vn(T,pe),te;if(I===null){for(;!Re.done;pe++,Re=O.next())Re=B(T,Re.value,M),Re!==null&&(w=o(Re,w,pe),Oe===null?te=Re:Oe.sibling=Re,Oe=Re);return we&&vn(T,pe),te}for(I=i(I);!Re.done;pe++,Re=O.next())Re=N(I,T,pe,Re.value,M),Re!==null&&(e&&Re.alternate!==null&&I.delete(Re.key===null?pe:Re.key),w=o(Re,w,pe),Oe===null?te=Re:Oe.sibling=Re,Oe=Re);return e&&I.forEach(function(Fy){return t(T,Fy)}),we&&vn(T,pe),te}function De(T,w,O,M){if(typeof O=="object"&&O!==null&&O.type===$&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case x:e:{for(var te=O.key;w!==null;){if(w.key===te){if(te=O.type,te===$){if(w.tag===7){n(T,w.sibling),M=u(w,O.props.children),M.return=T,T=M;break e}}else if(w.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===He&&Ea(te)===w.type){n(T,w.sibling),M=u(w,O.props),rs(M,O),M.return=T,T=M;break e}n(T,w);break}else t(T,w);w=w.sibling}O.type===$?(M=va(O.props.children,T.mode,M,O.key),M.return=T,T=M):(M=Sl(O.type,O.key,O.props,null,T.mode,M),rs(M,O),M.return=T,T=M)}return f(T);case q:e:{for(te=O.key;w!==null;){if(w.key===te)if(w.tag===4&&w.stateNode.containerInfo===O.containerInfo&&w.stateNode.implementation===O.implementation){n(T,w.sibling),M=u(w,O.children||[]),M.return=T,T=M;break e}else{n(T,w);break}else t(T,w);w=w.sibling}M=yu(O,T.mode,M),M.return=T,T=M}return f(T);case He:return O=Ea(O),De(T,w,O,M)}if(vt(O))return J(T,w,O,M);if(ze(O)){if(te=ze(O),typeof te!="function")throw Error(r(150));return O=te.call(O),ie(T,w,O,M)}if(typeof O.then=="function")return De(T,w,jl(O),M);if(O.$$typeof===H)return De(T,w,Tl(T,O),M);Cl(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,w!==null&&w.tag===6?(n(T,w.sibling),M=u(w,O),M.return=T,T=M):(n(T,w),M=gu(O,T.mode,M),M.return=T,T=M),f(T)):n(T,w)}return function(T,w,O,M){try{ls=0;var te=De(T,w,O,M);return ui=null,te}catch(I){if(I===ri||I===Ol)throw I;var Oe=zt(29,I,null,T.mode);return Oe.lanes=M,Oe.return=T,Oe}}}var Aa=Vh(!0),Kh=Vh(!1),Kn=!1;function Cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(je&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=bl(e),Rh(e,null,n),t}return _l(e,i,t,n),bl(e)}function us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zc(e,n)}}function Uu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=f:o=o.next=f,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Nu=!1;function os(){if(Nu){var e=li;if(e!==null)throw e}}function cs(e,t,n,i){Nu=!1;var u=e.updateQueue;Kn=!1;var o=u.firstBaseUpdate,f=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var b=p,R=b.next;b.next=null,f===null?o=R:f.next=R,f=b;var D=e.alternate;D!==null&&(D=D.updateQueue,p=D.lastBaseUpdate,p!==f&&(p===null?D.firstBaseUpdate=R:p.next=R,D.lastBaseUpdate=b))}if(o!==null){var B=u.baseState;f=0,D=R=b=null,p=o;do{var C=p.lane&-536870913,N=C!==p.lane;if(N?(be&C)===C:(i&C)===C){C!==0&&C===si&&(Nu=!0),D!==null&&(D=D.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var J=e,ie=p;C=t;var De=n;switch(ie.tag){case 1:if(J=ie.payload,typeof J=="function"){B=J.call(De,B,C);break e}B=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ie.payload,C=typeof J=="function"?J.call(De,B,C):J,C==null)break e;B=A({},B,C);break e;case 2:Kn=!0}}C=p.callback,C!==null&&(e.flags|=64,N&&(e.flags|=8192),N=u.callbacks,N===null?u.callbacks=[C]:N.push(C))}else N={lane:C,tag:p.tag,payload:p.payload,callback:p.callback,next:null},D===null?(R=D=N,b=B):D=D.next=N,f|=C;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;N=p,p=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);D===null&&(b=B),u.baseState=b,u.firstBaseUpdate=R,u.lastBaseUpdate=D,o===null&&(u.shared.lanes=0),Pn|=f,e.lanes=f,e.memoizedState=B}}function Yh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Qh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Yh(n[e],t)}var oi=E(null),xl=E(0);function Xh(e,t){e=Cn,Q(xl,e),Q(oi,t),Cn=e|t.baseLanes}function ku(){Q(xl,Cn),Q(oi,oi.current)}function Du(){Cn=xl.current,z(oi),z(xl)}var Mt=E(null),It=null;function Xn(e){var t=e.alternate;Q(Ie,Ie.current&1),Q(Mt,e),It===null&&(t===null||oi.current!==null||t.memoizedState!==null)&&(It=e)}function zu(e){Q(Ie,Ie.current),Q(Mt,e),It===null&&(It=e)}function Jh(e){e.tag===22?(Q(Ie,Ie.current),Q(Mt,e),It===null&&(It=e)):Jn()}function Jn(){Q(Ie,Ie.current),Q(Mt,Mt.current)}function qt(e){z(Mt),It===e&&(It=null),z(Ie)}var Ie=E(0);function Ul(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Go(n)||Vo(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sn=0,fe=null,Ne=null,et=null,Nl=!1,ci=!1,Oa=!1,kl=0,hs=0,hi=null,Vg=0;function Xe(){throw Error(r(321))}function Mu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function qu(e,t,n,i,u,o){return Sn=o,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Nf:Wu,Oa=!1,o=n(i,u),Oa=!1,ci&&(o=Ih(t,n,i,u)),Zh(e),o}function Zh(e){k.H=ms;var t=Ne!==null&&Ne.next!==null;if(Sn=0,et=Ne=fe=null,Nl=!1,hs=0,hi=null,t)throw Error(r(300));e===null||tt||(e=e.dependencies,e!==null&&El(e)&&(tt=!0))}function Ih(e,t,n,i){fe=e;var u=0;do{if(ci&&(hi=null),hs=0,ci=!1,25<=u)throw Error(r(301));if(u+=1,et=Ne=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}k.H=kf,o=t(n,i)}while(ci);return o}function Kg(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?fs(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(fe.flags|=1024),t}function Bu(){var e=kl!==0;return kl=0,e}function Lu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hu(e){if(Nl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nl=!1}Sn=0,et=Ne=fe=null,ci=!1,hs=kl=0,hi=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?fe.memoizedState=et=e:et=et.next=e,et}function Pe(){if(Ne===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=et===null?fe.memoizedState:et.next;if(t!==null)et=t,Ne=e;else{if(e===null)throw fe.alternate===null?Error(r(467)):Error(r(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},et===null?fe.memoizedState=et=e:et=et.next=e}return et}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fs(e){var t=hs;return hs+=1,hi===null&&(hi=[]),e=Hh(hi,e,t),t=fe,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Nf:Wu),e}function zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fs(e);if(e.$$typeof===H)return ht(e)}throw Error(r(438,String(e)))}function $u(e){var t=null,n=fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=fe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Dl(),fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Mn;return t.index++,n}function wn(e,t){return typeof t=="function"?t(e):t}function Ml(e){var t=Pe();return Gu(t,Ne,e)}function Gu(e,t,n){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var f=u.next;u.next=o.next,o.next=f}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var p=f=null,b=null,R=t,D=!1;do{var B=R.lane&-536870913;if(B!==R.lane?(be&B)===B:(Sn&B)===B){var C=R.revertLane;if(C===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),B===si&&(D=!0);else if((Sn&C)===C){R=R.next,C===si&&(D=!0);continue}else B={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(p=b=B,f=o):b=b.next=B,fe.lanes|=C,Pn|=C;B=R.action,Oa&&n(o,B),o=R.hasEagerState?R.eagerState:n(o,B)}else C={lane:B,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},b===null?(p=b=C,f=o):b=b.next=C,fe.lanes|=B,Pn|=B;R=R.next}while(R!==null&&R!==t);if(b===null?f=o:b.next=p,!Dt(o,e.memoizedState)&&(tt=!0,D&&(n=li,n!==null)))throw n;e.memoizedState=o,e.baseState=f,e.baseQueue=b,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Vu(e){var t=Pe(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var f=u=u.next;do o=e(o,f.action),f=f.next;while(f!==u);Dt(o,t.memoizedState)||(tt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Ph(e,t,n){var i=fe,u=Pe(),o=we;if(o){if(n===void 0)throw Error(r(407));n=n()}else n=t();var f=!Dt((Ne||u).memoizedState,n);if(f&&(u.memoizedState=n,tt=!0),u=u.queue,Qu(ef.bind(null,i,u,e),[e]),u.getSnapshot!==t||f||et!==null&&et.memoizedState.tag&1){if(i.flags|=2048,fi(9,{destroy:void 0},Fh.bind(null,i,u,n,t),null),qe===null)throw Error(r(349));o||(Sn&127)!==0||Wh(i,t,n)}return n}function Wh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t=Dl(),fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fh(e,t,n,i){t.value=n,t.getSnapshot=i,tf(t)&&nf(e)}function ef(e,t,n){return n(function(){tf(t)&&nf(e)})}function tf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function nf(e){var t=ya(e,2);t!==null&&Ut(t,e,2)}function Ku(e){var t=Et();if(typeof e=="function"){var n=e;if(e=n(),Oa){un(!0);try{n()}finally{un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},t}function af(e,t,n,i){return e.baseState=n,Gu(e,Ne,typeof i=="function"?i:wn)}function Yg(e,t,n,i,u){if(Ll(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};k.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,sf(t,o)):(o.next=n.next,t.pending=n.next=o)}}function sf(e,t){var n=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=k.T,f={};k.T=f;try{var p=n(u,i),b=k.S;b!==null&&b(f,p),lf(e,t,p)}catch(R){Yu(e,t,R)}finally{o!==null&&f.types!==null&&(o.types=f.types),k.T=o}}else try{o=n(u,i),lf(e,t,o)}catch(R){Yu(e,t,R)}}function lf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){rf(e,t,i)},function(i){return Yu(e,t,i)}):rf(e,t,n)}function rf(e,t,n){t.status="fulfilled",t.value=n,uf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,sf(e,n)))}function Yu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,uf(t),t=t.next;while(t!==i)}e.action=null}function uf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function of(e,t){return t}function cf(e,t){if(we){var n=qe.formState;if(n!==null){e:{var i=fe;if(we){if(Ge){t:{for(var u=Ge,o=Zt;u.nodeType!==8;){if(!o){u=null;break t}if(u=Pt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Ge=Pt(u.nextSibling),i=u.data==="F!";break e}}Gn(i)}i=!1}i&&(t=n[0])}}return n=Et(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:t},n.queue=i,n=Cf.bind(null,fe,i),i.dispatch=n,i=Ku(!1),o=Pu.bind(null,fe,!1,i.queue),i=Et(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,n=Yg.bind(null,fe,u,o,n),u.dispatch=n,i.memoizedState=e,[t,n,!1]}function hf(e){var t=Pe();return ff(t,Ne,e)}function ff(e,t,n){if(t=Gu(e,t,of)[0],e=Ml(wn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=fs(t)}catch(f){throw f===ri?Ol:f}else i=t;t=Pe();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(fe.flags|=2048,fi(9,{destroy:void 0},Qg.bind(null,u,n),null)),[i,o,e]}function Qg(e,t){e.action=t}function df(e){var t=Pe(),n=Ne;if(n!==null)return ff(t,n,e);Pe(),t=t.memoizedState,n=Pe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function fi(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=fe.updateQueue,t===null&&(t=Dl(),fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function mf(){return Pe().memoizedState}function ql(e,t,n,i){var u=Et();fe.flags|=e,u.memoizedState=fi(1|t,{destroy:void 0},n,i===void 0?null:i)}function Bl(e,t,n,i){var u=Pe();i=i===void 0?null:i;var o=u.memoizedState.inst;Ne!==null&&i!==null&&Mu(i,Ne.memoizedState.deps)?u.memoizedState=fi(t,o,n,i):(fe.flags|=e,u.memoizedState=fi(1|t,o,n,i))}function pf(e,t){ql(8390656,8,e,t)}function Qu(e,t){Bl(2048,8,e,t)}function Xg(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=Dl(),fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function gf(e){var t=Pe().memoizedState;return Xg({ref:t,nextImpl:e}),function(){if((je&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function yf(e,t){return Bl(4,2,e,t)}function vf(e,t){return Bl(4,4,e,t)}function _f(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bf(e,t,n){n=n!=null?n.concat([e]):null,Bl(4,4,_f.bind(null,t,e),n)}function Xu(){}function Sf(e,t){var n=Pe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Mu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function wf(e,t){var n=Pe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Mu(t,i[1]))return i[0];if(i=e(),Oa){un(!0);try{e()}finally{un(!1)}}return n.memoizedState=[i,t],i}function Ju(e,t,n){return n===void 0||(Sn&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Ed(),fe.lanes|=e,Pn|=e,n)}function Ef(e,t,n,i){return Dt(n,t)?n:oi.current!==null?(e=Ju(e,n,i),Dt(e,t)||(tt=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(be&261930)===0?(tt=!0,e.memoizedState=n):(e=Ed(),fe.lanes|=e,Pn|=e,t)}function Tf(e,t,n,i,u){var o=Y.p;Y.p=o!==0&&8>o?o:8;var f=k.T,p={};k.T=p,Pu(e,!1,t,n);try{var b=u(),R=k.S;if(R!==null&&R(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var D=Gg(b,i);ds(e,t,D,Ht(e))}else ds(e,t,i,Ht(e))}catch(B){ds(e,t,{then:function(){},status:"rejected",reason:B},Ht())}finally{Y.p=o,f!==null&&p.types!==null&&(f.types=p.types),k.T=f}}function Jg(){}function Zu(e,t,n,i){if(e.tag!==5)throw Error(r(476));var u=Af(e).queue;Tf(e,u,t,ne,n===null?Jg:function(){return Of(e),n(i)})}function Af(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:ne},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Of(e){var t=Af(e);t.next===null&&(t=e.alternate.memoizedState),ds(e,t.next.queue,{},Ht())}function Iu(){return ht(xs)}function Rf(){return Pe().memoizedState}function jf(){return Pe().memoizedState}function Zg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ht();e=Yn(n);var i=Qn(t,e,n);i!==null&&(Ut(i,t,n),us(i,t,n)),t={cache:Au()},e.payload=t;return}t=t.return}}function Ig(e,t,n){var i=Ht();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ll(e)?xf(t,n):(n=mu(e,t,n,i),n!==null&&(Ut(n,e,i),Uf(n,t,i)))}function Cf(e,t,n){var i=Ht();ds(e,t,n,i)}function ds(e,t,n,i){var u={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ll(e))xf(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,p=o(f,n);if(u.hasEagerState=!0,u.eagerState=p,Dt(p,f))return _l(e,t,u,0),qe===null&&vl(),!1}catch{}if(n=mu(e,t,u,i),n!==null)return Ut(n,e,i),Uf(n,t,i),!0}return!1}function Pu(e,t,n,i){if(i={lane:2,revertLane:xo(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ll(e)){if(t)throw Error(r(479))}else t=mu(e,n,i,2),t!==null&&Ut(t,e,2)}function Ll(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function xf(e,t){ci=Nl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Uf(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zc(e,n)}}var ms={readContext:ht,use:zl,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};ms.useEffectEvent=Xe;var Nf={readContext:ht,use:zl,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:pf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ql(4194308,4,_f.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){ql(4,2,e,t)},useMemo:function(e,t){var n=Et();t=t===void 0?null:t;var i=e();if(Oa){un(!0);try{e()}finally{un(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Et();if(n!==void 0){var u=n(t);if(Oa){un(!0);try{n(t)}finally{un(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=Ig.bind(null,fe,e),[i.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=Ku(e);var t=e.queue,n=Cf.bind(null,fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Et();return Ju(n,e,t)},useTransition:function(){var e=Ku(!1);return e=Tf.bind(null,fe,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=fe,u=Et();if(we){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),qe===null)throw Error(r(349));(be&127)!==0||Wh(i,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,pf(ef.bind(null,i,o,e),[e]),i.flags|=2048,fi(9,{destroy:void 0},Fh.bind(null,i,o,n,t),null),n},useId:function(){var e=Et(),t=qe.identifierPrefix;if(we){var n=cn,i=on;n=(i&~(1<<32-wt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=kl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Vg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Iu,useFormState:cf,useActionState:cf,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Pu.bind(null,fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:$u,useCacheRefresh:function(){return Et().memoizedState=Zg.bind(null,fe)},useEffectEvent:function(e){var t=Et(),n={impl:e};return t.memoizedState=n,function(){if((je&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Wu={readContext:ht,use:zl,useCallback:Sf,useContext:ht,useEffect:Qu,useImperativeHandle:bf,useInsertionEffect:yf,useLayoutEffect:vf,useMemo:wf,useReducer:Ml,useRef:mf,useState:function(){return Ml(wn)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Pe();return Ef(n,Ne.memoizedState,e,t)},useTransition:function(){var e=Ml(wn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:Ph,useId:Rf,useHostTransitionStatus:Iu,useFormState:hf,useActionState:hf,useOptimistic:function(e,t){var n=Pe();return af(n,Ne,e,t)},useMemoCache:$u,useCacheRefresh:jf};Wu.useEffectEvent=gf;var kf={readContext:ht,use:zl,useCallback:Sf,useContext:ht,useEffect:Qu,useImperativeHandle:bf,useInsertionEffect:yf,useLayoutEffect:vf,useMemo:wf,useReducer:Vu,useRef:mf,useState:function(){return Vu(wn)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Pe();return Ne===null?Ju(n,e,t):Ef(n,Ne.memoizedState,e,t)},useTransition:function(){var e=Vu(wn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:Ph,useId:Rf,useHostTransitionStatus:Iu,useFormState:df,useActionState:df,useOptimistic:function(e,t){var n=Pe();return Ne!==null?af(n,Ne,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$u,useCacheRefresh:jf};kf.useEffectEvent=gf;function Fu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:A({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ht(),u=Yn(i);u.payload=t,n!=null&&(u.callback=n),t=Qn(e,u,i),t!==null&&(Ut(t,e,i),us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ht(),u=Yn(i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Qn(e,u,i),t!==null&&(Ut(t,e,i),us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ht(),i=Yn(n);i.tag=2,t!=null&&(i.callback=t),t=Qn(e,i,n),t!==null&&(Ut(t,e,n),us(t,e,n))}};function Df(e,t,n,i,u,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,f):t.prototype&&t.prototype.isPureReactComponent?!es(n,i)||!es(u,o):!0}function zf(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=A({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Mf(e){yl(e)}function qf(e){console.error(e)}function Bf(e){yl(e)}function Hl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Lf(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function to(e,t,n){return n=Yn(n),n.tag=3,n.payload={element:null},n.callback=function(){Hl(e,t)},n}function Hf(e){return e=Yn(e),e.tag=3,e}function $f(e,t,n,i){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){Lf(t,n,i)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Lf(t,n,i),typeof u!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var p=i.stack;this.componentDidCatch(i.value,{componentStack:p!==null?p:""})})}function Pg(e,t,n,i,u){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ii(t,n,u,!0),n=Mt.current,n!==null){switch(n.tag){case 31:case 13:return It===null?Wl():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=u,i===Rl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Ro(e,i,u)),!1;case 22:return n.flags|=65536,i===Rl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Ro(e,i,u)),!1}throw Error(r(435,n.tag))}return Ro(e,i,u),Wl(),!1}if(we)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==bu&&(e=Error(r(422),{cause:i}),as(Qt(e,n)))):(i!==bu&&(t=Error(r(423),{cause:i}),as(Qt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Qt(i,n),u=to(e.stateNode,i,u),Uu(e,u),Je!==4&&(Je=2)),!1;var o=Error(r(520),{cause:i});if(o=Qt(o,n),ws===null?ws=[o]:ws.push(o),Je!==4&&(Je=2),t===null)return!0;i=Qt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=to(n.stateNode,i,e),Uu(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Wn===null||!Wn.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Hf(u),$f(u,e,n,i),Uu(n,u),!1}n=n.return}while(n!==null);return!1}var no=Error(r(461)),tt=!1;function ft(e,t,n,i){t.child=e===null?Kh(t,null,n,i):Aa(t,e.child,n,i)}function Gf(e,t,n,i,u){n=n.render;var o=t.ref;if("ref"in i){var f={};for(var p in i)p!=="ref"&&(f[p]=i[p])}else f=i;return Sa(t),i=qu(e,t,n,f,o,u),p=Bu(),e!==null&&!tt?(Lu(e,t,u),En(e,t,u)):(we&&p&&vu(t),t.flags|=1,ft(e,t,i,u),t.child)}function Vf(e,t,n,i,u){if(e===null){var o=n.type;return typeof o=="function"&&!pu(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Kf(e,t,o,i,u)):(e=Sl(n.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!co(e,u)){var f=o.memoizedProps;if(n=n.compare,n=n!==null?n:es,n(f,i)&&e.ref===t.ref)return En(e,t,u)}return t.flags|=1,e=yn(o,i),e.ref=t.ref,e.return=t,t.child=e}function Kf(e,t,n,i,u){if(e!==null){var o=e.memoizedProps;if(es(o,i)&&e.ref===t.ref)if(tt=!1,t.pendingProps=i=o,co(e,u))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,En(e,t,u)}return ao(e,t,n,i,u)}function Yf(e,t,n,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return Qf(e,t,o,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Al(t,o!==null?o.cachePool:null),o!==null?Xh(t,o):ku(),Jh(t);else return i=t.lanes=536870912,Qf(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(Al(t,o.cachePool),Xh(t,o),Jn(),t.memoizedState=null):(e!==null&&Al(t,null),ku(),Jn());return ft(e,t,u,n),t.child}function ps(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qf(e,t,n,i,u){var o=Ru();return o=o===null?null:{parent:Fe._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Al(t,null),ku(),Jh(t),e!==null&&ii(e,t,i,!0),t.childLanes=u,null}function $l(e,t){return t=Vl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xf(e,t,n){return Aa(t,e.child,null,n),e=$l(t,t.pendingProps),e.flags|=2,qt(t),t.memoizedState=null,e}function Wg(e,t,n){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(i.mode==="hidden")return e=$l(t,i),t.lanes=536870912,ps(null,e);if(zu(t),(e=Ge)?(e=sm(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:on,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},n=Ch(e),n.return=t,t.child=n,ct=t,Ge=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return $l(t,i)}var o=e.memoizedState;if(o!==null){var f=o.dehydrated;if(zu(t),u)if(t.flags&256)t.flags&=-257,t=Xf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(tt||ii(e,t,n,!1),u=(n&e.childLanes)!==0,tt||u){if(i=qe,i!==null&&(f=Mc(i,n),f!==0&&f!==o.retryLane))throw o.retryLane=f,ya(e,f),Ut(i,e,f),no;Wl(),t=Xf(e,t,n)}else e=o.treeContext,Ge=Pt(f.nextSibling),ct=t,we=!0,$n=null,Zt=!1,e!==null&&Nh(t,e),t=$l(t,i),t.flags|=4096;return t}return e=yn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Gl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ao(e,t,n,i,u){return Sa(t),n=qu(e,t,n,i,void 0,u),i=Bu(),e!==null&&!tt?(Lu(e,t,u),En(e,t,u)):(we&&i&&vu(t),t.flags|=1,ft(e,t,n,u),t.child)}function Jf(e,t,n,i,u,o){return Sa(t),t.updateQueue=null,n=Ih(t,i,n,u),Zh(e),i=Bu(),e!==null&&!tt?(Lu(e,t,o),En(e,t,o)):(we&&i&&vu(t),t.flags|=1,ft(e,t,n,o),t.child)}function Zf(e,t,n,i,u){if(Sa(t),t.stateNode===null){var o=ei,f=n.contextType;typeof f=="object"&&f!==null&&(o=ht(f)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=eo,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},Cu(t),f=n.contextType,o.context=typeof f=="object"&&f!==null?ht(f):ei,o.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Fu(t,n,f,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&eo.enqueueReplaceState(o,o.state,null),cs(t,i,o,u),os(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var p=t.memoizedProps,b=Ra(n,p);o.props=b;var R=o.context,D=n.contextType;f=ei,typeof D=="object"&&D!==null&&(f=ht(D));var B=n.getDerivedStateFromProps;D=typeof B=="function"||typeof o.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,D||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p||R!==f)&&zf(t,o,i,f),Kn=!1;var C=t.memoizedState;o.state=C,cs(t,i,o,u),os(),R=t.memoizedState,p||C!==R||Kn?(typeof B=="function"&&(Fu(t,n,B,i),R=t.memoizedState),(b=Kn||Df(t,n,b,i,C,R,f))?(D||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=R),o.props=i,o.state=R,o.context=f,i=b):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,xu(e,t),f=t.memoizedProps,D=Ra(n,f),o.props=D,B=t.pendingProps,C=o.context,R=n.contextType,b=ei,typeof R=="object"&&R!==null&&(b=ht(R)),p=n.getDerivedStateFromProps,(R=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==B||C!==b)&&zf(t,o,i,b),Kn=!1,C=t.memoizedState,o.state=C,cs(t,i,o,u),os();var N=t.memoizedState;f!==B||C!==N||Kn||e!==null&&e.dependencies!==null&&El(e.dependencies)?(typeof p=="function"&&(Fu(t,n,p,i),N=t.memoizedState),(D=Kn||Df(t,n,D,i,C,N,b)||e!==null&&e.dependencies!==null&&El(e.dependencies))?(R||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,N,b),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,N,b)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=N),o.props=i,o.state=N,o.context=b,i=D):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,Gl(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=Aa(t,e.child,null,u),t.child=Aa(t,null,n,u)):ft(e,t,n,u),t.memoizedState=o.state,e=t.child):e=En(e,t,u),e}function If(e,t,n,i){return _a(),t.flags|=256,ft(e,t,n,i),t.child}var io={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function so(e){return{baseLanes:e,cachePool:Bh()}}function lo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Lt),e}function Pf(e,t,n){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),f&&(u=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(u?Xn(t):Jn(),(e=Ge)?(e=sm(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:on,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},n=Ch(e),n.return=t,t.child=n,ct=t,Ge=null)):e=null,e===null)throw Gn(t);return Vo(e)?t.lanes=32:t.lanes=536870912,null}var p=i.children;return i=i.fallback,u?(Jn(),u=t.mode,p=Vl({mode:"hidden",children:p},u),i=va(i,u,n,null),p.return=t,i.return=t,p.sibling=i,t.child=p,i=t.child,i.memoizedState=so(n),i.childLanes=lo(e,f,n),t.memoizedState=io,ps(null,i)):(Xn(t),ro(t,p))}var b=e.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(o)t.flags&256?(Xn(t),t.flags&=-257,t=uo(e,t,n)):t.memoizedState!==null?(Jn(),t.child=e.child,t.flags|=128,t=null):(Jn(),p=i.fallback,u=t.mode,i=Vl({mode:"visible",children:i.children},u),p=va(p,u,n,null),p.flags|=2,i.return=t,p.return=t,i.sibling=p,t.child=i,Aa(t,e.child,null,n),i=t.child,i.memoizedState=so(n),i.childLanes=lo(e,f,n),t.memoizedState=io,t=ps(null,i));else if(Xn(t),Vo(p)){if(f=p.nextSibling&&p.nextSibling.dataset,f)var R=f.dgst;f=R,i=Error(r(419)),i.stack="",i.digest=f,as({value:i,source:null,stack:null}),t=uo(e,t,n)}else if(tt||ii(e,t,n,!1),f=(n&e.childLanes)!==0,tt||f){if(f=qe,f!==null&&(i=Mc(f,n),i!==0&&i!==b.retryLane))throw b.retryLane=i,ya(e,i),Ut(f,e,i),no;Go(p)||Wl(),t=uo(e,t,n)}else Go(p)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ge=Pt(p.nextSibling),ct=t,we=!0,$n=null,Zt=!1,e!==null&&Nh(t,e),t=ro(t,i.children),t.flags|=4096);return t}return u?(Jn(),p=i.fallback,u=t.mode,b=e.child,R=b.sibling,i=yn(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&65011712,R!==null?p=yn(R,p):(p=va(p,u,n,null),p.flags|=2),p.return=t,i.return=t,i.sibling=p,t.child=i,ps(null,i),i=t.child,p=e.child.memoizedState,p===null?p=so(n):(u=p.cachePool,u!==null?(b=Fe._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=Bh(),p={baseLanes:p.baseLanes|n,cachePool:u}),i.memoizedState=p,i.childLanes=lo(e,f,n),t.memoizedState=io,ps(e.child,i)):(Xn(t),n=e.child,e=n.sibling,n=yn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function ro(e,t){return t=Vl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vl(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function uo(e,t,n){return Aa(t,e.child,null,n),e=ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wf(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Eu(e.return,t,n)}function oo(e,t,n,i,u,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:u,treeForkCount:o}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=u,f.treeForkCount=o)}function Ff(e,t,n){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var f=Ie.current,p=(f&2)!==0;if(p?(f=f&1|2,t.flags|=128):f&=1,Q(Ie,f),ft(e,t,i,n),i=we?ns:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wf(e,n,t);else if(e.tag===19)Wf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ul(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),oo(t,!1,u,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ul(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}oo(t,!0,n,null,o,i);break;case"together":oo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ii(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function co(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&El(e)))}function Fg(e,t,n){switch(t.tag){case 3:Ue(t,t.stateNode.containerInfo),Vn(t,Fe,e.memoizedState.cache),_a();break;case 27:case 5:qn(t);break;case 4:Ue(t,t.stateNode.containerInfo);break;case 10:Vn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,zu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Xn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Pf(e,t,n):(Xn(t),e=En(e,t,n),e!==null?e.sibling:null);Xn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ii(e,t,n,!1),i=(n&t.childLanes)!==0),u){if(i)return Ff(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Q(Ie,Ie.current),i)break;return null;case 22:return t.lanes=0,Yf(e,t,n,t.pendingProps);case 24:Vn(t,Fe,e.memoizedState.cache)}return En(e,t,n)}function ed(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!co(e,n)&&(t.flags&128)===0)return tt=!1,Fg(e,t,n);tt=(e.flags&131072)!==0}else tt=!1,we&&(t.flags&1048576)!==0&&Uh(t,ns,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Ea(t.elementType),t.type=e,typeof e=="function")pu(e)?(i=Ra(e,i),t.tag=1,t=Zf(null,t,e,i,n)):(t.tag=0,t=ao(null,t,e,i,n));else{if(e!=null){var u=e.$$typeof;if(u===Z){t.tag=11,t=Gf(null,t,e,i,n);break e}else if(u===W){t.tag=14,t=Vf(null,t,e,i,n);break e}}throw t=yt(e)||e,Error(r(306,t,""))}}return t;case 0:return ao(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,u=Ra(i,t.pendingProps),Zf(e,t,i,u,n);case 3:e:{if(Ue(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,xu(e,t),cs(t,i,null,n);var f=t.memoizedState;if(i=f.cache,Vn(t,Fe,i),i!==o.cache&&Tu(t,[Fe],n,!0),os(),i=f.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=If(e,t,i,n);break e}else if(i!==u){u=Qt(Error(r(424)),t),as(u),t=If(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ge=Pt(e.firstChild),ct=t,we=!0,$n=null,Zt=!0,n=Kh(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_a(),i===u){t=En(e,t,n);break e}ft(e,t,i,n)}t=t.child}return t;case 26:return Gl(e,t),e===null?(n=hm(t.type,null,t.pendingProps,null))?t.memoizedState=n:we||(n=t.type,e=t.pendingProps,i=sr(de.current).createElement(n),i[ot]=t,i[At]=e,dt(i,n,e),lt(i),t.stateNode=i):t.memoizedState=hm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qn(t),e===null&&we&&(i=t.stateNode=um(t.type,t.pendingProps,de.current),ct=t,Zt=!0,u=Ge,na(t.type)?(Ko=u,Ge=Pt(i.firstChild)):Ge=u),ft(e,t,t.pendingProps.children,n),Gl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((u=i=Ge)&&(i=Cy(i,t.type,t.pendingProps,Zt),i!==null?(t.stateNode=i,ct=t,Ge=Pt(i.firstChild),Zt=!1,u=!0):u=!1),u||Gn(t)),qn(t),u=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,i=o.children,Lo(u,o)?i=null:f!==null&&Lo(u,f)&&(t.flags|=32),t.memoizedState!==null&&(u=qu(e,t,Kg,null,null,n),xs._currentValue=u),Gl(e,t),ft(e,t,i,n),t.child;case 6:return e===null&&we&&((e=n=Ge)&&(n=xy(n,t.pendingProps,Zt),n!==null?(t.stateNode=n,ct=t,Ge=null,e=!0):e=!1),e||Gn(t)),null;case 13:return Pf(e,t,n);case 4:return Ue(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Aa(t,null,i,n):ft(e,t,i,n),t.child;case 11:return Gf(e,t,t.type,t.pendingProps,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Vn(t,t.type,i.value),ft(e,t,i.children,n),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,Sa(t),u=ht(u),i=i(u),t.flags|=1,ft(e,t,i,n),t.child;case 14:return Vf(e,t,t.type,t.pendingProps,n);case 15:return Kf(e,t,t.type,t.pendingProps,n);case 19:return Ff(e,t,n);case 31:return Wg(e,t,n);case 22:return Yf(e,t,n,t.pendingProps);case 24:return Sa(t),i=ht(Fe),e===null?(u=Ru(),u===null&&(u=qe,o=Au(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:i,cache:u},Cu(t),Vn(t,Fe,u)):((e.lanes&n)!==0&&(xu(e,t),cs(t,null,null,n),os()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Vn(t,Fe,i)):(i=o.cache,Vn(t,Fe,i),i!==u.cache&&Tu(t,[Fe],n,!0))),ft(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Tn(e){e.flags|=4}function ho(e,t,n,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Rd())e.flags|=8192;else throw Ta=Rl,ju}else e.flags&=-16777217}function td(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gm(t))if(Rd())e.flags|=8192;else throw Ta=Rl,ju}function Kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vi():536870912,e.lanes|=t,gi|=t)}function gs(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ey(e,t,n){var i=t.pendingProps;switch(_u(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),bn(Fe),_e(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ai(t)?Tn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Su())),Ve(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(Tn(t),o!==null?(Ve(t),td(t,o)):(Ve(t),ho(t,u,null,i,n))):o?o!==e.memoizedState?(Tn(t),Ve(t),td(t,o)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Tn(t),Ve(t),ho(t,u,e,i,n)),null;case 27:if(ha(t),n=de.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Tn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}e=X.current,ai(t)?kh(t):(e=um(u,i,n),t.stateNode=e,Tn(t))}return Ve(t),null;case 5:if(ha(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Tn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}if(o=X.current,ai(t))kh(t);else{var f=sr(de.current);switch(o){case 1:o=f.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=f.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=f.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=f.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=f.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?f.createElement("select",{is:i.is}):f.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?f.createElement(u,{is:i.is}):f.createElement(u)}}o[ot]=t,o[At]=i;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=o;e:switch(dt(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Tn(t)}}return Ve(t),ho(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Tn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=de.current,ai(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,u=ct,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[ot]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Pd(e.nodeValue,n)),e||Gn(t,!0)}else e=sr(e).createTextNode(i),e[ot]=t,t.stateNode=e}return Ve(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ai(t),n!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ot]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else n=Su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(qt(t),t):(qt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ve(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ai(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ot]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),u=!1}else u=Su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(qt(t),t):(qt(t),null)}return qt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),Ve(t),null);case 4:return _e(),e===null&&Do(t.stateNode.containerInfo),Ve(t),null;case 10:return bn(t.type),Ve(t),null;case 19:if(z(Ie),i=t.memoizedState,i===null)return Ve(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)gs(i,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Ul(e),o!==null){for(t.flags|=128,gs(i,!1),e=o.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jh(n,e),n=n.sibling;return Q(Ie,Ie.current&1|2),we&&vn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&bt()>Zl&&(t.flags|=128,u=!0,gs(i,!1),t.lanes=4194304)}else{if(!u)if(e=Ul(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),gs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return Ve(t),null}else 2*bt()-i.renderingStartTime>Zl&&n!==536870912&&(t.flags|=128,u=!0,gs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=bt(),e.sibling=null,n=Ie.current,Q(Ie,u?n&1|2:n&1),we&&vn(t,i.treeForkCount),e):(Ve(t),null);case 22:case 23:return qt(t),Du(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),n=t.updateQueue,n!==null&&Kl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&z(wa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bn(Fe),Ve(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function ty(e,t){switch(_u(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(Fe),_e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ha(t),null;case 31:if(t.memoizedState!==null){if(qt(t),t.alternate===null)throw Error(r(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(Ie),null;case 4:return _e(),null;case 10:return bn(t.type),null;case 22:case 23:return qt(t),Du(),e!==null&&z(wa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bn(Fe),null;case 25:return null;default:return null}}function nd(e,t){switch(_u(t),t.tag){case 3:bn(Fe),_e();break;case 26:case 27:case 5:ha(t);break;case 4:_e();break;case 31:t.memoizedState!==null&&qt(t);break;case 13:qt(t);break;case 19:z(Ie);break;case 10:bn(t.type);break;case 22:case 23:qt(t),Du(),e!==null&&z(wa);break;case 24:bn(Fe)}}function ys(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){i=void 0;var o=n.create,f=n.inst;i=o(),f.destroy=i}n=n.next}while(n!==u)}}catch(p){xe(t,t.return,p)}}function Zn(e,t,n){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var f=i.inst,p=f.destroy;if(p!==void 0){f.destroy=void 0,u=t;var b=n,R=p;try{R()}catch(D){xe(u,b,D)}}}i=i.next}while(i!==o)}}catch(D){xe(t,t.return,D)}}function ad(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Qh(t,n)}catch(i){xe(e,e.return,i)}}}function id(e,t,n){n.props=Ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){xe(e,t,i)}}function vs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(u){xe(e,t,u)}}function hn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(u){xe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){xe(e,t,u)}else n.current=null}function sd(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(u){xe(e,e.return,u)}}function fo(e,t,n){try{var i=e.stateNode;Ey(i,e.type,n,t),i[At]=t}catch(u){xe(e,e.return,u)}}function ld(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&na(e.type)||e.tag===4}function mo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function po(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pn));else if(i!==4&&(i===27&&na(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(po(e,t,n),e=e.sibling;e!==null;)po(e,t,n),e=e.sibling}function Yl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&na(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Yl(e,t,n),e=e.sibling;e!==null;)Yl(e,t,n),e=e.sibling}function rd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);dt(t,i,n),t[ot]=e,t[At]=n}catch(o){xe(e,e.return,o)}}var An=!1,nt=!1,go=!1,ud=typeof WeakSet=="function"?WeakSet:Set,rt=null;function ny(e,t){if(e=e.containerInfo,qo=fr,e=_h(e),uu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var f=0,p=-1,b=-1,R=0,D=0,B=e,C=null;t:for(;;){for(var N;B!==n||u!==0&&B.nodeType!==3||(p=f+u),B!==o||i!==0&&B.nodeType!==3||(b=f+i),B.nodeType===3&&(f+=B.nodeValue.length),(N=B.firstChild)!==null;)C=B,B=N;for(;;){if(B===e)break t;if(C===n&&++R===u&&(p=f),C===o&&++D===i&&(b=f),(N=B.nextSibling)!==null)break;B=C,C=B.parentNode}B=N}n=p===-1||b===-1?null:{start:p,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bo={focusedElem:e,selectionRange:n},fr=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var J=Ra(n.type,u);e=i.getSnapshotBeforeUpdate(J,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(ie){xe(n,n.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)$o(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$o(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function od(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Rn(e,n),i&4&&ys(5,n);break;case 1:if(Rn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){xe(n,n.return,f)}else{var u=Ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){xe(n,n.return,f)}}i&64&&ad(n),i&512&&vs(n,n.return);break;case 3:if(Rn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Qh(e,t)}catch(f){xe(n,n.return,f)}}break;case 27:t===null&&i&4&&rd(n);case 26:case 5:Rn(e,n),t===null&&i&4&&sd(n),i&512&&vs(n,n.return);break;case 12:Rn(e,n);break;case 31:Rn(e,n),i&4&&fd(e,n);break;case 13:Rn(e,n),i&4&&dd(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=hy.bind(null,n),Uy(e,n))));break;case 22:if(i=n.memoizedState!==null||An,!i){t=t!==null&&t.memoizedState!==null||nt,u=An;var o=nt;An=i,(nt=t)&&!o?jn(e,n,(n.subtreeFlags&8772)!==0):Rn(e,n),An=u,nt=o}break;case 30:break;default:Rn(e,n)}}function cd(e){var t=e.alternate;t!==null&&(e.alternate=null,cd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Rt=!1;function On(e,t,n){for(n=n.child;n!==null;)hd(e,t,n),n=n.sibling}function hd(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(fa,n)}catch{}switch(n.tag){case 26:nt||hn(n,t),On(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nt||hn(n,t);var i=Qe,u=Rt;na(n.type)&&(Qe=n.stateNode,Rt=!1),On(e,t,n),Rs(n.stateNode),Qe=i,Rt=u;break;case 5:nt||hn(n,t);case 6:if(i=Qe,u=Rt,Qe=null,On(e,t,n),Qe=i,Rt=u,Qe!==null)if(Rt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(n.stateNode)}catch(o){xe(n,t,o)}else try{Qe.removeChild(n.stateNode)}catch(o){xe(n,t,o)}break;case 18:Qe!==null&&(Rt?(e=Qe,am(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ti(e)):am(Qe,n.stateNode));break;case 4:i=Qe,u=Rt,Qe=n.stateNode.containerInfo,Rt=!0,On(e,t,n),Qe=i,Rt=u;break;case 0:case 11:case 14:case 15:Zn(2,n,t),nt||Zn(4,n,t),On(e,t,n);break;case 1:nt||(hn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&id(n,t,i)),On(e,t,n);break;case 21:On(e,t,n);break;case 22:nt=(i=nt)||n.memoizedState!==null,On(e,t,n),nt=i;break;default:On(e,t,n)}}function fd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ti(e)}catch(n){xe(t,t.return,n)}}}function dd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ti(e)}catch(n){xe(t,t.return,n)}}function ay(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ud),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ud),t;default:throw Error(r(435,e.tag))}}function Ql(e,t){var n=ay(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var u=fy.bind(null,e,i);i.then(u,u)}})}function jt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var u=n[i],o=e,f=t,p=f;e:for(;p!==null;){switch(p.tag){case 27:if(na(p.type)){Qe=p.stateNode,Rt=!1;break e}break;case 5:Qe=p.stateNode,Rt=!1;break e;case 3:case 4:Qe=p.stateNode.containerInfo,Rt=!0;break e}p=p.return}if(Qe===null)throw Error(r(160));hd(o,f,u),Qe=null,Rt=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)md(t,e),t=t.sibling}var tn=null;function md(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),Ct(e),i&4&&(Zn(3,e,e.return),ys(3,e),Zn(5,e,e.return));break;case 1:jt(t,e),Ct(e),i&512&&(nt||n===null||hn(n,n.return)),i&64&&An&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var u=tn;if(jt(t,e),Ct(e),i&512&&(nt||n===null||hn(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Yi]||o[ot]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),dt(o,i,n),o[ot]=e,lt(o),i=o;break e;case"link":var f=mm("link","href",u).get(i+(n.href||""));if(f){for(var p=0;p<f.length;p++)if(o=f[p],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(p,1);break t}}o=u.createElement(i),dt(o,i,n),u.head.appendChild(o);break;case"meta":if(f=mm("meta","content",u).get(i+(n.content||""))){for(p=0;p<f.length;p++)if(o=f[p],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(p,1);break t}}o=u.createElement(i),dt(o,i,n),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[ot]=e,lt(o),i=o}e.stateNode=i}else pm(u,e.type,e.stateNode);else e.stateNode=dm(u,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?pm(u,e.type,e.stateNode):dm(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&fo(e,e.memoizedProps,n.memoizedProps)}break;case 27:jt(t,e),Ct(e),i&512&&(nt||n===null||hn(n,n.return)),n!==null&&i&4&&fo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jt(t,e),Ct(e),i&512&&(nt||n===null||hn(n,n.return)),e.flags&32){u=e.stateNode;try{Xa(u,"")}catch(J){xe(e,e.return,J)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,fo(e,u,n!==null?n.memoizedProps:u)),i&1024&&(go=!0);break;case 6:if(jt(t,e),Ct(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(J){xe(e,e.return,J)}}break;case 3:if(ur=null,u=tn,tn=lr(t.containerInfo),jt(t,e),tn=u,Ct(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(J){xe(e,e.return,J)}go&&(go=!1,pd(e));break;case 4:i=tn,tn=lr(e.stateNode.containerInfo),jt(t,e),Ct(e),tn=i;break;case 12:jt(t,e),Ct(e);break;case 31:jt(t,e),Ct(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ql(e,i)));break;case 13:jt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Jl=bt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ql(e,i)));break;case 22:u=e.memoizedState!==null;var b=n!==null&&n.memoizedState!==null,R=An,D=nt;if(An=R||u,nt=D||b,jt(t,e),nt=D,An=R,Ct(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||b||An||nt||ja(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){b=n=t;try{if(o=b.stateNode,u)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=b.stateNode;var B=b.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null;p.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(J){xe(b,b.return,J)}}}else if(t.tag===6){if(n===null){b=t;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(J){xe(b,b.return,J)}}}else if(t.tag===18){if(n===null){b=t;try{var N=b.stateNode;u?im(N,!0):im(b.stateNode,!1)}catch(J){xe(b,b.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ql(e,n))));break;case 19:jt(t,e),Ct(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ql(e,i)));break;case 30:break;case 21:break;default:jt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(ld(i)){n=i;break}i=i.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,o=mo(e);Yl(e,o,u);break;case 5:var f=n.stateNode;n.flags&32&&(Xa(f,""),n.flags&=-33);var p=mo(e);Yl(e,p,f);break;case 3:case 4:var b=n.stateNode.containerInfo,R=mo(e);po(e,R,b);break;default:throw Error(r(161))}}catch(D){xe(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)od(e,t.alternate,t),t=t.sibling}function ja(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zn(4,t,t.return),ja(t);break;case 1:hn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&id(t,t.return,n),ja(t);break;case 27:Rs(t.stateNode);case 26:case 5:hn(t,t.return),ja(t);break;case 22:t.memoizedState===null&&ja(t);break;case 30:ja(t);break;default:ja(t)}e=e.sibling}}function jn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:jn(u,o,n),ys(4,o);break;case 1:if(jn(u,o,n),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){xe(i,i.return,R)}if(i=o,u=i.updateQueue,u!==null){var p=i.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)Yh(b[u],p)}catch(R){xe(i,i.return,R)}}n&&f&64&&ad(o),vs(o,o.return);break;case 27:rd(o);case 26:case 5:jn(u,o,n),n&&i===null&&f&4&&sd(o),vs(o,o.return);break;case 12:jn(u,o,n);break;case 31:jn(u,o,n),n&&f&4&&fd(u,o);break;case 13:jn(u,o,n),n&&f&4&&dd(u,o);break;case 22:o.memoizedState===null&&jn(u,o,n),vs(o,o.return);break;case 30:break;default:jn(u,o,n)}t=t.sibling}}function yo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&is(n))}function vo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e))}function nn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gd(e,t,n,i),t=t.sibling}function gd(e,t,n,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,n,i),u&2048&&ys(9,t);break;case 1:nn(e,t,n,i);break;case 3:nn(e,t,n,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e)));break;case 12:if(u&2048){nn(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,p=o.onPostCommit;typeof p=="function"&&p(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){xe(t,t.return,b)}}else nn(e,t,n,i);break;case 31:nn(e,t,n,i);break;case 13:nn(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?nn(e,t,n,i):_s(e,t):o._visibility&2?nn(e,t,n,i):(o._visibility|=2,di(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&yo(f,t);break;case 24:nn(e,t,n,i),u&2048&&vo(t.alternate,t);break;default:nn(e,t,n,i)}}function di(e,t,n,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,f=t,p=n,b=i,R=f.flags;switch(f.tag){case 0:case 11:case 15:di(o,f,p,b,u),ys(8,f);break;case 23:break;case 22:var D=f.stateNode;f.memoizedState!==null?D._visibility&2?di(o,f,p,b,u):_s(o,f):(D._visibility|=2,di(o,f,p,b,u)),u&&R&2048&&yo(f.alternate,f);break;case 24:di(o,f,p,b,u),u&&R&2048&&vo(f.alternate,f);break;default:di(o,f,p,b,u)}t=t.sibling}}function _s(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,u=i.flags;switch(i.tag){case 22:_s(n,i),u&2048&&yo(i.alternate,i);break;case 24:_s(n,i),u&2048&&vo(i.alternate,i);break;default:_s(n,i)}t=t.sibling}}var bs=8192;function mi(e,t,n){if(e.subtreeFlags&bs)for(e=e.child;e!==null;)yd(e,t,n),e=e.sibling}function yd(e,t,n){switch(e.tag){case 26:mi(e,t,n),e.flags&bs&&e.memoizedState!==null&&Vy(n,tn,e.memoizedState,e.memoizedProps);break;case 5:mi(e,t,n);break;case 3:case 4:var i=tn;tn=lr(e.stateNode.containerInfo),mi(e,t,n),tn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=bs,bs=16777216,mi(e,t,n),bs=i):mi(e,t,n));break;default:mi(e,t,n)}}function vd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ss(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];rt=i,bd(i,e)}vd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_d(e),e=e.sibling}function _d(e){switch(e.tag){case 0:case 11:case 15:Ss(e),e.flags&2048&&Zn(9,e,e.return);break;case 3:Ss(e);break;case 12:Ss(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xl(e)):Ss(e);break;default:Ss(e)}}function Xl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];rt=i,bd(i,e)}vd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zn(8,t,t.return),Xl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function bd(e,t){for(;rt!==null;){var n=rt;switch(n.tag){case 0:case 11:case 15:Zn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:is(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,rt=i;else e:for(n=e;rt!==null;){i=rt;var u=i.sibling,o=i.return;if(cd(i),i===n){rt=null;break e}if(u!==null){u.return=o,rt=u;break e}rt=o}}}var iy={getCacheForType:function(e){var t=ht(Fe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ht(Fe).controller.signal}},sy=typeof WeakMap=="function"?WeakMap:Map,je=0,qe=null,ye=null,be=0,Ce=0,Bt=null,In=!1,pi=!1,_o=!1,Cn=0,Je=0,Pn=0,Ca=0,bo=0,Lt=0,gi=0,ws=null,xt=null,So=!1,Jl=0,Sd=0,Zl=1/0,Il=null,Wn=null,it=0,Fn=null,yi=null,xn=0,wo=0,Eo=null,wd=null,Es=0,To=null;function Ht(){return(je&2)!==0&&be!==0?be&-be:k.T!==null?xo():qc()}function Ed(){if(Lt===0)if((be&536870912)===0||we){var e=Me;Me<<=1,(Me&3932160)===0&&(Me=262144),Lt=e}else Lt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Lt}function Ut(e,t,n){(e===qe&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(vi(e,0),ea(e,be,Lt,!1)),Ki(e,n),((je&2)===0||e!==qe)&&(e===qe&&((je&2)===0&&(Ca|=n),Je===4&&ea(e,be,Lt,!1)),fn(e))}function Td(e,t,n){if((je&6)!==0)throw Error(r(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ut(e,t),u=i?uy(e,t):Oo(e,t,!0),o=i;do{if(u===0){pi&&!i&&ea(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!ly(n)){u=Oo(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var p=e;u=ws;var b=p.current.memoizedState.isDehydrated;if(b&&(vi(p,f).flags|=256),f=Oo(p,f,!1),f!==2){if(_o&&!b){p.errorRecoveryDisabledLanes|=o,Ca|=o,u=4;break e}o=xt,xt=u,o!==null&&(xt===null?xt=o:xt.push.apply(xt,o))}u=f}if(o=!1,u!==2)continue}}if(u===1){vi(e,0),ea(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:ea(i,t,Lt,!In);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Jl+300-bt(),10<u)){if(ea(i,t,Lt,!In),Ye(i,0,!0)!==0)break e;xn=t,i.timeoutHandle=tm(Ad.bind(null,i,n,xt,Il,So,t,Lt,Ca,gi,In,o,"Throttled",-0,0),u);break e}Ad(i,n,xt,Il,So,t,Lt,Ca,gi,In,o,null,-0,0)}}break}while(!0);fn(e)}function Ad(e,t,n,i,u,o,f,p,b,R,D,B,C,N){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},yd(t,o,B);var J=(o&62914560)===o?Jl-bt():(o&4194048)===o?Sd-bt():0;if(J=Ky(B,J),J!==null){xn=o,e.cancelPendingCommit=J(kd.bind(null,e,t,o,n,i,u,f,p,b,D,B,null,C,N)),ea(e,o,f,!R);return}}kd(e,t,o,n,i,u,f,p,b)}function ly(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var u=n[i],o=u.getSnapshot;u=u.value;try{if(!Dt(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ea(e,t,n,i){t&=~bo,t&=~Ca,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-wt(u),f=1<<o;i[o]=-1,u&=~f}n!==0&&Dc(e,n,t)}function Pl(){return(je&6)===0?(Ts(0),!1):!0}function Ao(){if(ye!==null){if(Ce===0)var e=ye.return;else e=ye,_n=ba=null,Hu(e),ui=null,ls=0,e=ye;for(;e!==null;)nd(e.alternate,e),e=e.return;ye=null}}function vi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Oy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),xn=0,Ao(),qe=e,ye=n=yn(e.current,null),be=t,Ce=0,Bt=null,In=!1,pi=ut(e,t),_o=!1,gi=Lt=bo=Ca=Pn=Je=0,xt=ws=null,So=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-wt(i),o=1<<u;t|=e[u],i&=~o}return Cn=t,vl(),n}function Od(e,t){fe=null,k.H=ms,t===ri||t===Ol?(t=$h(),Ce=3):t===ju?(t=$h(),Ce=4):Ce=t===no?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,ye===null&&(Je=1,Hl(e,Qt(t,e.current)))}function Rd(){var e=Mt.current;return e===null?!0:(be&4194048)===be?It===null:(be&62914560)===be||(be&536870912)!==0?e===It:!1}function jd(){var e=k.H;return k.H=ms,e===null?ms:e}function Cd(){var e=k.A;return k.A=iy,e}function Wl(){Je=4,In||(be&4194048)!==be&&Mt.current!==null||(pi=!0),(Pn&134217727)===0&&(Ca&134217727)===0||qe===null||ea(qe,be,Lt,!1)}function Oo(e,t,n){var i=je;je|=2;var u=jd(),o=Cd();(qe!==e||be!==t)&&(Il=null,vi(e,t)),t=!1;var f=Je;e:do try{if(Ce!==0&&ye!==null){var p=ye,b=Bt;switch(Ce){case 8:Ao(),f=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var R=Ce;if(Ce=0,Bt=null,_i(e,p,b,R),n&&pi){f=0;break e}break;default:R=Ce,Ce=0,Bt=null,_i(e,p,b,R)}}ry(),f=Je;break}catch(D){Od(e,D)}while(!0);return t&&e.shellSuspendCounter++,_n=ba=null,je=i,k.H=u,k.A=o,ye===null&&(qe=null,be=0,vl()),f}function ry(){for(;ye!==null;)xd(ye)}function uy(e,t){var n=je;je|=2;var i=jd(),u=Cd();qe!==e||be!==t?(Il=null,Zl=bt()+500,vi(e,t)):pi=ut(e,t);e:do try{if(Ce!==0&&ye!==null){t=ye;var o=Bt;t:switch(Ce){case 1:Ce=0,Bt=null,_i(e,t,o,1);break;case 2:case 9:if(Lh(o)){Ce=0,Bt=null,Ud(t);break}t=function(){Ce!==2&&Ce!==9||qe!==e||(Ce=7),fn(e)},o.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Lh(o)?(Ce=0,Bt=null,Ud(t)):(Ce=0,Bt=null,_i(e,t,o,7));break;case 5:var f=null;switch(ye.tag){case 26:f=ye.memoizedState;case 5:case 27:var p=ye;if(f?gm(f):p.stateNode.complete){Ce=0,Bt=null;var b=p.sibling;if(b!==null)ye=b;else{var R=p.return;R!==null?(ye=R,Fl(R)):ye=null}break t}}Ce=0,Bt=null,_i(e,t,o,5);break;case 6:Ce=0,Bt=null,_i(e,t,o,6);break;case 8:Ao(),Je=6;break e;default:throw Error(r(462))}}oy();break}catch(D){Od(e,D)}while(!0);return _n=ba=null,k.H=i,k.A=u,je=n,ye!==null?0:(qe=null,be=0,vl(),Je)}function oy(){for(;ye!==null&&!Br();)xd(ye)}function xd(e){var t=ed(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?Fl(e):ye=t}function Ud(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jf(n,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Jf(n,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:Hu(t);default:nd(n,t),t=ye=jh(t,Cn),t=ed(n,t,Cn)}e.memoizedProps=e.pendingProps,t===null?Fl(e):ye=t}function _i(e,t,n,i){_n=ba=null,Hu(t),ui=null,ls=0;var u=t.return;try{if(Pg(e,u,t,n,be)){Je=1,Hl(e,Qt(n,e.current)),ye=null;return}}catch(o){if(u!==null)throw ye=u,o;Je=1,Hl(e,Qt(n,e.current)),ye=null;return}t.flags&32768?(we||i===1?e=!0:pi||(be&536870912)!==0?e=!1:(In=e=!0,(i===2||i===9||i===3||i===6)&&(i=Mt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Nd(t,e)):Fl(t)}function Fl(e){var t=e;do{if((t.flags&32768)!==0){Nd(t,In);return}e=t.return;var n=ey(t.alternate,t,Cn);if(n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Je===0&&(Je=5)}function Nd(e,t){do{var n=ty(e.alternate,e);if(n!==null){n.flags&=32767,ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=n}while(e!==null);Je=6,ye=null}function kd(e,t,n,i,u,o,f,p,b){e.cancelPendingCommit=null;do er();while(it!==0);if((je&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=du,Gp(e,n,o,f,p,b),e===qe&&(ye=qe=null,be=0),yi=t,Fn=e,xn=n,wo=o,Eo=u,wd=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dy(La,function(){return Bd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=k.T,k.T=null,u=Y.p,Y.p=2,f=je,je|=4;try{ny(e,t,n)}finally{je=f,Y.p=u,k.T=i}}it=1,Dd(),zd(),Md()}}function Dd(){if(it===1){it=0;var e=Fn,t=yi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null;var i=Y.p;Y.p=2;var u=je;je|=4;try{md(t,e);var o=Bo,f=_h(e.containerInfo),p=o.focusedElem,b=o.selectionRange;if(f!==p&&p&&p.ownerDocument&&vh(p.ownerDocument.documentElement,p)){if(b!==null&&uu(p)){var R=b.start,D=b.end;if(D===void 0&&(D=R),"selectionStart"in p)p.selectionStart=R,p.selectionEnd=Math.min(D,p.value.length);else{var B=p.ownerDocument||document,C=B&&B.defaultView||window;if(C.getSelection){var N=C.getSelection(),J=p.textContent.length,ie=Math.min(b.start,J),De=b.end===void 0?ie:Math.min(b.end,J);!N.extend&&ie>De&&(f=De,De=ie,ie=f);var T=yh(p,ie),w=yh(p,De);if(T&&w&&(N.rangeCount!==1||N.anchorNode!==T.node||N.anchorOffset!==T.offset||N.focusNode!==w.node||N.focusOffset!==w.offset)){var O=B.createRange();O.setStart(T.node,T.offset),N.removeAllRanges(),ie>De?(N.addRange(O),N.extend(w.node,w.offset)):(O.setEnd(w.node,w.offset),N.addRange(O))}}}}for(B=[],N=p;N=N.parentNode;)N.nodeType===1&&B.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<B.length;p++){var M=B[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}fr=!!qo,Bo=qo=null}finally{je=u,Y.p=i,k.T=n}}e.current=t,it=2}}function zd(){if(it===2){it=0;var e=Fn,t=yi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=k.T,k.T=null;var i=Y.p;Y.p=2;var u=je;je|=4;try{od(e,t.alternate,t)}finally{je=u,Y.p=i,k.T=n}}it=3}}function Md(){if(it===4||it===3){it=0,tl();var e=Fn,t=yi,n=xn,i=wd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,yi=Fn=null,qd(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Wn=null),Vr(n),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(fa,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=k.T,u=Y.p,Y.p=2,k.T=null;try{for(var o=e.onRecoverableError,f=0;f<i.length;f++){var p=i[f];o(p.value,{componentStack:p.stack})}}finally{k.T=t,Y.p=u}}(xn&3)!==0&&er(),fn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===To?Es++:(Es=0,To=e):Es=0,Ts(0)}}function qd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,is(t)))}function er(){return Dd(),zd(),Md(),Bd()}function Bd(){if(it!==5)return!1;var e=Fn,t=wo;wo=0;var n=Vr(xn),i=k.T,u=Y.p;try{Y.p=32>n?32:n,k.T=null,n=Eo,Eo=null;var o=Fn,f=xn;if(it=0,yi=Fn=null,xn=0,(je&6)!==0)throw Error(r(331));var p=je;if(je|=4,_d(o.current),gd(o,o.current,f,n),je=p,Ts(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(fa,o)}catch{}return!0}finally{Y.p=u,k.T=i,qd(e,t)}}function Ld(e,t,n){t=Qt(n,t),t=to(e.stateNode,t,2),e=Qn(e,t,2),e!==null&&(Ki(e,2),fn(e))}function xe(e,t,n){if(e.tag===3)Ld(e,e,n);else for(;t!==null;){if(t.tag===3){Ld(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wn===null||!Wn.has(i))){e=Qt(n,e),n=Hf(2),i=Qn(t,n,2),i!==null&&($f(n,i,t,e),Ki(i,2),fn(i));break}}t=t.return}}function Ro(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new sy;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(n)||(_o=!0,u.add(n),e=cy.bind(null,e,t,n),t.then(e,e))}function cy(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qe===e&&(be&n)===n&&(Je===4||Je===3&&(be&62914560)===be&&300>bt()-Jl?(je&2)===0&&vi(e,0):bo|=n,gi===be&&(gi=0)),fn(e)}function Hd(e,t){t===0&&(t=Vi()),e=ya(e,t),e!==null&&(Ki(e,t),fn(e))}function hy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hd(e,n)}function fy(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),Hd(e,n)}function dy(e,t){return Gi(e,t)}var tr=null,bi=null,jo=!1,nr=!1,Co=!1,ta=0;function fn(e){e!==bi&&e.next===null&&(bi===null?tr=bi=e:bi=bi.next=e),nr=!0,jo||(jo=!0,py())}function Ts(e,t){if(!Co&&nr){Co=!0;do for(var n=!1,i=tr;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var f=i.suspendedLanes,p=i.pingedLanes;o=(1<<31-wt(42|e)+1)-1,o&=u&~(f&~p),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Kd(i,o))}else o=be,o=Ye(i,i===qe?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||ut(i,o)||(n=!0,Kd(i,o));i=i.next}while(n);Co=!1}}function my(){$d()}function $d(){nr=jo=!1;var e=0;ta!==0&&Ay()&&(e=ta);for(var t=bt(),n=null,i=tr;i!==null;){var u=i.next,o=Gd(i,t);o===0?(i.next=null,n===null?tr=u:n.next=u,u===null&&(bi=n)):(n=i,(e!==0||(o&3)!==0)&&(nr=!0)),i=u}it!==0&&it!==5||Ts(e),ta!==0&&(ta=0)}function Gd(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-wt(o),p=1<<f,b=u[f];b===-1?((p&n)===0||(p&i)!==0)&&(u[f]=ll(p,t)):b<=t&&(e.expiredLanes|=p),o&=~p}if(t=qe,n=be,n=Ye(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ba(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ut(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ba(i),Vr(n)){case 2:case 8:n=al;break;case 32:n=La;break;case 268435456:n=il;break;default:n=La}return i=Vd.bind(null,e),n=Gi(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ba(i),e.callbackPriority=2,e.callbackNode=null,2}function Vd(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(er()&&e.callbackNode!==n)return null;var i=be;return i=Ye(e,e===qe?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Td(e,i,t),Gd(e,bt()),e.callbackNode!=null&&e.callbackNode===n?Vd.bind(null,e):null)}function Kd(e,t){if(er())return null;Td(e,t,!0)}function py(){Ry(function(){(je&6)!==0?Gi(nl,my):$d()})}function xo(){if(ta===0){var e=si;e===0&&(e=ae,ae<<=1,(ae&261888)===0&&(ae=256)),ta=e}return ta}function Yd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cl(""+e)}function Qd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function gy(e,t,n,i,u){if(t==="submit"&&n&&n.stateNode===u){var o=Yd((u[At]||null).action),f=i.submitter;f&&(t=(t=f[At]||null)?Yd(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var p=new ml("action","action",null,i,u);e.push({event:p,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ta!==0){var b=f?Qd(u,f):new FormData(u);Zu(n,{pending:!0,data:b,method:u.method,action:o},null,b)}}else typeof o=="function"&&(p.preventDefault(),b=f?Qd(u,f):new FormData(u),Zu(n,{pending:!0,data:b,method:u.method,action:o},o,b))},currentTarget:u}]})}}for(var Uo=0;Uo<fu.length;Uo++){var No=fu[Uo],yy=No.toLowerCase(),vy=No[0].toUpperCase()+No.slice(1);en(yy,"on"+vy)}en(wh,"onAnimationEnd"),en(Eh,"onAnimationIteration"),en(Th,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Dg,"onTransitionRun"),en(zg,"onTransitionStart"),en(Mg,"onTransitionCancel"),en(Ah,"onTransitionEnd"),Ya("onMouseEnter",["mouseout","mouseover"]),Ya("onMouseLeave",["mouseout","mouseover"]),Ya("onPointerEnter",["pointerout","pointerover"]),Ya("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_y=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function Xd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var f=i.length-1;0<=f;f--){var p=i[f],b=p.instance,R=p.currentTarget;if(p=p.listener,b!==o&&u.isPropagationStopped())break e;o=p,u.currentTarget=R;try{o(u)}catch(D){yl(D)}u.currentTarget=null,o=b}else for(f=0;f<i.length;f++){if(p=i[f],b=p.instance,R=p.currentTarget,p=p.listener,b!==o&&u.isPropagationStopped())break e;o=p,u.currentTarget=R;try{o(u)}catch(D){yl(D)}u.currentTarget=null,o=b}}}}function ve(e,t){var n=t[Kr];n===void 0&&(n=t[Kr]=new Set);var i=e+"__bubble";n.has(i)||(Jd(t,e,2,!1),n.add(i))}function ko(e,t,n){var i=0;t&&(i|=4),Jd(n,e,i,t)}var ar="_reactListening"+Math.random().toString(36).slice(2);function Do(e){if(!e[ar]){e[ar]=!0,Hc.forEach(function(n){n!=="selectionchange"&&(_y.has(n)||ko(n,!1,e),ko(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ar]||(t[ar]=!0,ko("selectionchange",!1,t))}}function Jd(e,t,n,i){switch(Em(t)){case 2:var u=Xy;break;case 8:u=Jy;break;default:u=Zo}n=u.bind(null,t,n,e),u=void 0,!Fr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function zo(e,t,n,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var p=i.stateNode.containerInfo;if(p===u)break;if(f===4)for(f=i.return;f!==null;){var b=f.tag;if((b===3||b===4)&&f.stateNode.containerInfo===u)return;f=f.return}for(;p!==null;){if(f=Ga(p),f===null)return;if(b=f.tag,b===5||b===6||b===26||b===27){i=o=f;continue e}p=p.parentNode}}i=i.return}Wc(function(){var R=o,D=Pr(n),B=[];e:{var C=Oh.get(e);if(C!==void 0){var N=ml,J=e;switch(e){case"keypress":if(fl(n)===0)break e;case"keydown":case"keyup":N=fg;break;case"focusin":J="focus",N=au;break;case"focusout":J="blur",N=au;break;case"beforeblur":case"afterblur":N=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=pg;break;case wh:case Eh:case Th:N=ag;break;case Ah:N=yg;break;case"scroll":case"scrollend":N=Wp;break;case"wheel":N=_g;break;case"copy":case"cut":case"paste":N=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=ah;break;case"toggle":case"beforetoggle":N=Sg}var ie=(t&4)!==0,De=!ie&&(e==="scroll"||e==="scrollend"),T=ie?C!==null?C+"Capture":null:C;ie=[];for(var w=R,O;w!==null;){var M=w;if(O=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||O===null||T===null||(M=Xi(w,T),M!=null&&ie.push(Os(w,M,O))),De)break;w=w.return}0<ie.length&&(C=new N(C,J,null,n,D),B.push({event:C,listeners:ie}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",C&&n!==Ir&&(J=n.relatedTarget||n.fromElement)&&(Ga(J)||J[$a]))break e;if((N||C)&&(C=D.window===D?D:(C=D.ownerDocument)?C.defaultView||C.parentWindow:window,N?(J=n.relatedTarget||n.toElement,N=R,J=J?Ga(J):null,J!==null&&(De=h(J),ie=J.tag,J!==De||ie!==5&&ie!==27&&ie!==6)&&(J=null)):(N=null,J=R),N!==J)){if(ie=th,M="onMouseLeave",T="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ie=ah,M="onPointerLeave",T="onPointerEnter",w="pointer"),De=N==null?C:Qi(N),O=J==null?C:Qi(J),C=new ie(M,w+"leave",N,n,D),C.target=De,C.relatedTarget=O,M=null,Ga(D)===R&&(ie=new ie(T,w+"enter",J,n,D),ie.target=O,ie.relatedTarget=De,M=ie),De=M,N&&J)t:{for(ie=by,T=N,w=J,O=0,M=T;M;M=ie(M))O++;M=0;for(var te=w;te;te=ie(te))M++;for(;0<O-M;)T=ie(T),O--;for(;0<M-O;)w=ie(w),M--;for(;O--;){if(T===w||w!==null&&T===w.alternate){ie=T;break t}T=ie(T),w=ie(w)}ie=null}else ie=null;N!==null&&Zd(B,C,N,ie,!1),J!==null&&De!==null&&Zd(B,De,J,ie,!0)}}e:{if(C=R?Qi(R):window,N=C.nodeName&&C.nodeName.toLowerCase(),N==="select"||N==="input"&&C.type==="file")var Oe=hh;else if(oh(C))if(fh)Oe=Ug;else{Oe=Cg;var I=jg}else N=C.nodeName,!N||N.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&Zr(R.elementType)&&(Oe=hh):Oe=xg;if(Oe&&(Oe=Oe(e,R))){ch(B,Oe,n,D);break e}I&&I(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&Jr(C,"number",C.value)}switch(I=R?Qi(R):window,e){case"focusin":(oh(I)||I.contentEditable==="true")&&(Pa=I,ou=R,ts=null);break;case"focusout":ts=ou=Pa=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,bh(B,n,D);break;case"selectionchange":if(kg)break;case"keydown":case"keyup":bh(B,n,D)}var pe;if(su)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ia?rh(e,n)&&(Se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Se="onCompositionStart");Se&&(ih&&n.locale!=="ko"&&(Ia||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ia&&(pe=Fc()):(Ln=D,eu="value"in Ln?Ln.value:Ln.textContent,Ia=!0)),I=ir(R,Se),0<I.length&&(Se=new nh(Se,e,null,n,D),B.push({event:Se,listeners:I}),pe?Se.data=pe:(pe=uh(n),pe!==null&&(Se.data=pe)))),(pe=Eg?Tg(e,n):Ag(e,n))&&(Se=ir(R,"onBeforeInput"),0<Se.length&&(I=new nh("onBeforeInput","beforeinput",null,n,D),B.push({event:I,listeners:Se}),I.data=pe)),gy(B,e,R,n,D)}Xd(B,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ir(e,t){for(var n=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Xi(e,n),u!=null&&i.unshift(Os(e,u,o)),u=Xi(e,t),u!=null&&i.push(Os(e,u,o))),e.tag===3)return i;e=e.return}return[]}function by(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zd(e,t,n,i,u){for(var o=t._reactName,f=[];n!==null&&n!==i;){var p=n,b=p.alternate,R=p.stateNode;if(p=p.tag,b!==null&&b===i)break;p!==5&&p!==26&&p!==27||R===null||(b=R,u?(R=Xi(n,o),R!=null&&f.unshift(Os(n,R,b))):u||(R=Xi(n,o),R!=null&&f.push(Os(n,R,b)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Sy=/\r\n?/g,wy=/\u0000|\uFFFD/g;function Id(e){return(typeof e=="string"?e:""+e).replace(Sy,`
`).replace(wy,"")}function Pd(e,t){return t=Id(t),Id(e)===t}function ke(e,t,n,i,u,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Xa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Xa(e,""+i);break;case"className":ul(e,"class",i);break;case"tabIndex":ul(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ul(e,n,i);break;case"style":Ic(e,i,o);break;case"data":if(t!=="object"){ul(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=cl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ke(e,t,"name",u.name,u,null),ke(e,t,"formEncType",u.formEncType,u,null),ke(e,t,"formMethod",u.formMethod,u,null),ke(e,t,"formTarget",u.formTarget,u,null)):(ke(e,t,"encType",u.encType,u,null),ke(e,t,"method",u.method,u,null),ke(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=cl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=pn);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=cl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ve("beforetoggle",e),ve("toggle",e),rl(e,"popover",i);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":rl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ip.get(n)||n,rl(e,n,i))}}function Mo(e,t,n,i,u,o){switch(n){case"style":Ic(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Xa(e,i):(typeof i=="number"||typeof i=="bigint")&&Xa(e,""+i);break;case"onScroll":i!=null&&ve("scroll",e);break;case"onScrollEnd":i!=null&&ve("scrollend",e);break;case"onClick":i!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$c.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[At]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,u);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):rl(e,n,i)}}}function dt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var i=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var f=n[o];if(f!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ke(e,t,o,f,n,null)}}u&&ke(e,t,"srcSet",n.srcSet,n,null),i&&ke(e,t,"src",n.src,n,null);return;case"input":ve("invalid",e);var p=o=f=u=null,b=null,R=null;for(i in n)if(n.hasOwnProperty(i)){var D=n[i];if(D!=null)switch(i){case"name":u=D;break;case"type":f=D;break;case"checked":b=D;break;case"defaultChecked":R=D;break;case"value":o=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:ke(e,t,i,D,n,null)}}Qc(e,o,p,b,R,f,u,!1);return;case"select":ve("invalid",e),i=f=o=null;for(u in n)if(n.hasOwnProperty(u)&&(p=n[u],p!=null))switch(u){case"value":o=p;break;case"defaultValue":f=p;break;case"multiple":i=p;default:ke(e,t,u,p,n,null)}t=o,n=f,e.multiple=!!i,t!=null?Qa(e,!!i,t,!1):n!=null&&Qa(e,!!i,n,!0);return;case"textarea":ve("invalid",e),o=u=i=null;for(f in n)if(n.hasOwnProperty(f)&&(p=n[f],p!=null))switch(f){case"value":i=p;break;case"defaultValue":u=p;break;case"children":o=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:ke(e,t,f,p,n,null)}Jc(e,i,u,o);return;case"option":for(b in n)n.hasOwnProperty(b)&&(i=n[b],i!=null)&&(b==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":ke(e,t,b,i,n,null));return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(i=0;i<As.length;i++)ve(As[i],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(i=n[R],i!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ke(e,t,R,i,n,null)}return;default:if(Zr(t)){for(D in n)n.hasOwnProperty(D)&&(i=n[D],i!==void 0&&Mo(e,t,D,i,n,void 0));return}}for(p in n)n.hasOwnProperty(p)&&(i=n[p],i!=null&&ke(e,t,p,i,n,null))}function Ey(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,f=null,p=null,b=null,R=null,D=null;for(N in n){var B=n[N];if(n.hasOwnProperty(N)&&B!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":b=B;default:i.hasOwnProperty(N)||ke(e,t,N,null,i,B)}}for(var C in i){var N=i[C];if(B=n[C],i.hasOwnProperty(C)&&(N!=null||B!=null))switch(C){case"type":o=N;break;case"name":u=N;break;case"checked":R=N;break;case"defaultChecked":D=N;break;case"value":f=N;break;case"defaultValue":p=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:N!==B&&ke(e,t,C,N,i,B)}}Xr(e,f,p,b,R,D,o,u);return;case"select":N=f=p=C=null;for(o in n)if(b=n[o],n.hasOwnProperty(o)&&b!=null)switch(o){case"value":break;case"multiple":N=b;default:i.hasOwnProperty(o)||ke(e,t,o,null,i,b)}for(u in i)if(o=i[u],b=n[u],i.hasOwnProperty(u)&&(o!=null||b!=null))switch(u){case"value":C=o;break;case"defaultValue":p=o;break;case"multiple":f=o;default:o!==b&&ke(e,t,u,o,i,b)}t=p,n=f,i=N,C!=null?Qa(e,!!n,C,!1):!!i!=!!n&&(t!=null?Qa(e,!!n,t,!0):Qa(e,!!n,n?[]:"",!1));return;case"textarea":N=C=null;for(p in n)if(u=n[p],n.hasOwnProperty(p)&&u!=null&&!i.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:ke(e,t,p,null,i,u)}for(f in i)if(u=i[f],o=n[f],i.hasOwnProperty(f)&&(u!=null||o!=null))switch(f){case"value":C=u;break;case"defaultValue":N=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&ke(e,t,f,u,i,o)}Xc(e,C,N);return;case"option":for(var J in n)C=n[J],n.hasOwnProperty(J)&&C!=null&&!i.hasOwnProperty(J)&&(J==="selected"?e.selected=!1:ke(e,t,J,null,i,C));for(b in i)C=i[b],N=n[b],i.hasOwnProperty(b)&&C!==N&&(C!=null||N!=null)&&(b==="selected"?e.selected=C&&typeof C!="function"&&typeof C!="symbol":ke(e,t,b,C,i,N));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in n)C=n[ie],n.hasOwnProperty(ie)&&C!=null&&!i.hasOwnProperty(ie)&&ke(e,t,ie,null,i,C);for(R in i)if(C=i[R],N=n[R],i.hasOwnProperty(R)&&C!==N&&(C!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:ke(e,t,R,C,i,N)}return;default:if(Zr(t)){for(var De in n)C=n[De],n.hasOwnProperty(De)&&C!==void 0&&!i.hasOwnProperty(De)&&Mo(e,t,De,void 0,i,C);for(D in i)C=i[D],N=n[D],!i.hasOwnProperty(D)||C===N||C===void 0&&N===void 0||Mo(e,t,D,C,i,N);return}}for(var T in n)C=n[T],n.hasOwnProperty(T)&&C!=null&&!i.hasOwnProperty(T)&&ke(e,t,T,null,i,C);for(B in i)C=i[B],N=n[B],!i.hasOwnProperty(B)||C===N||C==null&&N==null||ke(e,t,B,C,i,N)}function Wd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ty(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var u=n[i],o=u.transferSize,f=u.initiatorType,p=u.duration;if(o&&p&&Wd(f)){for(f=0,p=u.responseEnd,i+=1;i<n.length;i++){var b=n[i],R=b.startTime;if(R>p)break;var D=b.transferSize,B=b.initiatorType;D&&Wd(B)&&(b=b.responseEnd,f+=D*(b<p?1:(p-R)/(b-R)))}if(--i,t+=8*(o+f)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qo=null,Bo=null;function sr(e){return e.nodeType===9?e:e.ownerDocument}function Fd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function em(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ho=null;function Ay(){var e=window.event;return e&&e.type==="popstate"?e===Ho?!1:(Ho=e,!0):(Ho=null,!1)}var tm=typeof setTimeout=="function"?setTimeout:void 0,Oy=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,Ry=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(e){return nm.resolve(null).then(e).catch(jy)}:tm;function jy(e){setTimeout(function(){throw e})}function na(e){return e==="head"}function am(e,t){var n=t,i=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(u),Ti(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Rs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Rs(n);for(var o=n.firstChild;o;){var f=o.nextSibling,p=o.nodeName;o[Yi]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=f}}else n==="body"&&Rs(e.ownerDocument.body);n=u}while(n);Ti(t)}function im(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function $o(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$o(n),Yr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Cy(e,t,n,i){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Yi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function xy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pt(e.nextSibling),e===null))return null;return e}function sm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function Go(e){return e.data==="$?"||e.data==="$~"}function Vo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Uy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ko=null;function lm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Pt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function um(e,t,n){switch(t=sr(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Rs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yr(e)}var Wt=new Map,om=new Set;function lr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=Y.d;Y.d={f:Ny,r:ky,D:Dy,C:zy,L:My,m:qy,X:Ly,S:By,M:Hy};function Ny(){var e=Un.f(),t=Pl();return e||t}function ky(e){var t=Va(e);t!==null&&t.tag===5&&t.type==="form"?Of(t):Un.r(e)}var Si=typeof document>"u"?null:document;function cm(e,t,n){var i=Si;if(i&&typeof t=="string"&&t){var u=Kt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),om.has(u)||(om.add(u),e={rel:e,crossOrigin:n,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),dt(t,"link",e),lt(t),i.head.appendChild(t)))}}function Dy(e){Un.D(e),cm("dns-prefetch",e,null)}function zy(e,t){Un.C(e,t),cm("preconnect",e,t)}function My(e,t,n){Un.L(e,t,n);var i=Si;if(i&&e&&t){var u='link[rel="preload"][as="'+Kt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Kt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Kt(n.imageSizes)+'"]')):u+='[href="'+Kt(e)+'"]';var o=u;switch(t){case"style":o=wi(e);break;case"script":o=Ei(e)}Wt.has(o)||(e=A({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(js(o))||t==="script"&&i.querySelector(Cs(o))||(t=i.createElement("link"),dt(t,"link",e),lt(t),i.head.appendChild(t)))}}function qy(e,t){Un.m(e,t);var n=Si;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Kt(i)+'"][href="'+Kt(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ei(e)}if(!Wt.has(o)&&(e=A({rel:"modulepreload",href:e},t),Wt.set(o,e),n.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Cs(o)))return}i=n.createElement("link"),dt(i,"link",e),lt(i),n.head.appendChild(i)}}}function By(e,t,n){Un.S(e,t,n);var i=Si;if(i&&e){var u=Ka(i).hoistableStyles,o=wi(e);t=t||"default";var f=u.get(o);if(!f){var p={loading:0,preload:null};if(f=i.querySelector(js(o)))p.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wt.get(o))&&Yo(e,n);var b=f=i.createElement("link");lt(b),dt(b,"link",e),b._p=new Promise(function(R,D){b.onload=R,b.onerror=D}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,rr(f,t,i)}f={type:"stylesheet",instance:f,count:1,state:p},u.set(o,f)}}}function Ly(e,t){Un.X(e,t);var n=Si;if(n&&e){var i=Ka(n).hoistableScripts,u=Ei(e),o=i.get(u);o||(o=n.querySelector(Cs(u)),o||(e=A({src:e,async:!0},t),(t=Wt.get(u))&&Qo(e,t),o=n.createElement("script"),lt(o),dt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function Hy(e,t){Un.M(e,t);var n=Si;if(n&&e){var i=Ka(n).hoistableScripts,u=Ei(e),o=i.get(u);o||(o=n.querySelector(Cs(u)),o||(e=A({src:e,async:!0,type:"module"},t),(t=Wt.get(u))&&Qo(e,t),o=n.createElement("script"),lt(o),dt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function hm(e,t,n,i){var u=(u=de.current)?lr(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=wi(n.href),n=Ka(u).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=wi(n.href);var o=Ka(u).hoistableStyles,f=o.get(e);if(f||(u=u.ownerDocument||u,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=u.querySelector(js(e)))&&!o._p&&(f.instance=o,f.state.loading=5),Wt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wt.set(e,n),o||$y(u,e,n,f.state))),t&&i===null)throw Error(r(528,""));return f}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ei(n),n=Ka(u).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function wi(e){return'href="'+Kt(e)+'"'}function js(e){return'link[rel="stylesheet"]['+e+"]"}function fm(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function $y(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),dt(t,"link",n),lt(t),e.head.appendChild(t))}function Ei(e){return'[src="'+Kt(e)+'"]'}function Cs(e){return"script[async]"+e}function dm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Kt(n.href)+'"]');if(i)return t.instance=i,lt(i),i;var u=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),lt(i),dt(i,"style",u),rr(i,n.precedence,e),t.instance=i;case"stylesheet":u=wi(n.href);var o=e.querySelector(js(u));if(o)return t.state.loading|=4,t.instance=o,lt(o),o;i=fm(n),(u=Wt.get(u))&&Yo(i,u),o=(e.ownerDocument||e).createElement("link"),lt(o);var f=o;return f._p=new Promise(function(p,b){f.onload=p,f.onerror=b}),dt(o,"link",i),t.state.loading|=4,rr(o,n.precedence,e),t.instance=o;case"script":return o=Ei(n.src),(u=e.querySelector(Cs(o)))?(t.instance=u,lt(u),u):(i=n,(u=Wt.get(o))&&(i=A({},n),Qo(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),lt(u),dt(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,rr(i,n.precedence,e));return t.instance}function rr(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,f=0;f<i.length;f++){var p=i[f];if(p.dataset.precedence===t)o=p;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Yo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ur=null;function mm(e,t,n){if(ur===null){var i=new Map,u=ur=new Map;u.set(n,i)}else u=ur,i=u.get(n),i||(i=new Map,u.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[Yi]||o[ot]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var p=i.get(f);p?p.push(o):i.set(f,[o])}}return i}function pm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Gy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vy(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=wi(i.href),o=t.querySelector(js(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=or.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,lt(o);return}o=t.ownerDocument||t,i=fm(i),(u=Wt.get(u))&&Yo(i,u),o=o.createElement("link"),lt(o);var f=o;f._p=new Promise(function(p,b){f.onload=p,f.onerror=b}),dt(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=or.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Xo=0;function Ky(e,t){return e.stylesheets&&e.count===0&&hr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&hr(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Xo===0&&(Xo=62500*Ty());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hr(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Xo?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function or(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cr=null;function hr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cr=new Map,t.forEach(Yy,e),cr=null,or.call(e))}function Yy(e,t){if(!(t.state.loading&4)){var n=cr.get(e);if(n)var i=n.get(null);else{n=new Map,cr.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var f=u[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),i=f)}i&&n.set(null,i)}u=t.instance,f=u.getAttribute("data-precedence"),o=n.get(f)||i,o===i&&n.set(null,u),n.set(f,u),this.count++,i=or.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var xs={$$typeof:H,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Qy(e,t,n,i,u,o,f,p,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.hiddenUpdates=Ha(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function ym(e,t,n,i,u,o,f,p,b,R,D,B){return e=new Qy(e,t,n,f,b,R,D,B,p),t=1,o===!0&&(t|=24),o=zt(3,null,null,t),e.current=o,o.stateNode=e,t=Au(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},Cu(o),e}function vm(e){return e?(e=ei,e):ei}function _m(e,t,n,i,u,o){u=vm(u),i.context===null?i.context=u:i.pendingContext=u,i=Yn(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Qn(e,i,t),n!==null&&(Ut(n,e,t),us(n,e,t))}function bm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jo(e,t){bm(e,t),(e=e.alternate)&&bm(e,t)}function Sm(e){if(e.tag===13||e.tag===31){var t=ya(e,67108864);t!==null&&Ut(t,e,67108864),Jo(e,67108864)}}function wm(e){if(e.tag===13||e.tag===31){var t=Ht();t=Gr(t);var n=ya(e,t);n!==null&&Ut(n,e,t),Jo(e,t)}}var fr=!0;function Xy(e,t,n,i){var u=k.T;k.T=null;var o=Y.p;try{Y.p=2,Zo(e,t,n,i)}finally{Y.p=o,k.T=u}}function Jy(e,t,n,i){var u=k.T;k.T=null;var o=Y.p;try{Y.p=8,Zo(e,t,n,i)}finally{Y.p=o,k.T=u}}function Zo(e,t,n,i){if(fr){var u=Io(i);if(u===null)zo(e,t,i,dr,n),Tm(e,i);else if(Iy(u,e,t,n,i))i.stopPropagation();else if(Tm(e,i),t&4&&-1<Zy.indexOf(e)){for(;u!==null;){var o=Va(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=me(o.pendingLanes);if(f!==0){var p=o;for(p.pendingLanes|=2,p.entangledLanes|=2;f;){var b=1<<31-wt(f);p.entanglements[1]|=b,f&=~b}fn(o),(je&6)===0&&(Zl=bt()+500,Ts(0))}}break;case 31:case 13:p=ya(o,2),p!==null&&Ut(p,o,2),Pl(),Jo(o,2)}if(o=Io(i),o===null&&zo(e,t,i,dr,n),o===u)break;u=o}u!==null&&i.stopPropagation()}else zo(e,t,i,null,n)}}function Io(e){return e=Pr(e),Po(e)}var dr=null;function Po(e){if(dr=null,e=Ga(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dr=e,null}function Em(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lr()){case nl:return 2;case al:return 8;case La:case Hr:return 32;case il:return 268435456;default:return 32}default:return 32}}var Wo=!1,aa=null,ia=null,sa=null,Us=new Map,Ns=new Map,la=[],Zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tm(e,t){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(t.pointerId)}}function ks(e,t,n,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=Va(t),t!==null&&Sm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Iy(e,t,n,i,u){switch(t){case"focusin":return aa=ks(aa,e,t,n,i,u),!0;case"dragenter":return ia=ks(ia,e,t,n,i,u),!0;case"mouseover":return sa=ks(sa,e,t,n,i,u),!0;case"pointerover":var o=u.pointerId;return Us.set(o,ks(Us.get(o)||null,e,t,n,i,u)),!0;case"gotpointercapture":return o=u.pointerId,Ns.set(o,ks(Ns.get(o)||null,e,t,n,i,u)),!0}return!1}function Am(e){var t=Ga(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,Bc(e.priority,function(){wm(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Bc(e.priority,function(){wm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Io(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ir=i,n.target.dispatchEvent(i),Ir=null}else return t=Va(n),t!==null&&Sm(t),e.blockedOn=n,!1;t.shift()}return!0}function Om(e,t,n){mr(e)&&n.delete(t)}function Py(){Wo=!1,aa!==null&&mr(aa)&&(aa=null),ia!==null&&mr(ia)&&(ia=null),sa!==null&&mr(sa)&&(sa=null),Us.forEach(Om),Ns.forEach(Om)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Wo||(Wo=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Py)))}var gr=null;function Rm(e){gr!==e&&(gr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){gr===e&&(gr=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(Po(i||n)===null)continue;break}var o=Va(n);o!==null&&(e.splice(t,3),t-=3,Zu(o,{pending:!0,data:u,method:n.method,action:i},i,u))}}))}function Ti(e){function t(b){return pr(b,e)}aa!==null&&pr(aa,e),ia!==null&&pr(ia,e),sa!==null&&pr(sa,e),Us.forEach(t),Ns.forEach(t);for(var n=0;n<la.length;n++){var i=la[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<la.length&&(n=la[0],n.blockedOn===null);)Am(n),n.blockedOn===null&&la.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var u=n[i],o=n[i+1],f=u[At]||null;if(typeof o=="function")f||Rm(n);else if(f){var p=null;if(o&&o.hasAttribute("formAction")){if(u=o,f=o[At]||null)p=f.formAction;else if(Po(u)!==null)continue}else p=f.action;typeof p=="function"?n[i+1]=p:(n.splice(i,3),i-=3),Rm(n)}}}function jm(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(f){return u=f})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Fo(e){this._internalRoot=e}yr.prototype.render=Fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,i=Ht();_m(n,i,e,t,null,null)},yr.prototype.unmount=Fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_m(e.current,2,null,e,null,null),Pl(),t[$a]=null}};function yr(e){this._internalRoot=e}yr.prototype.unstable_scheduleHydration=function(e){if(e){var t=qc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<la.length&&t!==0&&t<la[n].priority;n++);la.splice(n,0,e),n===0&&Am(e)}};var Cm=a.version;if(Cm!=="19.2.4")throw Error(r(527,Cm,"19.2.4"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Wy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vr.isDisabled&&vr.supportsFiber)try{fa=vr.inject(Wy),St=vr}catch{}}return zs.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,i="",u=Mf,o=qf,f=Bf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=ym(e,1,!1,null,null,n,i,null,u,o,f,jm),e[$a]=t.current,Do(e),new Fo(t)},zs.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var i=!1,u="",o=Mf,f=qf,p=Bf,b=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.formState!==void 0&&(b=n.formState)),t=ym(e,1,!0,t,n??null,i,u,b,o,f,p,jm),t.context=vm(null),n=t.current,i=Ht(),i=Gr(i),u=Yn(i),u.callback=null,Qn(n,u,i),n=i,t.current.lanes=n,Ki(t,n),fn(t),e[$a]=t.current,Do(e),new yr(t)},zs.version="19.2.4",zs}var Lm;function uv(){if(Lm)return tc.exports;Lm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),tc.exports=rv(),tc.exports}var ov=uv(),ue=Uc();const cv=["https://solar.huawei.com/admin/asset/v1/pro/view/9005a18da2964ba2a0541ce4fbae4bef.pdf","https://solar.huawei.com/-/media/Solar/attachment/pdf/la/datasheet/SUN2000-30-40KTL-M3.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/1e029d00296a4b87a9823fd083db547e.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/ada802421c674daa9047aeec9d28a710.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/ada802421c674daa9047aeec9d28a710.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf","https://solar.huawei.com/download?p=%2F-%2Fmedia%2FSolarV4%2Fsolar-version2%2Feurope%2Fro%2Fprofessionals%2Fall-products%2Fproduct%2FLUNA2000-5-10-15-S0%2Fsupport%2FLUNA2000-5-10-15-S0-datasheet.pdf","https://solar.huawei.com/download?p=%2F-%2Fmedia%2FSolarV4%2Fsolar-version2%2Feurope%2Fro%2Fprofessionals%2Fall-products%2Fproduct%2FLUNA2000-5-10-15-S0%2Fsupport%2FLUNA2000-5-10-15-S0-datasheet.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/422945b897cd4c1fb5ce16e2c7931240.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/37973b9d0ac64f8bbac4d5dce45cda84.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/95c57a958fd54fdda8a6fa0c7f71c8d4.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/a1adf14392d644c1b432f62ea10fa0ff.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/a1adf14392d644c1b432f62ea10fa0ff.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/79676c3a0de542bf8e6ff9da6d177138.pdf","https://download.huawei.com/edownload/e/download.do?actionFlag=download&nid=EDOC1100020897&partNo=6001&mid=SUPE_DOC","https://download.huawei.com/edownload/e/download.do?actionFlag=download&nid=EDOC1100020897&partNo=6001&mid=SUPE_DOC","https://solar.huawei.com/admin/asset/v1/pro/view/7304f2b9c528458a98f242a8c4c3f672.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/7304f2b9c528458a98f242a8c4c3f672.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/38e8d9d6fdd44185abd71acfc620aa90.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/e3397de6d77c49ce903bea8a2dda7d06.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/fae1d0d46364459191f51ff78db88c3b.pdf","https://solar.huawei.com/admin/asset/v1/pro/view/40f074ec410d44a6a23afb10d55b18a4.pdf"],hv=[{pattern:/SUN2000-100KTL-M2/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/9005a18da2964ba2a0541ce4fbae4bef.pdf"},{pattern:/SUN2000-(12|15|17|20|25)K-MB0/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/c3ba89c365cb42ce92d9ba3c366253f1.pdf"},{pattern:/SUN2000-(5|6|8|10|12)K-MAP0/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/d44e17e9bfcf4481b361798f8039ab4d.pdf"},{pattern:/SUN2000-30KTL-M3/i,url:"https://solar.huawei.com/-/media/Solar/attachment/pdf/la/datasheet/SUN2000-30-40KTL-M3.pdf"},{pattern:/SUN2000-6KTL-L1/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/1e029d00296a4b87a9823fd083db547e.pdf"},{pattern:/SUN2000-(8|10)K-LC0/i,url:"https://solar.huawei.com/admin/asset/v1/pro/view/ada802421c674daa9047aeec9d28a710.pdf"}],pp=(s,a)=>{const l=cv[a-1];return l||(hv.find(c=>c.pattern.test(s))?.url??null)},bc="https://yohand-byte.github.io/huawei-pricing-calculator/",fv=s=>Math.round(s*100)/100,dv=s=>{const a=s.toLowerCase();return a.includes("luna")||a.includes("battery")?"Batteries":a.includes("panel")||a.includes("pv module")?"Solar Panels":a.includes("sun2000")?"Inverters":"Accessories"},mv=s=>s.trim().replace(/\s+/g," "),Ms=(s,a,l)=>{const r=s.match(new RegExp(`${a}:\\s*([0-9]+(?:\\.[0-9]+)?)`));return r?Number(r[1]):l},pv=s=>{const a=s.match(/const\s+defaultLocalCharges\s*=\s*\[([\s\S]*?)\];/);if(!a)return 0;const l=/\{[\s\S]*?amountAED:\s*([0-9.]+)[\s\S]*?included:\s*(true|false)[\s\S]*?\}/g;let r=0,c=l.exec(a[1]);for(;c;)c[2]==="true"&&(r+=Number(c[1])),c=l.exec(a[1]);return r},gv=s=>{const a=s.match(/const\s+shippingProductsSeed\s*=\s*\[([\s\S]*?)\];/);if(!a)return[];const l=a[1],r=/\{\s*no:\s*(\d+),\s*description:\s*'([^']+)',\s*qty:\s*(\d+),\s*unitPriceUSD:\s*([0-9.]+)/g,c=[];let h=0;const d=[];let m=r.exec(l);for(;m;){const K=Number(m[1]),H=mv(m[2]),Z=Number(m[3]),Te=Number(m[4]);h+=Z,d.push({order:K,ref:H,qty:Z,unitPriceUSD:Te}),m=r.exec(l)}const y=Ms(s,"exchangeRate",1),g=Ms(s,"freightQuoteEUR",0),S=Ms(s,"customsCostsEUR",0),A=Ms(s,"containerCount",1),j=Ms(s,"aedToUsdRate",3.6725),x=pv(s),q=j>0?x/j*y:0,G=(g+S+q)*A,V=h>0?G/h:0;for(const K of d)c.find(H=>H.ref===K.ref)||c.push({ref:K.ref,buy_price_unit:fv(K.unitPriceUSD*y+V),category:dv(K.ref),initial_stock:K.qty,order:K.order,datasheet_url:pp(K.ref,K.order),source:"remote"});return c},yv=async()=>{const s=await fetch(bc,{cache:"no-store"});if(!s.ok)throw new Error(`Catalog fetch failed (${s.status})`);const a=await s.text();return gv(a)},zi=s=>s.map((a,l)=>{const r=Number.isFinite(a.order)&&a.order>0?a.order:l+1,c=pp(a.ref,r);return{...a,order:r,datasheet_url:c??a.datasheet_url??null}}),vv=[{min:0,max:5e3,stripe:.0399,wire:.0519},{min:5e3,max:1e4,stripe:.0365,wire:.0474},{min:1e4,max:25e3,stripe:.0314,wire:.0393},{min:25e3,max:8e4,stripe:.0261,wire:.0326},{min:8e4,max:15e4,stripe:.0179,wire:.0206},{min:15e4,max:null,stripe:.0103,wire:.0118}],_v=[{min:0,max:5e3,stripe:.0299,wire:.0389},{min:5e3,max:1e4,stripe:.0276,wire:.0359},{min:1e4,max:25e3,stripe:.0226,wire:.0282},{min:25e3,max:8e4,stripe:.0181,wire:.0226},{min:8e4,max:15e4,stripe:.0131,wire:.0151},{min:15e4,max:null,stripe:.0084,wire:.0097}],bv=[{min:0,max:5e3,stripe:.0488,wire:.0634},{min:5e3,max:1e4,stripe:.0421,wire:.0547},{min:1e4,max:25e3,stripe:.0363,wire:.0454},{min:25e3,max:8e4,stripe:.0301,wire:.0376},{min:8e4,max:1e5,stripe:.0206,wire:.0237},{min:1e5,max:null,stripe:.0119,wire:.0137}],qs=(s,a)=>s==="Solartraders"&&a==="Solar Panels",Le=s=>Math.round((Number.isFinite(s)?s:0)*100)/100,Sv=s=>Number.isFinite(s)?s<=0?Le(s):Math.ceil(s*100)/100:0,wv=(s,a)=>a.find(r=>{const c=s>=r.min,h=r.max===null||s<r.max;return c&&h})??a[a.length-1],Ev=s=>s==="Solar Panels"?_v:s==="Accessories"?bv:vv,Tv=s=>`${Le(s*100)}%`,Av=(s,a,l)=>{const r=wv(l,Ev(s)),c=a==="Wire"?r.wire:r.stripe,h=a==="Stripe"?5:0,d=l*c;return{commission_rate_display:Tv(c),commission_eur:a==="Stripe"?Sv(d):Le(d),payment_fee:h}},Ov=(s,a,l)=>{if(s!=="Solar Panels")return{commission_rate_display:"5%",commission_eur:Le(a*.05),payment_fee:0};const r=l??0;return r>=1e6?{commission_rate_display:"1 cent/Wp",commission_eur:Le(r*.01),payment_fee:0}:{commission_rate_display:"1.5 cent/Wp",commission_eur:Le(r*.015),payment_fee:0}},Rv=({channel:s,category:a,payment_method:l,transaction_value:r,power_wp:c})=>s==="Sun.store"?Av(a,l,r):s==="Solartraders"?Ov(a,r,c):{commission_rate_display:"0%",commission_eur:0,payment_fee:0},qa=s=>{const a=Le(s.quantity*s.sell_price_unit_ht),l=Le(a+s.shipping_charged),r=Rv({channel:s.channel,category:s.category,payment_method:s.payment_method,transaction_value:l,power_wp:s.power_wp}),c=Le(l-r.commission_eur-r.payment_fee),h=Le(s.quantity*s.buy_price_unit+s.shipping_real),d=Le(l-h),m=Le(c-h),y=l<=0?0:Le(m/l*100);return{sell_total_ht:a,transaction_value:l,commission_rate_display:r.commission_rate_display,commission_eur:r.commission_eur,payment_fee:r.payment_fee,net_received:c,total_cost:h,gross_margin:d,net_margin:m,net_margin_pct:y}},gp=s=>/[";\n]/.test(s)?`"${s.replaceAll('"','""')}"`:s,Ke=s=>s==null?"":String(s),jv=s=>{const a=["id","date","client_or_tx","channel","customer_country","product_ref","quantity","sell_price_unit_ht","sell_price_unit_ttc","sell_total_ht","shipping_charged","shipping_charged_ttc","shipping_real","shipping_real_ttc","transaction_value","payment_method","category","buy_price_unit","power_wp","commission_rate_display","commission_eur","payment_fee","net_received","total_cost","gross_margin","net_margin","net_margin_pct","attachments_count","created_at","updated_at"],l=s.map(r=>[r.id,r.date,r.client_or_tx,r.channel,Ke(r.customer_country),r.product_ref,Ke(r.quantity),Ke(r.sell_price_unit_ht),Ke(r.sell_price_unit_ttc),Ke(r.sell_total_ht),Ke(r.shipping_charged),Ke(r.shipping_charged_ttc),Ke(r.shipping_real),Ke(r.shipping_real_ttc),Ke(r.transaction_value),r.payment_method,r.category,Ke(r.buy_price_unit),Ke(r.power_wp),r.commission_rate_display,Ke(r.commission_eur),Ke(r.payment_fee),Ke(r.net_received),Ke(r.total_cost),Ke(r.gross_margin),Ke(r.net_margin),Ke(r.net_margin_pct),Ke(r.attachments.length),r.created_at,r.updated_at]);return[a,...l].map(r=>r.map(c=>gp(String(c))).join(";")).join(`
`)},Cv=(s,a)=>{const l=["order","reference","category","buy_price_unit_eur","stock_initial","stock_current","status","datasheet_url"],r=s.map(c=>{const h=a[c.ref]??c.initial_stock,d=h<=0?"Rupture":h<=5?"Stock faible":"OK";return[Ke(c.order),c.ref,c.category,Ke(c.buy_price_unit),Ke(c.initial_stock),Ke(h),d,Ke(c.datasheet_url)]});return[l,...r].map(c=>c.map(h=>gp(String(h))).join(";")).join(`
`)},yp=(s,a,l)=>{const r=new Blob([l],{type:a}),c=document.createElement("a");c.href=URL.createObjectURL(r),c.download=s,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(c.href)},Hm=(s,a)=>{yp(s,"text/csv;charset=utf-8",a)},xv=(s,a)=>{yp(s,"application/json;charset=utf-8",JSON.stringify(a,null,2))},lc=s=>{const a=new Date;return a.setDate(a.getDate()+s),a.toISOString().slice(0,10)},rc=()=>[],Uv=[{date:lc(-2),client_or_tx:"TX-1001",channel:"Sun.store",customer_country:"France",product_ref:"SUN2000-12K-MB0",quantity:2,sell_price_unit_ht:1490,sell_price_unit_ttc:1788,shipping_charged:120,shipping_charged_ttc:144,shipping_real:80,shipping_real_ttc:96,payment_method:"Wire",category:"Inverters",buy_price_unit:1317,power_wp:null,attachments:rc()},{date:lc(-1),client_or_tx:"ST-2001",channel:"Solartraders",customer_country:"Belgique",product_ref:"HUAWEI-PANEL-550WP",quantity:100,sell_price_unit_ht:58,sell_price_unit_ttc:null,shipping_charged:300,shipping_charged_ttc:null,shipping_real:220,shipping_real_ttc:null,payment_method:"Wire",category:"Solar Panels",buy_price_unit:45,power_wp:55e4,attachments:rc()},{date:lc(0),client_or_tx:"DIR-3001",channel:"Direct",customer_country:"France",product_ref:"Smart dongle SDongleA-05",quantity:5,sell_price_unit_ht:70,sell_price_unit_ttc:84,shipping_charged:25,shipping_charged_ttc:30,shipping_real:20,shipping_real_ttc:24,payment_method:"Cash",category:"Accessories",buy_price_unit:41,power_wp:null,attachments:rc()}],Nv=()=>Uv.map((s,a)=>{const l=new Date().toISOString();return{id:`seed-${a+1}`,...s,...qa(s),created_at:l,updated_at:l}}),Bs=5,uc=(s,a)=>{const l={};for(const r of s)l[r.ref]=r.initial_stock;for(const r of a)l[r.product_ref]!==void 0&&(l[r.product_ref]=l[r.product_ref]-r.quantity);return l},We={sales:"sales_margin_tracker_sales_v1",catalog:"sales_margin_tracker_catalog_v2",stock:"sales_margin_tracker_stock_v2",backup:"sales_margin_tracker_backup_v2"},vp=()=>typeof window<"u"&&typeof localStorage<"u",Dn=(s,a)=>{if(!vp())return a;try{const l=localStorage.getItem(s);return l?JSON.parse(l):a}catch{return a}},Nt=(s,a)=>{vp()&&localStorage.setItem(s,JSON.stringify(a))},_r=(s,a,l)=>({generated_at:new Date().toISOString(),sales:s,catalog:a,stock:l});function Dr(s,a){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&a.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(s);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(s,r[c])&&(l[r[c]]=s[r[c]]);return l}function kv(s,a,l,r){function c(h){return h instanceof l?h:new l(function(d){d(h)})}return new(l||(l=Promise))(function(h,d){function m(S){try{g(r.next(S))}catch(A){d(A)}}function y(S){try{g(r.throw(S))}catch(A){d(A)}}function g(S){S.done?h(S.value):c(S.value).then(m,y)}g((r=r.apply(s,a||[])).next())})}const Dv=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class Nc extends Error{constructor(a,l="FunctionsError",r){super(a),this.name=l,this.context=r}}class zv extends Nc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class $m extends Nc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Gm extends Nc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Sc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Sc||(Sc={}));class Mv{constructor(a,{headers:l={},customFetch:r,region:c=Sc.Any}={}){this.url=a,this.headers=l,this.region=c,this.fetch=Dv(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return kv(this,arguments,void 0,function*(l,r={}){var c;let h,d;try{const{headers:m,method:y,body:g,signal:S,timeout:A}=r;let j={},{region:x}=r;x||(x=this.region);const q=new URL(`${this.url}/${l}`);x&&x!=="any"&&(j["x-region"]=x,q.searchParams.set("forceFunctionRegion",x));let $;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",$=g):typeof g=="string"?(j["Content-Type"]="text/plain",$=g):typeof FormData<"u"&&g instanceof FormData?$=g:(j["Content-Type"]="application/json",$=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?$=JSON.stringify(g):$=g;let G=S;A&&(d=new AbortController,h=setTimeout(()=>d.abort(),A),S?(G=d.signal,S.addEventListener("abort",()=>d.abort())):G=d.signal);const V=yield this.fetch(q.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),m),body:$,signal:G}).catch(Te=>{throw new zv(Te)}),K=V.headers.get("x-relay-error");if(K&&K==="true")throw new $m(V);if(!V.ok)throw new Gm(V);let H=((c=V.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Z;return H==="application/json"?Z=yield V.json():H==="application/octet-stream"||H==="application/pdf"?Z=yield V.blob():H==="text/event-stream"?Z=V:H==="multipart/form-data"?Z=yield V.formData():Z=yield V.text(),{data:Z,error:null,response:V}}catch(m){return{data:null,error:m,response:m instanceof Gm||m instanceof $m?m.context:void 0}}finally{h&&clearTimeout(h)}})}}var qv=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Bv=class{constructor(s){var a,l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let d=null,m=null,y=null,g=h.status,S=h.statusText;if(h.ok){var A,j;if(l.method!=="HEAD"){var x;const V=await h.text();V===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((x=l.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?m=V:m=JSON.parse(V))}const $=(A=l.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),G=(j=h.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");$&&G&&G.length>1&&(y=parseInt(G[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(m)&&(m.length>1?(d={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,g=406,S="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var q;const $=await h.text();try{d=JSON.parse($),Array.isArray(d)&&h.status===404&&(m=[],d=null,g=200,S="OK")}catch{h.status===404&&$===""?(g=204,S="No Content"):d={message:$}}if(d&&l.isMaybeSingle&&(!(d==null||(q=d.details)===null||q===void 0)&&q.includes("0 rows"))&&(d=null,g=200,S="OK"),d&&l.shouldThrowOnError)throw new qv(d)}return{error:d,data:m,count:y,status:g,statusText:S}});return this.shouldThrowOnError||(c=c.catch(h=>{var d;let m="",y="",g="";const S=h?.cause;if(S){var A,j,x,q;const V=(A=S?.message)!==null&&A!==void 0?A:"",K=(j=S?.code)!==null&&j!==void 0?j:"";m=`${(x=h?.name)!==null&&x!==void 0?x:"FetchError"}: ${h?.message}`,m+=`

Caused by: ${(q=S?.name)!==null&&q!==void 0?q:"Error"}: ${V}`,K&&(m+=` (${K})`),S?.stack&&(m+=`
${S.stack}`)}else{var $;m=($=h?.stack)!==null&&$!==void 0?$:""}const G=this.url.toString().length;return h?.name==="AbortError"||h?.code==="ABORT_ERR"?(g="",y="Request was aborted (timeout or manual cancellation)",G>this.urlLengthLimit&&(y+=`. Note: Your request URL is ${G} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(S?.name==="HeadersOverflowError"||S?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",y="HTTP headers exceeded server limits (typically 16KB)",G>this.urlLengthLimit&&(y+=`. Your request URL is ${G} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:m,hint:y,code:g},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}},Lv=class extends Bv{select(s){let a=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!a?"":(r==='"'&&(a=!a),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const h=c?`${c}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,h=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(h,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:h="text"}={}){var d;const m=[s?"analyze":null,a?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Vm=new RegExp("[,()]");var Ni=class extends Lv{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&Vm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&Vm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}},Hv=class{constructor(s,{headers:a={},schema:l,fetch:r,urlLengthLimit:c=8e3}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=r,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,a){const{head:l=!1,count:r}=a??{},c=l?"HEAD":"GET";let h=!1;const d=(s??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join(""),{url:m,headers:y}=this.cloneRequestState();return m.searchParams.set("select",d),r&&y.append("Prefer",`count=${r}`),new Ni({method:c,url:m,headers:y,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:a,defaultToNull:l=!0}={}){var r;const c="POST",{url:h,headers:d}=this.cloneRequestState();if(a&&d.append("Prefer",`count=${a}`),l||d.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(m.length>0){const y=[...new Set(m)].map(g=>`"${g}"`);h.searchParams.set("columns",y.join(","))}}return new Ni({method:c,url:h,headers:d,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var h;const d="POST",{url:m,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),r&&y.append("Prefer",`count=${r}`),c||y.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((S,A)=>S.concat(Object.keys(A)),[]);if(g.length>0){const S=[...new Set(g)].map(A=>`"${A}"`);m.searchParams.set("columns",S.join(","))}}return new Ni({method:d,url:m,headers:y,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:a}={}){var l;const r="PATCH",{url:c,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new Ni({method:r,url:c,headers:h,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var a;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new Ni({method:l,url:r,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function Qs(s){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Qs(s)}function $v(s,a){if(Qs(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Gv(s){var a=$v(s,"string");return Qs(a)=="symbol"?a:a+""}function Vv(s,a,l){return(a=Gv(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Km(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function br(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Km(Object(l),!0).forEach(function(r){Vv(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Km(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}var Kv=class _p{constructor(a,{headers:l={},schema:r,fetch:c,timeout:h,urlLengthLimit:d=8e3}={}){this.url=a,this.headers=new Headers(l),this.schemaName=r,this.urlLengthLimit=d;const m=c??globalThis.fetch;h!==void 0&&h>0?this.fetch=(y,g)=>{const S=new AbortController,A=setTimeout(()=>S.abort(),h),j=g?.signal;if(j){if(j.aborted)return clearTimeout(A),m(y,g);const x=()=>{clearTimeout(A),S.abort()};return j.addEventListener("abort",x,{once:!0}),m(y,br(br({},g),{},{signal:S.signal})).finally(()=>{clearTimeout(A),j.removeEventListener("abort",x)})}return m(y,br(br({},g),{},{signal:S.signal})).finally(()=>clearTimeout(A))}:this.fetch=m}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Hv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new _p(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,l={},{head:r=!1,get:c=!1,count:h}={}){var d;let m;const y=new URL(`${this.url}/rpc/${a}`);let g;const S=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(S)),A=r&&Object.values(l).some(S);A?(m="POST",g=l):r||c?(m=r?"HEAD":"GET",Object.entries(l).filter(([x,q])=>q!==void 0).map(([x,q])=>[x,Array.isArray(q)?`{${q.join(",")}}`:`${q}`]).forEach(([x,q])=>{y.searchParams.append(x,q)})):(m="POST",g=l);const j=new Headers(this.headers);return A?j.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&j.set("Prefer",`count=${h}`),new Ni({method:m,url:y,headers:j,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class Yv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const r=this.getWebSocketConstructor();return new r(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Qv="2.95.3",Xv=`realtime-js/${Qv}`,Jv="1.0.0",bp="2.0.0",Ym=bp,wc=1e4,Zv=1e3,Iv=100;var oa;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(oa||(oa={}));var st;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(st||(st={}));var ln;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(ln||(ln={}));var Ec;(function(s){s.websocket="websocket"})(Ec||(Ec={}));var Da;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Da||(Da={}));class Pv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let r=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(a,l,r){var c,h;const d=a.topic,m=(c=a.ref)!==null&&c!==void 0?c:"",y=(h=a.join_ref)!==null&&h!==void 0?h:"",g=a.payload.event,S=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},A=Object.keys(S).length===0?"":JSON.stringify(S);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`metadata length ${A.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+m.length+d.length+g.length+A.length,x=new ArrayBuffer(this.HEADER_LENGTH+j);let q=new DataView(x),$=0;q.setUint8($++,this.KINDS.userBroadcastPush),q.setUint8($++,y.length),q.setUint8($++,m.length),q.setUint8($++,d.length),q.setUint8($++,g.length),q.setUint8($++,A.length),q.setUint8($++,l),Array.from(y,V=>q.setUint8($++,V.charCodeAt(0))),Array.from(m,V=>q.setUint8($++,V.charCodeAt(0))),Array.from(d,V=>q.setUint8($++,V.charCodeAt(0))),Array.from(g,V=>q.setUint8($++,V.charCodeAt(0))),Array.from(A,V=>q.setUint8($++,V.charCodeAt(0)));var G=new Uint8Array(x.byteLength+r.byteLength);return G.set(new Uint8Array(x),0),G.set(new Uint8Array(r),x.byteLength),G.buffer}decode(a,l){if(this._isArrayBuffer(a)){let r=this._binaryDecode(a);return l(r)}if(typeof a=="string"){const r=JSON.parse(a),[c,h,d,m,y]=r;return l({join_ref:c,ref:h,topic:d,event:m,payload:y})}return l({})}_binaryDecode(a){const l=new DataView(a),r=l.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,l,c)}_decodeUserBroadcast(a,l,r){const c=l.getUint8(1),h=l.getUint8(2),d=l.getUint8(3),m=l.getUint8(4);let y=this.HEADER_LENGTH+4;const g=r.decode(a.slice(y,y+c));y=y+c;const S=r.decode(a.slice(y,y+h));y=y+h;const A=r.decode(a.slice(y,y+d));y=y+d;const j=a.slice(y,a.byteLength),x=m===this.JSON_ENCODING?JSON.parse(r.decode(j)):j,q={type:this.BROADCAST_EVENT,event:S,payload:x};return d>0&&(q.meta=JSON.parse(A)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:q}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([r])=>l.includes(r)))}}class Sp{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Be||(Be={}));const Qm=(s,a,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return a?Object.keys(a).reduce((h,d)=>(h[d]=Wv(d,s,a,c),h),{}):{}},Wv=(s,a,l,r)=>{const c=a.find(m=>m.name===s),h=c?.type,d=l[s];return h&&!r.includes(h)?wp(h,d):Tc(d)},wp=(s,a)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return n_(a,l)}switch(s){case Be.bool:return Fv(a);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return e_(a);case Be.json:case Be.jsonb:return t_(a);case Be.timestamp:return a_(a);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Tc(a);default:return Tc(a)}},Tc=s=>s,Fv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},e_=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},t_=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},n_=(s,a)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let h;const d=s.slice(1,l);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(m=>wp(a,m))}return s},a_=s=>typeof s=="string"?s.replace(" ","T"):s,Ep=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class oc{constructor(a,l,r={},c=wc){this.channel=a,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var r;return this._hasReceived(a)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Xm;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Xm||(Xm={}));class Ks{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:h,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ks.syncState(this.state,c,h,d),this.pendingDiffs.forEach(y=>{this.state=Ks.syncDiff(this.state,y,h,d)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},c=>{const{onJoin:h,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ks.syncDiff(this.state,c,h,d),m())}),this.onJoin((c,h,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:d})}),this.onLeave((c,h,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,r,c){const h=this.cloneDeep(a),d=this.transformState(l),m={},y={};return this.map(h,(g,S)=>{d[g]||(y[g]=S)}),this.map(d,(g,S)=>{const A=h[g];if(A){const j=S.map(G=>G.presence_ref),x=A.map(G=>G.presence_ref),q=S.filter(G=>x.indexOf(G.presence_ref)<0),$=A.filter(G=>j.indexOf(G.presence_ref)<0);q.length>0&&(m[g]=q),$.length>0&&(y[g]=$)}else m[g]=S}),this.syncDiff(h,{joins:m,leaves:y},r,c)}static syncDiff(a,l,r,c){const{joins:h,leaves:d}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(h,(m,y)=>{var g;const S=(g=a[m])!==null&&g!==void 0?g:[];if(a[m]=this.cloneDeep(y),S.length>0){const A=a[m].map(x=>x.presence_ref),j=S.filter(x=>A.indexOf(x.presence_ref)<0);a[m].unshift(...j)}r(m,S,y)}),this.map(d,(m,y)=>{let g=a[m];if(!g)return;const S=y.map(A=>A.presence_ref);g=g.filter(A=>S.indexOf(A.presence_ref)<0),a[m]=g,c(m,g,y),g.length===0&&delete a[m]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(r=>l(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,r)=>{const c=a[r];return"metas"in c?l[r]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):l[r]=c,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Jm||(Jm={}));var Ys;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ys||(Ys={}));var Nn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Nn||(Nn={}));class Mi{constructor(a,l={config:{}},r){var c,h;if(this.topic=a,this.params=l,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new oc(this,ln.join,this.params,this.timeout),this.rejoinTimer=new Sp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new Ks(this),this.broadcastEndpointURL=Ep(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var r,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:d,presence:m,private:y}}=this.params,g=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&c!==void 0?c:[],S=!!this.bindings[Ys.PRESENCE]&&this.bindings[Ys.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,A={},j={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:S}),postgres_changes:g,private:y};this.socket.accessTokenValue&&(A.access_token=this.socket.accessTokenValue),this._onError(x=>a?.(Nn.CHANNEL_ERROR,x)),this._onClose(()=>a?.(Nn.CLOSED)),this.updateJoinPayload(Object.assign({config:j},A)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:x})=>{var q;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){a?.(Nn.SUBSCRIBED);return}else{const $=this.bindings.postgres_changes,G=(q=$?.length)!==null&&q!==void 0?q:0,V=[];for(let K=0;K<G;K++){const H=$[K],{filter:{event:Z,schema:Te,table:he,filter:W}}=H,He=x&&x[K];if(He&&He.event===Z&&Mi.isFilterValueEqual(He.schema,Te)&&Mi.isFilterValueEqual(He.table,he)&&Mi.isFilterValueEqual(He.filter,W))V.push(Object.assign(Object.assign({},H),{id:He.id}));else{this.unsubscribe(),this.state=st.errored,a?.(Nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,a&&a(Nn.SUBSCRIBED);return}}).receive("error",x=>{this.state=st.errored,a?.(Nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{a?.(Nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,r){return this.state===st.joined&&a===Ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,r)}async httpSend(a,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const g=await m.json();y=g.error||g.message||y}catch{}return Promise.reject(new Error(y))}async send(a,l={}){var r,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,m,y;const g=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),g.receive("ok",()=>h("ok")),g.receive("error",()=>h("error")),g.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=st.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new oc(this,ln.leave,{},a),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(a,l,r){const c=new AbortController,h=setTimeout(()=>c.abort(),r),d=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(h),d}_push(a,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new oc(this,a,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Iv){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,r){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,r){var c,h;const d=a.toLocaleLowerCase(),{close:m,error:y,leave:g,join:S}=ln;if(r&&[m,y,g,S].indexOf(d)>=0&&r!==this._joinRef())return;let j=this._onMessage(d,l,r);if(l&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(x=>{var q,$,G;return((q=x.filter)===null||q===void 0?void 0:q.event)==="*"||((G=($=x.filter)===null||$===void 0?void 0:$.event)===null||G===void 0?void 0:G.toLocaleLowerCase())===d}).map(x=>x.callback(j,r)):(h=this.bindings[d])===null||h===void 0||h.filter(x=>{var q,$,G,V,K,H;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in x){const Z=x.id,Te=(q=x.filter)===null||q===void 0?void 0:q.event;return Z&&(($=l.ids)===null||$===void 0?void 0:$.includes(Z))&&(Te==="*"||Te?.toLocaleLowerCase()===((G=l.data)===null||G===void 0?void 0:G.type.toLocaleLowerCase()))}else{const Z=(K=(V=x?.filter)===null||V===void 0?void 0:V.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return Z==="*"||Z===((H=l?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===d}).map(x=>{if(typeof j=="object"&&"ids"in j){const q=j.data,{schema:$,table:G,commit_timestamp:V,type:K,errors:H}=q;j=Object.assign(Object.assign({},{schema:$,table:G,commit_timestamp:V,eventType:K,new:{},old:{},errors:H}),this._getPayloadRecords(q))}x.callback(j,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,r){const c=a.toLocaleLowerCase(),h={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(a,l){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&Mi.isEqual(c.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const r in a)if(a[r]!==l[r])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(ln.close,{},a)}_onError(a){this._on(ln.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=Qm(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=Qm(a.columns,a.old_record)),l}}const cc=()=>{},Sr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},i_=[1e3,2e3,5e3,1e4],s_=1e4,l_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class r_{constructor(a,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wc,this.transport=null,this.heartbeatIntervalMs=Sr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cc,this.ref=0,this.reconnectTimer=null,this.vsn=Ym,this.logger=cc,this.conn=null,this.sendBuffer=[],this.serializer=new Pv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${Ec.websocket}`,this.httpEndpoint=Ep(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return l==="ok"&&this._remove(a),this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,r){this.logger(a,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oa.connecting:return Da.Connecting;case oa.open:return Da.Open;case oa.closing:return Da.Closing;default:return Da.Closed}}isConnected(){return this.connectionState()===Da.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const r=`realtime:${a}`,c=this.getChannels().find(h=>h.topic===r);if(c)return c;{const h=new Mi(`realtime:${a}`,l,this);return this.channels.push(h),h}}push(a){const{topic:l,event:r,payload:c,ref:h}=a,d=()=>{this.encode(a,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${l} ${r} (${h})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Zv,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Sr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",g)}catch(S){this.log("error","error in heartbeat callback",S)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:h,ref:d}=l,m=d?`(${d})`:"",y=h.status||"";this.log("receive",`${y} ${r} ${c} ${m}`.trim(),h),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(c,h,d)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===oa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===oa.open||this.conn.readyState===oa.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(ln.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const r=a.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${a}${r}${c}`}_workerObjectUrl(a){let l;if(a)l=a;else{const r=new Blob([l_],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,r=!1;if(a)l=a,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const h={access_token:l,version:Xv};l&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(ln.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Sp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,r,c,h,d,m,y,g,S,A,j,x;switch(this.transport=(l=a?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=a?.timeout)!==null&&r!==void 0?r:wc,this.heartbeatIntervalMs=(c=a?.heartbeatIntervalMs)!==null&&c!==void 0?c:Sr.HEARTBEAT_INTERVAL,this.worker=(h=a?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=a?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:cc,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:Ym,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a?.reconnectAfterMs)!==null&&g!==void 0?g:(q=>i_[q-1]||s_),this.vsn){case Jv:this.encode=(S=a?.encode)!==null&&S!==void 0?S:((q,$)=>$(JSON.stringify(q))),this.decode=(A=a?.decode)!==null&&A!==void 0?A:((q,$)=>$(JSON.parse(q)));break;case bp:this.encode=(j=a?.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(x=a?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Xs=class extends Error{constructor(s,a){super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function u_(s,a,l){const r=new URL(a,s);if(l)for(const[c,h]of Object.entries(l))h!==void 0&&r.searchParams.set(c,h);return r.toString()}async function o_(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function c_(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:h,headers:d}){const m=u_(s.baseUrl,r,c),y=await o_(s.auth),g=await a(m,{method:l,headers:{...h?{"Content-Type":"application/json"}:{},...y,...d},body:h?JSON.stringify(h):void 0}),S=await g.text(),A=(g.headers.get("content-type")||"").includes("application/json"),j=A&&S?JSON.parse(S):S;if(!g.ok){const x=A?j:void 0,q=x?.error;throw new Xs(q?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:q?.type,icebergCode:q?.code,details:x})}return{status:g.status,headers:g.headers,data:j}}}}function wr(s){return s.join("")}var h_=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:wr(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,a){const l={namespace:s.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wr(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wr(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wr(s.namespace)}`}),!0}catch(a){if(a instanceof Xs&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(l){if(l instanceof Xs&&l.status===409)return;throw l}}};function Ai(s){return s.join("")}var f_=class{constructor(s,a="",l){this.client=s,this.prefix=a,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ai(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ai(s.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(s,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ai(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ai(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ai(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ai(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(l){if(l instanceof Xs&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(l){if(l instanceof Xs&&l.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw l}}},d_=class{constructor(s){let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=c_({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new h_(this.client,a),this.tableOps=new f_(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},zr=class extends Error{constructor(s,a="storage",l,r){super(s),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function Mr(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Er=class extends zr{constructor(s,a,l,r="storage"){super(s,r,a,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Tp=class extends zr{constructor(s,a,l="storage"){super(s,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const m_=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),p_=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Ac=s=>{if(Array.isArray(s))return s.map(l=>Ac(l));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[c]=Ac(r)}),a},g_=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Js(s){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Js(s)}function y_(s,a){if(Js(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function v_(s){var a=y_(s,"string");return Js(a)=="symbol"?a:a+""}function __(s,a,l){return(a=v_(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Zm(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function le(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Zm(Object(l),!0).forEach(function(r){__(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Zm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const Im=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},b_=async(s,a,l,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!l?.noResolveJson){const c=s,h=c.status||500;if(typeof c.json=="function")c.json().then(d=>{const m=d?.statusCode||d?.code||h+"";a(new Er(Im(d),h,m,r))}).catch(()=>{if(r==="vectors"){const d=h+"";a(new Er(c.statusText||`HTTP ${h} error`,h,d,r))}else{const d=h+"";a(new Er(c.statusText||`HTTP ${h} error`,h,d,r))}});else{const d=h+"";a(new Er(c.statusText||`HTTP ${h} error`,h,d,r))}}else a(new Tp(Im(s),s,r))},S_=(s,a,l,r)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"||s==="HEAD"||!r?le(le({},c),l):(p_(r)?(c.headers=le({"Content-Type":"application/json"},a?.headers),c.body=JSON.stringify(r)):c.body=r,a?.duplex&&(c.duplex=a.duplex),le(le({},c),l))};async function Ls(s,a,l,r,c,h,d){return new Promise((m,y)=>{s(l,S_(a,r,c,h)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;if(d==="vectors"){const S=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!S||!S.includes("application/json"))return{}}return g.json()}).then(g=>m(g)).catch(g=>b_(g,y,r,d))})}function Ap(s="storage"){return{get:async(a,l,r,c)=>Ls(a,"GET",l,r,c,void 0,s),post:async(a,l,r,c,h)=>Ls(a,"POST",l,c,h,r,s),put:async(a,l,r,c,h)=>Ls(a,"PUT",l,c,h,r,s),head:async(a,l,r,c)=>Ls(a,"HEAD",l,le(le({},r),{},{noResolveJson:!0}),c,void 0,s),remove:async(a,l,r,c,h)=>Ls(a,"DELETE",l,c,h,r,s)}}const w_=Ap("storage"),{get:Zs,post:sn,put:Oc,head:E_,remove:kc}=w_,Gt=Ap("vectors");var Li=class{constructor(s,a={},l,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.fetch=m_(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var a=this;try{return{data:await s(),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Mr(l))return{data:null,error:l};throw l}}},T_=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Mr(a))return{data:null,error:a};throw a}}};let Op;Op=Symbol.toStringTag;var A_=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[Op]="BlobDownloadBuilder",this.promise=null}asStream(){return new T_(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Mr(a))return{data:null,error:a};throw a}}};const O_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var R_=class extends Li{constructor(s,a={},l,r){super(s,a,r,"storage"),this.bucketId=l}async uploadOrUpdate(s,a,l,r){var c=this;return c.handleOperation(async()=>{let h;const d=le(le({},Pm),r);let m=le(le({},c.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const y=d.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),y&&h.append("metadata",c.encodeMetadata(y)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),y&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(y))):(h=l,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,y&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),r?.headers&&(m=le(le({},m),r.headers));const g=c._removeEmptyFolders(a),S=c._getFinalPath(g),A=await(s=="PUT"?Oc:sn)(c.fetch,`${c.url}/object/${S}`,h,le({headers:m},d?.duplex?{duplex:d.duplex}:{}));return{path:g,id:A.Id,fullPath:A.Key}})}async upload(s,a,l){return this.uploadOrUpdate("POST",s,a,l)}async uploadToSignedUrl(s,a,l,r){var c=this;const h=c._removeEmptyFolders(s),d=c._getFinalPath(h),m=new URL(c.url+`/object/upload/sign/${d}`);return m.searchParams.set("token",a),c.handleOperation(async()=>{let y;const g=le({upsert:Pm.upsert},r),S=le(le({},c.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&l instanceof Blob?(y=new FormData,y.append("cacheControl",g.cacheControl),y.append("",l)):typeof FormData<"u"&&l instanceof FormData?(y=l,y.append("cacheControl",g.cacheControl)):(y=l,S["cache-control"]=`max-age=${g.cacheControl}`,S["content-type"]=g.contentType),{path:h,fullPath:(await Oc(c.fetch,m.toString(),y,{headers:S})).Key}})}async createSignedUploadUrl(s,a){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(s);const c=le({},l.headers);a?.upsert&&(c["x-upsert"]="true");const h=await sn(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),d=new URL(l.url+h.url),m=d.searchParams.get("token");if(!m)throw new zr("No token returned by API");return{signedUrl:d.toString(),path:s,token:m}})}async update(s,a,l){return this.uploadOrUpdate("PUT",s,a,l)}async move(s,a,l){var r=this;return r.handleOperation(async()=>await sn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:r.headers}))}async copy(s,a,l){var r=this;return r.handleOperation(async()=>({path:(await sn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,a,l){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(s),h=await sn(r.fetch,`${r.url}/object/sign/${c}`,le({expiresIn:a},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${h.signedURL}${d}`)}})}async createSignedUrls(s,a,l){var r=this;return r.handleOperation(async()=>{const c=await sn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:a,paths:s},{headers:r.headers}),h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c.map(d=>le(le({},d),{},{signedUrl:d.signedURL?encodeURI(`${r.url}${d.signedURL}${h}`):null}))})}download(s,a,l){const r=typeof a?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(a?.transform||{}),h=c?`?${c}`:"",d=this._getFinalPath(s),m=()=>Zs(this.fetch,`${this.url}/${r}/${d}${h}`,{headers:this.headers,noResolveJson:!0},l);return new A_(m,this.shouldThrowOnError)}async info(s){var a=this;const l=a._getFinalPath(s);return a.handleOperation(async()=>Ac(await Zs(a.fetch,`${a.url}/object/info/${l}`,{headers:a.headers})))}async exists(s){var a=this;const l=a._getFinalPath(s);try{return await E_(a.fetch,`${a.url}/object/${l}`,{headers:a.headers}),{data:!0,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mr(r)&&r instanceof Tp){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,a){const l=this._getFinalPath(s),r=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&r.push(c);const h=typeof a?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(a?.transform||{});d!==""&&r.push(d);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${m}`)}}}async remove(s){var a=this;return a.handleOperation(async()=>await kc(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}))}async list(s,a,l){var r=this;return r.handleOperation(async()=>{const c=le(le(le({},O_),a),{},{prefix:s||""});return await sn(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l)})}async listV2(s,a){var l=this;return l.handleOperation(async()=>{const r=le({},s);return await sn(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},a)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const j_="2.95.3",Fs={"X-Client-Info":`storage-js/${j_}`};var C_=class extends Li{constructor(s,a={},l,r){const c=new URL(s);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const h=c.href.replace(/\/$/,""),d=le(le({},Fs),a);super(h,d,l,"storage")}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=a.listBucketOptionsToQueryString(s);return await Zs(a.fetch,`${a.url}/bucket${l}`,{headers:a.headers})})}async getBucket(s){var a=this;return a.handleOperation(async()=>await Zs(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}))}async createBucket(s,a={public:!1}){var l=this;return l.handleOperation(async()=>await sn(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async updateBucket(s,a){var l=this;return l.handleOperation(async()=>await Oc(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(s){var a=this;return a.handleOperation(async()=>await sn(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await kc(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},x_=class extends Li{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=le(le({},Fs),a);super(r,c,l,"storage")}async createBucket(s){var a=this;return a.handleOperation(async()=>await sn(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}))}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=new URLSearchParams;s?.limit!==void 0&&l.set("limit",s.limit.toString()),s?.offset!==void 0&&l.set("offset",s.offset.toString()),s?.sortColumn&&l.set("sortColumn",s.sortColumn),s?.sortOrder&&l.set("sortOrder",s.sortOrder),s?.search&&l.set("search",s.search);const r=l.toString(),c=r?`${a.url}/bucket?${r}`:`${a.url}/bucket`;return await Zs(a.fetch,c,{headers:a.headers})})}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await kc(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}from(s){var a=this;if(!g_(s))throw new zr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new d_({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,h){const d=c[h];return typeof d!="function"?d:async(...m)=>{try{return{data:await d.apply(c,m),error:null}}catch(y){if(r)throw y;return{data:null,error:y}}}}})}},U_=class extends Li{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=le(le({},Fs),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createIndex(s){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{})}async getIndex(s,a){var l=this;return l.handleOperation(async()=>await Gt.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers}))}async listIndexes(s){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}))}async deleteIndex(s,a){var l=this;return l.handleOperation(async()=>await Gt.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers})||{})}},N_=class extends Li{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=le(le({},Fs),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async putVectors(s){var a=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{})}async getVectors(s){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}))}async listVectors(s){var a=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}))}async queryVectors(s){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}))}async deleteVectors(s){var a=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{})}},k_=class extends Li{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=le(le({},Fs),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}async getBucket(s){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}))}async listBuckets(s={}){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}},D_=class extends k_{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new z_(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,l=this;return a().call(l,s)}async getBucket(s){var a=()=>super.getBucket,l=this;return a().call(l,s)}async listBuckets(s={}){var a=()=>super.listBuckets,l=this;return a().call(l,s)}async deleteBucket(s){var a=()=>super.deleteBucket,l=this;return a().call(l,s)}},z_=class extends U_{constructor(s,a,l,r){super(s,a,r),this.vectorBucketName=l}async createIndex(s){var a=()=>super.createIndex,l=this;return a().call(l,le(le({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,l=this;return a().call(l,le(le({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,l=this;return a().call(l,l.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,l=this;return a().call(l,l.vectorBucketName,s)}index(s){return new M_(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},M_=class extends N_{constructor(s,a,l,r,c){super(s,a,c),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var a=()=>super.putVectors,l=this;return a().call(l,le(le({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var a=()=>super.getVectors,l=this;return a().call(l,le(le({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,l=this;return a().call(l,le(le({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,l=this;return a().call(l,le(le({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,l=this;return a().call(l,le(le({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},q_=class extends C_{constructor(s,a={},l,r){super(s,a,l,r)}from(s){return new R_(this.url,this.headers,s,this.fetch)}get vectors(){return new D_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new x_(this.url+"/iceberg",this.headers,this.fetch)}};const Rp="2.95.3",ki=30*1e3,Rc=3,hc=Rc*ki,B_="http://localhost:9999",L_="supabase.auth.token",H_={"X-Client-Info":`gotrue-js/${Rp}`},jc="X-Supabase-Api-Version",jp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G_=600*1e3;class Is extends Error{constructor(a,l,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function F(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class V_ extends Is{constructor(a,l,r){super(a,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function K_(s){return F(s)&&s.name==="AuthApiError"}class za extends Is{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}}class zn extends Is{constructor(a,l,r,c){super(a,r,c),this.name=l,this.status=r}}class $t extends zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fc(s){return F(s)&&s.name==="AuthSessionMissingError"}class Oi extends zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tr extends zn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Ar extends zn{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y_(s){return F(s)&&s.name==="AuthImplicitGrantRedirectError"}class Wm extends zn{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Q_ extends zn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Cc extends zn{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}}function dc(s){return F(s)&&s.name==="AuthRetryableFetchError"}class Fm extends zn{constructor(a,l,r){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class xc extends zn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ep=` 	
\r=`.split(""),X_=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<ep.length;a+=1)s[ep[a].charCodeAt(0)]=-2;for(let a=0;a<xr.length;a+=1)s[xr[a].charCodeAt(0)]=a;return s})();function tp(s,a,l){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(xr[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(xr[r]),a.queuedBits-=6}}function Cp(s,a,l){const r=X_[s];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function np(s){const a=[],l=d=>{a.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=d=>{I_(d,r,l)};for(let d=0;d<s.length;d+=1)Cp(s.charCodeAt(d),c,h);return a.join("")}function J_(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Z_(s,a){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}J_(r,a)}}function I_(s,a,l){if(a.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function qi(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)Cp(s.charCodeAt(c),l,r);return new Uint8Array(a)}function P_(s){const a=[];return Z_(s,l=>a.push(l)),new Uint8Array(a)}function Ma(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};return s.forEach(c=>tp(c,l,r)),tp(null,l,r),a.join("")}function W_(s){return Math.round(Date.now()/1e3)+s}function F_(){return Symbol("auth-callback")}const pt=()=>typeof window<"u"&&typeof document<"u",xa={tested:!1,writable:!1},xp=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xa.tested)return xa.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),xa.tested=!0,xa.writable=!0}catch{xa.tested=!0,xa.writable=!1}return xa.writable};function e0(s){const a={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,h)=>{a[h]=c})}catch{}return l.searchParams.forEach((r,c)=>{a[c]=r}),a}const Up=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),t0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Di=async(s,a,l)=>{await s.setItem(a,JSON.stringify(l))},Ua=async(s,a)=>{const l=await s.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},mt=async(s,a)=>{await s.removeItem(a)};class qr{constructor(){this.promise=new qr.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}qr.promiseConstructor=Promise;function Or(s){const a=s.split(".");if(a.length!==3)throw new xc("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!$_.test(a[r]))throw new xc("JWT not in base64url format");return{header:JSON.parse(np(a[0])),payload:JSON.parse(np(a[1])),signature:qi(a[2]),raw:{header:a[0],payload:a[1]}}}async function n0(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function a0(s,a){return new Promise((r,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await s(h);if(!a(h,null,d)){r(d);return}}catch(d){if(!a(h,d)){c(d);return}}})()})}function i0(s){return("0"+s.toString(16)).substr(-2)}function s0(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let h=0;h<56;h++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(a),Array.from(a,i0).join("")}async function l0(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function r0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await l0(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(s,a,l=!1){const r=s0();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await Di(s,`${a}-code-verifier`,c);const h=await r0(r);return[h,r===h?"plain":"s256"]}const u0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o0(s){const a=s.headers.get(jc);if(!a||!a.match(u0))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function c0(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function h0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const f0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(s){if(!f0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mc(){const s={};return new Proxy(s,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function d0(s,a){return new Proxy(s,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!a.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,r,c)}})}function ap(s){return JSON.parse(JSON.stringify(s))}const ka=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),m0=[502,503,504];async function ip(s){var a;if(!t0(s))throw new Cc(ka(s),0);if(m0.includes(s.status))throw new Cc(ka(s),s.status);let l;try{l=await s.json()}catch(h){throw new za(ka(h),h)}let r;const c=o0(s);if(c&&c.getTime()>=jp["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new Fm(ka(l),s.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new $t}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new Fm(ka(l),s.status,l.weak_password.reasons);throw new V_(ka(l),s.status||500,r)}const p0=(s,a,l,r)=>{const c={method:s,headers:a?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function se(s,a,l,r){var c;const h=Object.assign({},r?.headers);h[jc]||(h[jc]=jp["2024-01-01"].name),r?.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const d=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(d.redirect_to=r.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",y=await g0(s,a,l+m,{headers:h,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(y):{data:Object.assign({},y),error:null}}async function g0(s,a,l,r,c,h){const d=p0(a,r,c,h);let m;try{m=await s(l,Object.assign({},d))}catch(y){throw console.error(y),new Cc(ka(y),0)}if(m.ok||await ip(m),r?.noResolveJson)return m;try{return await m.json()}catch(y){await ip(y)}}function an(s){var a;let l=null;_0(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=W_(s.expires_in)));const r=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:l,user:r},error:null}}function sp(s){const a=an(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(a.data.weak_password=s.weak_password),a}function ca(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function y0(s){return{data:s,error:null}}function v0(s){const{action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h}=s,d=Dr(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h},y=Object.assign({},d);return{data:{properties:m,user:y},error:null}}function lp(s){return s}function _0(s){return s.access_token&&s.refresh_token&&s.expires_in}const pc=["global","local","others"];class b0{constructor({url:a="",headers:l={},fetch:r}){this.url=a,this.headers=l,this.fetch=Up(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=pc[0]){if(pc.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pc.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,l={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:ca})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:l}=a,r=Dr(a,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:v0,redirectTo:l?.redirectTo})}catch(l){if(F(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ca})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,r,c,h,d,m,y;try{const g={nextPage:null,lastPage:0,total:0},S=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:lp});if(S.error)throw S.error;const A=await S.json(),j=(d=S.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(y=(m=S.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return x.length>0&&(x.forEach(q=>{const $=parseInt(q.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(q.split(";")[1].split("=")[1]);g[`${G}Page`]=$}),g.total=parseInt(j)),{data:Object.assign(Object.assign({},A),g),error:null}}catch(g){if(F(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){ji(a);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ca})}catch(l){if(F(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){ji(a);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:ca})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,l=!1){ji(a);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:ca})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){ji(a.userId);try{const{data:l,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(F(l))return{data:null,error:l};throw l}}async _deleteFactor(a){ji(a.userId),ji(a.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(F(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,r,c,h,d,m,y;try{const g={nextPage:null,lastPage:0,total:0},S=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=a?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:lp});if(S.error)throw S.error;const A=await S.json(),j=(d=S.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(y=(m=S.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return x.length>0&&(x.forEach(q=>{const $=parseInt(q.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(q.split(";")[1].split("=")[1]);g[`${G}Page`]=$}),g.total=parseInt(j)),{data:Object.assign(Object.assign({},A),g),error:null}}catch(g){if(F(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(F(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(F(l))return{data:null,error:l};throw l}}}function rp(s={}){return{getItem:a=>s[a]||null,setItem:(a,l)=>{s[a]=l},removeItem:a=>{delete s[a]}}}const Ci={debug:!!(globalThis&&xp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Np extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class S0 extends Np{}async function w0(s,a,l){Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const r=new globalThis.AbortController;return a>0&&setTimeout(()=>{r.abort(),Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await l()}finally{Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw Ci.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new S0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ci.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function E0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function T0(s){return parseInt(s,16)}function A0(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,r=>r.toString(16).padStart(2,"0")).join("")}function O0(s){var a;const{chainId:l,domain:r,expirationTime:c,issuedAt:h=new Date,nonce:d,notBefore:m,requestId:y,resources:g,scheme:S,uri:A,version:j}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!A)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const x=kp(s.address),q=S?`${S}://${r}`:r,$=s.statement?`${s.statement}
`:"",G=`${q} wants you to sign in with your Ethereum account:
${x}

${$}`;let V=`URI: ${A}
Version: ${j}
Chain ID: ${l}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(c&&(V+=`
Expiration Time: ${c.toISOString()}`),m&&(V+=`
Not Before: ${m.toISOString()}`),y&&(V+=`
Request ID: ${y}`),g){let K=`
Resources:`;for(const H of g){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);K+=`
- ${H}`}V+=K}return`${G}
${V}`}class at extends Error{constructor({message:a,code:l,cause:r,name:c}){var h;super(a,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=c??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=l}}class Ur extends at{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function R0({error:s,options:a}){var l,r,c;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new at({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(Dp(d)){if(h.rp.id!==d)return new at({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function j0({error:s,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new at({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(Dp(r)){if(l.rpId!==r)return new at({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class C0{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const x0=new C0;function U0(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:l,excludeCredentials:r}=s,c=Dr(s,["challenge","user","excludeCredentials"]),h=qi(a).buffer,d=Object.assign(Object.assign({},l),{id:qi(l.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:h,user:d});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let y=0;y<r.length;y++){const g=r[y];m.excludeCredentials[y]=Object.assign(Object.assign({},g),{id:qi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function N0(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:l}=s,r=Dr(s,["challenge","allowCredentials"]),c=qi(a).buffer,h=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){h.allowCredentials=new Array(l.length);for(let d=0;d<l.length;d++){const m=l[d];h.allowCredentials[d]=Object.assign(Object.assign({},m),{id:qi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function k0(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:Ma(new Uint8Array(s.response.attestationObject)),clientDataJSON:Ma(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function D0(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Ma(new Uint8Array(c.authenticatorData)),clientDataJSON:Ma(new Uint8Array(c.clientDataJSON)),signature:Ma(new Uint8Array(c.signature)),userHandle:c.userHandle?Ma(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Dp(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function up(){var s,a;return!!(pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function z0(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ur("Browser returned unexpected credential type",a)}:{data:null,error:new Ur("Empty credential response",a)}}catch(a){return{data:null,error:R0({error:a,options:s})}}}async function M0(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ur("Browser returned unexpected credential type",a)}:{data:null,error:new Ur("Empty credential response",a)}}catch(a){return{data:null,error:j0({error:a,options:s})}}}const q0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},B0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nr(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of s)if(c)for(const h in c){const d=c[h];if(d!==void 0)if(Array.isArray(d))r[h]=d;else if(l(d))r[h]=d;else if(a(d)){const m=r[h];a(m)?r[h]=Nr(m,d):r[h]=Nr(d)}else r[h]=d}return r}function L0(s,a){return Nr(q0,s,a||{})}function H0(s,a){return Nr(B0,s,a||{})}class $0{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:r,signal:c},h){var d;try{const{data:m,error:y}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!m)return{data:null,error:y};const g=c??x0.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:S}=m.webauthn.credential_options.publicKey;if(!S.name){const A=r;if(A)S.name=`${S.id}:${A}`;else{const x=(await this.client.getUser()).data.user,q=((d=x?.user_metadata)===null||d===void 0?void 0:d.name)||x?.email||x?.id||"User";S.name=`${S.id}:${q}`}}S.displayName||(S.displayName=S.name)}switch(m.webauthn.type){case"create":{const S=L0(m.webauthn.credential_options.publicKey,h?.create),{data:A,error:j}=await z0({publicKey:S,signal:g});return A?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:A}},error:null}:{data:null,error:j}}case"request":{const S=H0(m.webauthn.credential_options.publicKey,h?.request),{data:A,error:j}=await M0(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:S,signal:g}));return A?{data:{factorId:a,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:A}},error:null}:{data:null,error:j}}}}catch(m){return F(m)?{data:null,error:m}:{data:null,error:new za("Unexpected error in challenge",m)}}}async _verify({challengeId:a,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:r})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new Is("rpId is required for WebAuthn authentication")};try{if(!up())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:h});if(!d)return{data:null,error:m};const{webauthn:y}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:y.type,rpId:l,rpOrigins:r,credential_response:y.credential_response}})}catch(d){return F(d)?{data:null,error:d}:{data:null,error:new za("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new Is("rpId is required for WebAuthn registration")};try{if(!up())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(S=>{var A;return(A=S.data)===null||A===void 0?void 0:A.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===a&&j.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:m};const{data:y,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:h});return y?this._verify({factorId:d.id,challengeId:y.challengeId,webauthn:{rpId:l,rpOrigins:r,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:g}}catch(d){return F(d)?{data:null,error:d}:{data:null,error:new za("Unexpected error in register",d)}}}}E0();const G0={url:B_,storageKey:L_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:H_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function op(s,a,l){return await l()}const xi={};class Ps{get jwks(){var a,l;return(l=(a=xi[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=xi[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{cachedAt:a})}constructor(a){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},G0),a);if(this.storageKey=h.storageKey,this.instanceID=(l=Ps.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Ps.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&pt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new b0({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Up(h.fetch),this.lock=h.lock||op,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&pt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=w0:this.lock=op,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:xp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rp(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=rp(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rp}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},r="none";if(pt()&&(l=e0(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),pt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:h}=await this._getSessionFromURL(l,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Y_(h)){const y=(a=h.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:d,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return F(l)?this._returnResult({error:l}):this._returnResult({error:new za("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,r,c;try{const h=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=a?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=a?.options)===null||c===void 0?void 0:c.captchaToken}},xform:an}),{data:d,error:m}=h;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const y=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(h){if(F(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var l,r,c;try{let h;if("email"in a){const{email:S,password:A,options:j}=a;let x=null,q=null;this.flowType==="pkce"&&([x,q]=await Ri(this.storage,this.storageKey)),h=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:S,password:A,data:(l=j?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:x,code_challenge_method:q},xform:an})}else if("phone"in a){const{phone:S,password:A,options:j}=a;h=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:A,data:(r=j?.data)!==null&&r!==void 0?r:{},channel:(c=j?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:an})}else throw new Tr("You must provide either an email or phone number and a password");const{data:d,error:m}=h;if(m||!d)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const y=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(h){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let l;if("email"in a){const{email:h,password:d,options:m}=a;l=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:sp})}else if("phone"in a){const{phone:h,password:d,options:m}=a;l=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:sp})}else throw new Tr("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const h=new Oi;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,r,c,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,r,c,h,d,m,y,g,S,A,j;let x,q;if("message"in a)x=a.message,q=a.signature;else{const{chain:$,wallet:G,statement:V,options:K}=a;let H;if(pt())if(typeof G=="object")H=G;else{const $e=window;if("ethereum"in $e&&typeof $e.ethereum=="object"&&"request"in $e.ethereum&&typeof $e.ethereum.request=="function")H=$e.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!K?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=G}const Z=new URL((l=K?.url)!==null&&l!==void 0?l:window.location.href),Te=await H.request({method:"eth_requestAccounts"}).then($e=>$e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Te||Te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const he=kp(Te[0]);let W=(r=K?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!W){const $e=await H.request({method:"eth_chainId"});W=T0($e)}const He={domain:Z.host,address:he,statement:V,uri:Z.href,version:"1",chainId:W,nonce:(c=K?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(h=K?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=K?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=K?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(g=K?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(S=K?.signInWithEthereum)===null||S===void 0?void 0:S.resources};x=O0(He),q=await H.request({method:"personal_sign",params:[A0(x),he]})}try{const{data:$,error:G}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:q},!((A=a.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(j=a.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:an});if(G)throw G;if(!$||!$.session||!$.user){const V=new Oi;return this._returnResult({data:{user:null,session:null},error:V})}return $.session&&(await this._saveSession($.session),await this._notifyAllSubscribers("SIGNED_IN",$.session)),this._returnResult({data:Object.assign({},$),error:G})}catch($){if(F($))return this._returnResult({data:{user:null,session:null},error:$});throw $}}async signInWithSolana(a){var l,r,c,h,d,m,y,g,S,A,j,x;let q,$;if("message"in a)q=a.message,$=a.signature;else{const{chain:G,wallet:V,statement:K,options:H}=a;let Z;if(pt())if(typeof V=="object")Z=V;else{const he=window;if("solana"in he&&typeof he.solana=="object"&&("signIn"in he.solana&&typeof he.solana.signIn=="function"||"signMessage"in he.solana&&typeof he.solana.signMessage=="function"))Z=he.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=V}const Te=new URL((l=H?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in Z&&Z.signIn){const he=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:Te.host,uri:Te.href}),K?{statement:K}:null));let W;if(Array.isArray(he)&&he[0]&&typeof he[0]=="object")W=he[0];else if(he&&typeof he=="object"&&"signedMessage"in he&&"signature"in he)W=he;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)q=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),$=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");q=[`${Te.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${Te.href}`,`Issued At: ${(c=(r=H?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=H?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((d=H?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((m=H?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((y=H?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((A=(S=H?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||A===void 0)&&A.length?["Resources",...H.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const he=await Z.signMessage(new TextEncoder().encode(q),"utf8");if(!he||!(he instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");$=he}}try{const{data:G,error:V}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:q,signature:Ma($)},!((j=a.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:an});if(V)throw V;if(!G||!G.session||!G.user){const K=new Oi;return this._returnResult({data:{user:null,session:null},error:K})}return G.session&&(await this._saveSession(G.session),await this._notifyAllSubscribers("SIGNED_IN",G.session)),this._returnResult({data:Object.assign({},G),error:V})}catch(G){if(F(G))return this._returnResult({data:{user:null,session:null},error:G});throw G}}async _exchangeCodeForSession(a){const l=await Ua(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Q_;const{data:h,error:d}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:an});if(await mt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const m=new Oi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:d})}catch(h){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:l,provider:r,token:c,access_token:h,nonce:d}=a,m=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:an}),{data:y,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y||!y.session||!y.user){const S=new Oi;return this._returnResult({data:{user:null,session:null},error:S})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:g})}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,r,c,h,d;try{if("email"in a){const{email:m,options:y}=a;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await Ri(this.storage,this.storageKey));const{error:A}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(l=y?.data)!==null&&l!==void 0?l:{},create_user:(r=y?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:S},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:A})}if("phone"in a){const{phone:m,options:y}=a,{data:g,error:S}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(h=y?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(d=y?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:S})}throw new Tr("You must provide either an email or phone number.")}catch(m){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var l,r;try{let c,h;"options"in a&&(c=(l=a.options)===null||l===void 0?void 0:l.redirectTo,h=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:m}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:an});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const y=d.session,g=d.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:g,session:y},error:null})}catch(c){if(F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var l,r,c,h,d;try{let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ri(this.storage,this.storageKey));const g=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=a?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:y}),headers:this.headers,xform:y0});return!((h=g.data)===null||h===void 0)&&h.url&&pt()&&!(!((d=a.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;if(r)throw r;if(!l)throw new $t;const{error:c}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:r,type:c,options:h}=a,{error:d}=await se(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in a){const{phone:r,type:c,options:h}=a,{data:d,error:m}=await se(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:m})}throw new Tr("You must provide either an email or phone number and a type")}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await Ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const d=await Ua(this.userStorage,this.storageKey+"-user");d?.user?a.user=d.user:a.user=mc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};a.user=d0(a.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ca}):await this._useSession(async l=>{var r,c,h;const{data:d,error:m}=l;if(m)throw m;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:ca})})}catch(l){if(F(l))return fc(l)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async r=>{const{data:c,error:h}=r;if(h)throw h;if(!c.session)throw new $t;const d=c.session;let m=null,y=null;this.flowType==="pkce"&&a.email!=null&&([m,y]=await Ri(this.storage,this.storageKey));const{data:g,error:S}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:y}),jwt:d.access_token,xform:ca});if(S)throw S;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(r){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new $t;const l=Date.now()/1e3;let r=l,c=!0,h=null;const{payload:d}=Or(a.access_token);if(d.exp&&(r=d.exp,c=r<=l),c){const{data:m,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:y}=await this._getUser(a.access_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});h={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(l){if(F(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var r;if(!a){const{data:d,error:m}=l;if(m)throw m;a=(r=d.session)!==null&&r!==void 0?r:void 0}if(!a?.refresh_token)throw new $t;const{data:c,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(F(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!pt())throw new Ar("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Ar(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Wm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ar("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Wm("No code detected.");const{data:K,error:H}=await this._exchangeCodeForSession(a.code);if(H)throw H;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:h,refresh_token:d,expires_in:m,expires_at:y,token_type:g}=a;if(!h||!m||!d||!g)throw new Ar("No session defined in URL");const S=Math.round(Date.now()/1e3),A=parseInt(m);let j=S+A;y&&(j=parseInt(y));const x=j-S;x*1e3<=ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${A}s`);const q=j-A;S-q>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",q,j,S):S-q<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",q,j,S);const{data:$,error:G}=await this._getUser(h);if(G)throw G;const V={provider_token:r,provider_refresh_token:c,access_token:h,expires_in:A,expires_at:j,refresh_token:d,token_type:g,user:$.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:a.type},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await Ua(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h&&!fc(h))return this._returnResult({error:h});const d=(r=c.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:m}=await this.admin.signOut(d,a);if(m&&!(K_(m)&&(m.status===404||m.status===401||m.status===403)||fc(m)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=F_(),r={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async l=>{var r,c;try{const{data:{session:h},error:d}=l;if(d)throw d;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await Ri(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(h){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:r,error:c}=await this._useSession(async h=>{var d,m,y,g,S;const{data:A,error:j}=h;if(j)throw j;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",x,{headers:this.headers,jwt:(S=(g=A.session)===null||g===void 0?void 0:g.access_token)!==null&&S!==void 0?S:void 0})});if(c)throw c;return pt()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:a.provider,url:r?.url},error:null})}catch(r){if(F(r))return this._returnResult({data:{provider:a.provider,url:null},error:r});throw r}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:h}}=l;if(c)throw c;const{options:d,provider:m,token:y,access_token:g,nonce:S}=a,A=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:y,access_token:g,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:an}),{data:j,error:x}=A;return x?this._returnResult({data:{user:null,session:null},error:x}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new Oi}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:x}))}catch(c){if(await mt(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var r,c;const{data:h,error:d}=l;if(d)throw d;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await a0(async c=>(c>0&&await n0(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:an})),(c,h)=>{const d=200*Math.pow(2,c);return h&&dc(h)&&Date.now()+d-r<ki})}catch(r){if(this._debug(l,"error",r),F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",r),pt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await Ua(this.storage,this.storageKey);if(c&&this.userStorage){let d=await Ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await Di(this.userStorage,this.storageKey+"-user",d)),c.user=(a=d?.user)!==null&&a!==void 0?a:mc()}else if(c&&!c.user&&!c.user){const d=await Ua(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await mt(this.storage,this.storageKey+"-user"),await Di(this.storage,this.storageKey,c)):c.user=mc()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const h=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<hc;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${hc}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),dc(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(c.access_token);!m&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var l,r;if(!a)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new qr;const{data:h,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!h.session)throw new $t;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={data:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(c,"error",h),F(h)){const d={data:null,error:h};return dc(h)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,l,r=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:l});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,l)}catch(y){h.push(y)}});if(await Promise.all(d),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await Di(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const h=ap(c);await Di(this.storage,this.storageKey,h)}else{const c=ap(l);await Di(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&pt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),ki);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-a)/ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${ki}ms, refresh threshold is ${Rc} ticks`),c<=Rc&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Np)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,d]=await Ri(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(m.toString())}if(r?.queryParams){const h=new URLSearchParams(r.queryParams);c.push(h.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;return h?this._returnResult({data:null,error:h}):await se(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var r,c;const{data:h,error:d}=l;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:g}=await se(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=h?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(a.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?k0(a.webauthn.credential_response):D0(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:y}=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:y}))})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const d=await se(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:U0(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:N0(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:r}=await this._challenge({factorId:a.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=l?.factors)!==null&&a!==void 0?a:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(a){var l,r,c,h;if(a)try{const{payload:x}=Or(a);let q=null;x.aal&&(q=x.aal);let $=q;const{data:{user:G},error:V}=await this.getUser(a);if(V)return this._returnResult({data:null,error:V});((r=(l=G?.factors)===null||l===void 0?void 0:l.filter(Z=>Z.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&($="aal2");const H=x.amr||[];return{data:{currentLevel:q,nextLevel:$,currentAuthenticationMethods:H},error:null}}catch(x){if(F(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:d},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:y}=Or(d.access_token);let g=null;y.aal&&(g=y.aal);let S=g;((h=(c=d.user.factors)===null||c===void 0?void 0:c.filter(x=>x.status==="verified"))!==null&&h!==void 0?h:[]).length>0&&(S="aal2");const j=y.amr||[];return{data:{currentLevel:g,nextLevel:S,currentAuthenticationMethods:j},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new $t})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new $t});const d=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&pt()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new $t});const d=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&pt()&&!l?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;return r?this._returnResult({data:null,error:r}):l?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new $t})})}catch(a){if(F(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $t})})}catch(l){if(F(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let r=l.keys.find(m=>m.kid===a);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(m=>m.kid===a),r&&this.jwks_cached_at+G_>c)return r;const{data:h,error:d}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,r=h.keys.find(m=>m.kid===a),!r)?null:r}async getClaims(a,l={}){try{let r=a;if(!r){const{data:x,error:q}=await this.getSession();if(q||!x.session)return this._returnResult({data:null,error:q});r=x.session.access_token}const{header:c,payload:h,signature:d,raw:{header:m,payload:y}}=Or(r);l?.allowExpired||c0(h.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!g){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:h,header:c,signature:d},error:null}}const S=h0(c.alg),A=await crypto.subtle.importKey("jwk",g,S,!0,["verify"]);if(!await crypto.subtle.verify(S,A,d,P_(`${m}.${y}`)))throw new xc("Invalid JWT signature");return{data:{claims:h,header:c,signature:d},error:null}}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}}Ps.nextInstanceID={};const V0=Ps,K0="2.95.3";let Gs="";typeof Deno<"u"?Gs="deno":typeof document<"u"?Gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gs="react-native":Gs="node";const Y0={"X-Client-Info":`supabase-js-${Gs}/${K0}`},Q0={headers:Y0},X0={schema:"public"},J0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z0={};function Ws(s){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ws(s)}function I0(s,a){if(Ws(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function P0(s){var a=I0(s,"string");return Ws(a)=="symbol"?a:a+""}function W0(s,a,l){return(a=P0(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function cp(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Ze(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?cp(Object(l),!0).forEach(function(r){W0(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):cp(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const F0=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),eb=()=>Headers,tb=(s,a,l)=>{const r=F0(l),c=eb();return async(h,d)=>{var m;const y=(m=await a())!==null&&m!==void 0?m:s;let g=new c(d?.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${y}`),r(h,Ze(Ze({},d),{},{headers:g}))}};function nb(s){return s.endsWith("/")?s:s+"/"}function ab(s,a){var l,r;const{db:c,auth:h,realtime:d,global:m}=s,{db:y,auth:g,realtime:S,global:A}=a,j={db:Ze(Ze({},y),c),auth:Ze(Ze({},g),h),realtime:Ze(Ze({},S),d),storage:{},global:Ze(Ze(Ze({},A),m),{},{headers:Ze(Ze({},(l=A?.headers)!==null&&l!==void 0?l:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function ib(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nb(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sb=class extends V0{constructor(s){super(s)}},lb=class{constructor(s,a,l){var r,c;this.supabaseUrl=s,this.supabaseKey=a;const h=ib(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:X0,realtime:Z0,auth:Ze(Ze({},J0),{},{storageKey:d}),global:Q0},y=ab(l??{},m);if(this.storageKey=(r=y.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(S,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=y.auth)!==null&&g!==void 0?g:{},this.headers,y.global.fetch)}this.fetch=tb(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new Kv(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch,timeout:y.db.timeout,urlLengthLimit:y.db.urlLengthLimit}),this.storage=new q_(this.storageUrl.href,this.headers,this.fetch,l?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Mv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,l)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(a=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:h,flowType:d,lock:m,debug:y,throwOnError:g},S,A){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sb({url:this.authUrl.href,headers:Ze(Ze({},j),S),storageKey:h,autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,flowType:d,lock:m,debug:y,throwOnError:g,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new r_(this.realtimeUrl.href,Ze(Ze({},s),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(s,a,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const rb=(s,a,l)=>new lb(s,a,l);function ub(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const a=s.version;if(a==null)return!1;const l=a.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}ub()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zp="https://lahtdxvbcscinoxyyjgw.supabase.co".trim()??"",Mp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxhaHRkeHZiY3NjaW5veHl5amd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA4NTI3ODAsImV4cCI6MjA4NjQyODc4MH0.xk-cckHYE5hNWHCnPwRtDBonkui1ivmSxxNONC72ka0".trim()??"",qp="sales_margin_state".trim()||"sales_margin_state",Bp="huawei-sales-margin-tracker-prod".trim()||"default-store",Lp=zp.length>0&&Mp.length>0;let gc=null;const Hp=()=>{if(!Lp)throw new Error("Supabase non configure (VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY).");return gc||(gc=rb(zp,Mp,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}})),gc},ob=s=>{if(!s||typeof s!="object")return!1;const a=s;return typeof a.generated_at=="string"&&Array.isArray(a.sales)&&Array.isArray(a.catalog)&&!!a.stock&&typeof a.stock=="object"},hp=async()=>{const s=Hp(),{data:a,error:l}=await s.from(qp).select("id,payload,updated_at").eq("id",Bp).maybeSingle();if(l)throw new Error(l.message);if(!a)return null;if(!ob(a.payload))throw new Error("Payload cloud invalide.");return a.payload},Rr=async s=>{const a=Hp(),{data:l,error:r}=await a.from(qp).upsert({id:Bp,payload:s},{onConflict:"id"}).select("updated_at").single();if(r)throw new Error(r.message);return l.updated_at},jr=["Sun.store","Solartraders","Direct","Other"],Hs=["Inverters","Solar Panels","Batteries","Accessories"],fp=["Stripe","Wire","PayPal","Cash"],cb=["Albanie","Allemagne","Andorre","Armenie","Autriche","Azerbaidjan","Belgique","Bielorussie","Bosnie-Herzegovine","Bulgarie","Chypre","Croatie","Danemark","Espagne","Estonie","Finlande","France","Georgie","Grece","Hongrie","Irlande","Islande","Italie","Kosovo","Lettonie","Liechtenstein","Lituanie","Luxembourg","Macedoine du Nord","Malte","Moldavie","Monaco","Montenegro","Norvege","Pays-Bas","Pologne","Portugal","Republique tcheque","Roumanie","Royaume-Uni","Russie","Saint-Marin","Serbie","Slovaquie","Slovenie","Suede","Suisse","Turquie","Ukraine","Vatican"],$p="sales_margin_tracker_theme_v1",hb="France",Bi="",fb=300*1e3,db="__hr",mb={Albanie:"AL",Allemagne:"DE",Andorre:"AD",Armenie:"AM",Autriche:"AT",Azerbaidjan:"AZ",Belgique:"BE",Bielorussie:"BY","Bosnie-Herzegovine":"BA",Bulgarie:"BG",Chypre:"CY",Croatie:"HR",Danemark:"DK",Espagne:"ES",Estonie:"EE",Finlande:"FI",France:"FR",Georgie:"GE",Grece:"GR",Hongrie:"HU",Irlande:"IE",Islande:"IS",Italie:"IT",Kosovo:"XK",Lettonie:"LV",Liechtenstein:"LI",Lituanie:"LT",Luxembourg:"LU","Macedoine du Nord":"MK",Malte:"MT",Moldavie:"MD",Monaco:"MC",Montenegro:"ME",Norvege:"NO","Pays-Bas":"NL",Pologne:"PL",Portugal:"PT","Republique tcheque":"CZ",Roumanie:"RO","Royaume-Uni":"GB",Russie:"RU","Saint-Marin":"SM",Serbie:"RS",Slovaquie:"SK",Slovenie:"SI",Suede:"SE",Suisse:"CH",Turquie:"TR",Ukraine:"UA",Vatican:"VA"},dp={channel:"All",category:"All",date_from:"",date_to:"",query:"",stock_status:"all"},Vs=s=>s.toISOString().slice(0,10),Cr=()=>({date:Vs(new Date),client_or_tx:"",channel:"Sun.store",customer_country:Bi,product_ref:"",quantity:1,sell_price_unit_ht:0,sell_price_unit_ttc:null,shipping_charged:0,shipping_charged_ttc:null,shipping_real:0,shipping_real_ttc:null,payment_method:"Wire",category:"Inverters",buy_price_unit:0,power_wp:null,attachments:[]}),Ee=s=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:2}).format(Number.isFinite(s)?s:0),$s=s=>`${Le(s)}%`,Na=s=>{const a=new Date(s);return Number.isNaN(a.getTime())?s:new Intl.DateTimeFormat("fr-FR",{dateStyle:"short",timeStyle:"medium"}).format(a)},mp=s=>{if(!s)return 0;const a=Date.parse(s);return Number.isFinite(a)?a:0},pb=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`sale-${Date.now()}-${Math.random().toString(36).slice(2)}`,gb=s=>({date:s.date,client_or_tx:s.client_or_tx,channel:s.channel,customer_country:s.customer_country||Bi,product_ref:s.product_ref,quantity:s.quantity,sell_price_unit_ht:s.sell_price_unit_ht,sell_price_unit_ttc:s.sell_price_unit_ttc??null,shipping_charged:s.shipping_charged,shipping_charged_ttc:s.shipping_charged_ttc??null,shipping_real:s.shipping_real,shipping_real_ttc:s.shipping_real_ttc??null,payment_method:s.payment_method,category:s.category,buy_price_unit:s.buy_price_unit,power_wp:s.power_wp,attachments:s.attachments}),yb=s=>({date:s.date,client_or_tx:s.client_or_tx,channel:s.channel,customer_country:s.customer_country||Bi,product_ref:"",quantity:1,sell_price_unit_ht:0,sell_price_unit_ttc:null,shipping_charged:0,shipping_charged_ttc:null,shipping_real:0,shipping_real_ttc:null,payment_method:s.payment_method,category:s.category,buy_price_unit:0,power_wp:null,attachments:[]}),yc=(s,a,l)=>{const r=new Date().toISOString();return{id:s,...a,...qa(a),created_at:l??r,updated_at:r}},vb=s=>new Promise((a,l)=>{const r=new FileReader;r.onload=()=>{const c=typeof r.result=="string"?r.result:"",h=c.includes(",")?c.split(",")[1]:c;a({id:`${s.name}-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,name:s.name,size:s.size,mime:s.type||"application/octet-stream",base64:h})},r.onerror=()=>l(new Error("Lecture de fichier impossible.")),r.readAsDataURL(s)}),_b=s=>{const a=document.createElement("a");a.href=`data:${s.mime};base64,${s.base64}`,a.download=s.name,document.body.appendChild(a),a.click(),document.body.removeChild(a)},Ui=s=>{const a=Number(s);return Number.isFinite(a)?a:0},vc=s=>{if(s.trim()==="")return null;const a=Number(s);return Number.isFinite(a)?a:null},kn=s=>{if(s==null||s==="")return null;const a=Number(s);return Number.isFinite(a)?a:null},ua=s=>s===hb,bb=s=>{const a=s.trim().toUpperCase();return/^[A-Z]{2}$/.test(a)?String.fromCodePoint(...Array.from(a).map(l=>127397+l.charCodeAt(0))):""},_c=s=>{const a=mb[s];return a?bb(a):""},kr=s=>({...s,customer_country:typeof s.customer_country=="string"&&s.customer_country.length>0?s.customer_country:Bi,sell_price_unit_ttc:kn(s.sell_price_unit_ttc),shipping_charged_ttc:kn(s.shipping_charged_ttc),shipping_real_ttc:kn(s.shipping_real_ttc)}),Sb=()=>{const s=Dn(We.sales,[]);if(s.length>0)return s.map(l=>{const r=kr(l);return{...l,...r,...qa(r)}});const a=Dn(We.backup,null);return a&&Array.isArray(a.sales)&&a.sales.length>0?a.sales.map(l=>{const r=kr(l);return{...l,...r,...qa(r)}}):Nv()},wb=()=>{const s=zi(Dn(We.catalog,[]));if(s.length>0)return s;const a=Dn(We.backup,null);return a&&Array.isArray(a.catalog)&&a.catalog.length>0?zi(a.catalog):[]},Eb=()=>{const s=Dn(We.stock,{});if(Object.keys(s).length>0)return s;const a=Dn(We.backup,null);return a&&a.stock&&typeof a.stock=="object"?a.stock:{}},Tb=()=>{const s=Dn(We.backup,null);return s&&typeof s.generated_at=="string"&&s.generated_at.length>0?s.generated_at:null},Ab=()=>Dn($p,null)==="light"?"light":"dark";function Ob(){const s=Lp,[a,l]=ue.useState("sales"),[r,c]=ue.useState(()=>Ab()),[h,d]=ue.useState(()=>wb()),[m,y]=ue.useState(()=>Sb()),[g,S]=ue.useState(()=>Eb()),[A,j]=ue.useState(()=>Tb()),[x,q]=ue.useState(()=>!s),[$,G]=ue.useState(()=>s?"Supabase: initialisation...":"Supabase: non configure (mode local)"),[V,K]=ue.useState(!0),[H,Z]=ue.useState(dp),[Te,he]=ue.useState(""),[W,He]=ue.useState(!1),[$e,Mn]=ue.useState("All"),[ee,ze]=ue.useState(()=>Cr()),[Ft,yt]=ue.useState(null),[vt,k]=ue.useState(!1),[Y,ne]=ue.useState("Sync catalogue en attente..."),[Ae,re]=ue.useState(""),[E,z]=ue.useState(""),Q=ue.useRef(null),X=ue.useMemo(()=>{const v=new Map;for(const U of h)v.set(U.ref,U);return v},[h]),oe=ue.useMemo(()=>[...h].sort((v,U)=>v.ref.localeCompare(U.ref)),[h]),de=ue.useMemo(()=>[...h].sort((v,U)=>(v.order??9999)-(U.order??9999)),[h]);ue.useEffect(()=>{let v=!1;return(async()=>{ne("Sync catalogue distant...");try{const L=await yv();if(v)return;if(L.length===0){ne("Catalogue distant vide. Catalogue local conserve.");return}d(zi(L)),ne(`Catalogue sync OK: ${L.length} references.`)}catch(L){v||ne(`Echec import distant: ${String(L.message)}`)}})(),()=>{v=!0}},[]),ue.useEffect(()=>{if(!s)return;let v=!1;return(async()=>{G("Supabase: lecture du backup cloud...");try{const L=Dn(We.backup,null),ae=await hp();if(v)return;if(ae){const Me=mp(ae.generated_at),P=mp(L?.generated_at);if(!L||Me>P){const Ye=ae.sales.map(Vi=>{const Ha=kr(Vi);return{...Vi,...Ha,...qa(Ha)}}),ut=zi(ae.catalog),ll=ae.stock&&typeof ae.stock=="object"?ae.stock:uc(ut,Ye);y(Ye),d(ut),S(ll),Nt(We.sales,Ye),Nt(We.catalog,ut),Nt(We.stock,ll),Nt(We.backup,ae),j(ae.generated_at),z("Donnees Supabase restaurees."),G(`Supabase: backup cloud charge (${Na(ae.generated_at)})`)}else{const Ye=await Rr(L);v||G(`Supabase: cloud aligne (${Na(Ye)})`)}}else if(L){const Me=await Rr(L);v||G(`Supabase: backup local publie (${Na(Me)})`)}else G("Supabase: aucun backup detecte.")}catch(L){v||G(`Supabase: erreur (${String(L.message)})`)}finally{v||q(!0)}})(),()=>{v=!0}},[s]),ue.useEffect(()=>{S(uc(h,m))},[h,m]),ue.useEffect(()=>{Nt(We.sales,m)},[m]),ue.useEffect(()=>{Nt(We.catalog,h)},[h]),ue.useEffect(()=>{Nt(We.stock,g)},[g]),ue.useEffect(()=>{Nt($p,r)},[r]),ue.useEffect(()=>{if(!E)return;const v=window.setTimeout(()=>z(""),4e3);return()=>window.clearTimeout(v)},[E]),ue.useEffect(()=>{if(!Ae)return;const v=window.setTimeout(()=>re(""),6e3);return()=>window.clearTimeout(v)},[Ae]),ue.useEffect(()=>{const v=_r(m,h,g);Nt(We.backup,v),j(v.generated_at)},[m,h,g]),ue.useEffect(()=>{if(!s||!x)return;const v=_r(m,h,g),U=window.setTimeout(()=>{(async()=>{try{const L=await Rr(v);G(`Supabase: sync auto OK (${Na(L)})`)}catch(L){G(`Supabase: sync auto KO (${String(L.message)})`)}})()},1200);return()=>{window.clearTimeout(U)}},[s,x,m,h,g]),ue.useEffect(()=>{const v=window.setInterval(()=>{if(vt)return;const U=new URL(window.location.href);U.searchParams.set(db,`${Date.now()}`),window.location.replace(U.toString())},fb);return()=>{window.clearInterval(v)}},[vt]);const ge=ue.useMemo(()=>Ft?m.find(v=>v.id===Ft)??null:null,[Ft,m]),Ue=ue.useMemo(()=>{const v=H.query.trim().toLowerCase();return m.filter(U=>{if(H.channel!=="All"&&U.channel!==H.channel||H.category!=="All"&&U.category!==H.category||H.date_from&&U.date<H.date_from||H.date_to&&U.date>H.date_to||v&&!U.client_or_tx.toLowerCase().includes(v)&&!U.product_ref.toLowerCase().includes(v))return!1;if(H.stock_status!=="all"){const L=g[U.product_ref];return L===void 0?!1:H.stock_status==="low"?L>0&&L<=Bs:L<=0}return!0})},[H,m,g]),_e=ue.useMemo(()=>{const v=Ue.reduce((P,me)=>P+me.transaction_value,0),U=Ue.reduce((P,me)=>P+me.net_margin,0),L=Ue.reduce((P,me)=>P+me.commission_eur,0),ae=Ue.reduce((P,me)=>P+me.payment_fee,0),Me=jr.map(P=>{const me=Ue.filter(Ye=>Ye.channel===P);return{channel:P,count:me.length,revenue:me.reduce((Ye,ut)=>Ye+ut.transaction_value,0),netMargin:me.reduce((Ye,ut)=>Ye+ut.net_margin,0),commissions:me.reduce((Ye,ut)=>Ye+ut.commission_eur,0)}});return{totalRevenue:Le(v),totalNetMargin:Le(U),avgNetMarginPct:v>0?Le(U/v*100):0,salesCount:Ue.length,totalCommissions:Le(L),totalPlatformFees:Le(ae),breakdown:Me}},[Ue]),qn=ue.useMemo(()=>{const v=new Map;for(const U of Ue){const L=`${U.date}::${U.client_or_tx}::${U.channel}`,ae=v.get(L);if(!ae){v.set(L,{date:U.date,client_or_tx:U.client_or_tx,customer_country:U.customer_country,channel:U.channel,refs:new Set([U.product_ref]),quantity:U.quantity,weighted_sell_unit_total:U.sell_price_unit_ht*U.quantity,sell_total_ht:U.sell_total_ht,transaction_value:U.transaction_value,commission_eur:U.commission_eur,payment_fee:U.payment_fee,net_received:U.net_received,net_margin:U.net_margin,attachments_count:U.attachments.length,first_sale:U});continue}ae.refs.add(U.product_ref),ae.quantity+=U.quantity,ae.weighted_sell_unit_total+=U.sell_price_unit_ht*U.quantity,ae.sell_total_ht+=U.sell_total_ht,ae.transaction_value+=U.transaction_value,ae.commission_eur+=U.commission_eur,ae.payment_fee+=U.payment_fee,ae.net_received+=U.net_received,ae.net_margin+=U.net_margin,ae.attachments_count+=U.attachments.length}return Array.from(v.entries()).map(([U,L])=>{const ae=Array.from(L.refs),Me=ae.length,P=Me===1?ae[0]:`${Me} references`,me=L.quantity>0?Le(L.weighted_sell_unit_total/L.quantity):0,Ye=L.transaction_value>0?Le(L.net_margin/L.transaction_value*100):0;return{key:U,date:L.date,client_or_tx:L.client_or_tx,customer_country:L.customer_country,channel:L.channel,refs_count:Me,product_display:P,quantity:L.quantity,sell_price_unit_ht:me,sell_total_ht:Le(L.sell_total_ht),commission_eur:Le(L.commission_eur),payment_fee:Le(L.payment_fee),net_received:Le(L.net_received),net_margin:Le(L.net_margin),net_margin_pct:Ye,attachments_count:L.attachments_count,first_sale:L.first_sale}}).sort((U,L)=>U.date!==L.date?L.date.localeCompare(U.date):U.client_or_tx.localeCompare(L.client_or_tx))},[Ue]),ha=ue.useMemo(()=>{const v=new Map;for(const U of Ue){const L=v.get(U.product_ref)??{revenue:0,qty:0};v.set(U.product_ref,{revenue:L.revenue+U.transaction_value,qty:L.qty+U.quantity})}return Array.from(v.entries()).map(([U,L])=>({product:U,...L})).sort((U,L)=>L.revenue-U.revenue).slice(0,5)},[Ue]),dn=ue.useMemo(()=>{const v=Te.trim().toLowerCase();return de.map(U=>{const L=g[U.ref]??U.initial_stock,ae=L<=0?"RUPTURE":L<=Bs?"FAIBLE":"OK";return{...U,currentStock:L,status:ae}}).filter(U=>$e!=="All"&&U.category!==$e||W&&U.currentStock>Bs?!1:v?U.ref.toLowerCase().includes(v)||U.category.toLowerCase().includes(v):!0)},[de,g,Te,W,$e]),Hi=ue.useMemo(()=>dn.filter(v=>v.currentStock<=Bs).slice(0,6),[dn]),kt=ue.useMemo(()=>X.get(ee.product_ref.trim())??null,[X,ee.product_ref]),rn=ue.useMemo(()=>ua(ee.customer_country),[ee.customer_country]),_t=ue.useMemo(()=>qa(ee),[ee]),Tt=(v,U)=>{ze(L=>({...L,[v]:U}))},el=v=>{const U=v.trim(),L=X.get(U);ze(ae=>{const Me={...ae,product_ref:v};return L&&(Me.buy_price_unit=L.buy_price_unit,Me.category=L.category),Me})},$i=()=>{yt(null),ze(Cr()),re(""),z(""),k(!0)},Gi=v=>{yt(v.id),ze(gb(v)),re(""),z(""),k(!0)},Ba=v=>{yt(null),ze(yb(v)),re(""),z(""),k(!0)},Br=v=>{K(!1),Z(U=>({...U,query:v.client_or_tx,channel:v.channel,date_from:v.date,date_to:v.date})),re(""),z(`Affichage detail pour ${v.client_or_tx}.`)},tl=()=>{k(!1),yt(null),ze(Cr())},bt=()=>{l("sales"),K(!0),Z(dp),re(""),z("")},Lr=v=>{if(!v.date)return"Date obligatoire.";if(!v.client_or_tx.trim())return"Client/TX obligatoire.";if(!v.product_ref.trim())return"Produit obligatoire.";if(!v.customer_country.trim())return"Pays client obligatoire.";if(v.quantity<=0)return"Quantite > 0 requise.";if(ua(v.customer_country)){if(v.sell_price_unit_ttc===null||v.sell_price_unit_ttc<0)return"Prix vente unit. TTC obligatoire pour client France.";if(v.shipping_charged_ttc===null||v.shipping_charged_ttc<0)return"Prix frais de port TTC obligatoire pour client France.";if(v.shipping_real_ttc===null||v.shipping_real_ttc<0)return"Cout frais de port TTC obligatoire pour client France."}if(qs(v.channel,v.category)&&(v.power_wp===null||v.power_wp<=0))return"power_wp est obligatoire pour Solartraders + Solar Panels.";const U=X.get(v.product_ref.trim());if(U){let L=g[U.ref]??0;if(ge&&ge.product_ref===U.ref&&(L+=ge.quantity),v.quantity>L)return`Stock insuffisant pour ${U.ref} (disponible: ${L}).`}return null},nl=v=>{v.preventDefault(),re(""),z("");const U={...ee,client_or_tx:ee.client_or_tx.trim(),product_ref:ee.product_ref.trim(),customer_country:ee.customer_country,quantity:Math.max(0,Number(ee.quantity)),sell_price_unit_ht:Number(ee.sell_price_unit_ht),sell_price_unit_ttc:ua(ee.customer_country)?kn(ee.sell_price_unit_ttc):null,shipping_charged:Number(ee.shipping_charged),shipping_charged_ttc:ua(ee.customer_country)?kn(ee.shipping_charged_ttc):null,shipping_real:Number(ee.shipping_real),shipping_real_ttc:ua(ee.customer_country)?kn(ee.shipping_real_ttc):null,buy_price_unit:Number(ee.buy_price_unit),power_wp:qs(ee.channel,ee.category)?Number(ee.power_wp):null},L=Lr(U);if(L){re(L);return}if(ge){const ae=yc(ge.id,U,ge.created_at);y(Me=>Me.map(P=>P.id===ge.id?ae:P)),z("Vente modifiee.")}else{const ae=yc(pb(),U);y(Me=>[ae,...Me]),z("Vente ajoutee.")}k(!1),yt(null),ze(Cr())},al=v=>{const U=m.find(L=>L.id===v);U&&window.confirm(`Supprimer la vente ${U.client_or_tx} ?`)&&y(L=>L.filter(ae=>ae.id!==v))},La=async v=>{if(!(!v||v.length===0))try{const U=await Promise.all(Array.from(v).map(L=>vb(L)));ze(L=>({...L,attachments:[...L.attachments,...U]}))}catch{re("Impossible de joindre au moins un fichier.")}},Hr=v=>{ze(U=>({...U,attachments:U.attachments.filter(L=>L.id!==v)}))},il=()=>{const v=jv(m);Hm(`sales-margin-tracker-${Vs(new Date)}.csv`,v)},sl=()=>{const v=Cv(de,g);Hm(`catalog-stock-${Vs(new Date)}.csv`,v)},$r=()=>{const v=_r(m,h,g);Nt(We.backup,v),xv(`sales-margin-backup-${Vs(new Date)}.json`,v)},fa=async()=>{if(!s){re("Supabase non configure. Ajoute les variables VITE_SUPABASE_*.");return}try{const v=_r(m,h,g),U=await Rr(v);G(`Supabase: sync manuelle OK (${Na(U)})`),z("Cloud Supabase synchronise."),re("")}catch(v){re(`Sync cloud impossible: ${String(v.message)}`)}},St=async()=>{if(!s){re("Supabase non configure. Ajoute les variables VITE_SUPABASE_*.");return}try{const v=await hp();if(!v){re("Aucun backup cloud trouve.");return}const U=v.sales.map(Me=>{const P=kr(Me);return{...Me,...P,...qa(P)}}),L=zi(v.catalog),ae=v.stock&&typeof v.stock=="object"?v.stock:uc(L,U);y(U),d(L),S(ae),Nt(We.sales,U),Nt(We.catalog,L),Nt(We.stock,ae),Nt(We.backup,v),j(v.generated_at),G(`Supabase: backup cloud restaure (${Na(v.generated_at)})`),z("Backup cloud restaure."),re("")}catch(v){re(`Restauration cloud impossible: ${String(v.message)}`)}},un=async v=>{if(!v||v.length===0)return;const U=v[0];try{const L=await U.text(),ae=JSON.parse(L);if(!Array.isArray(ae.sales)){re("Backup invalide: champ sales manquant.");return}const Me=ae.sales.map((P,me)=>{const Ye=`import-${me+1}-${Date.now()}`,ut={date:typeof P.date=="string"?P.date:Vs(new Date),client_or_tx:typeof P.client_or_tx=="string"?P.client_or_tx:`Imported-${me+1}`,channel:jr.includes(P.channel)?P.channel:"Other",customer_country:typeof P.customer_country=="string"&&P.customer_country.length>0?P.customer_country:Bi,product_ref:typeof P.product_ref=="string"?P.product_ref:"",quantity:Number(P.quantity??0),sell_price_unit_ht:Number(P.sell_price_unit_ht??0),sell_price_unit_ttc:kn(P.sell_price_unit_ttc),shipping_charged:Number(P.shipping_charged??0),shipping_charged_ttc:kn(P.shipping_charged_ttc),shipping_real:Number(P.shipping_real??0),shipping_real_ttc:kn(P.shipping_real_ttc),payment_method:fp.includes(P.payment_method)?P.payment_method:"Wire",category:Hs.includes(P.category)?P.category:"Accessories",buy_price_unit:Number(P.buy_price_unit??0),power_wp:P.power_wp===null||P.power_wp===void 0?null:Number(P.power_wp),attachments:Array.isArray(P.attachments)?P.attachments:[]};return yc(typeof P.id=="string"?P.id:Ye,ut,P.created_at)});if(y(Me),Array.isArray(ae.catalog)&&ae.catalog.length>0){const P=ae.catalog.filter(me=>typeof me.ref=="string"&&typeof me.buy_price_unit=="number"&&typeof me.initial_stock=="number"&&Hs.includes(me.category)).map((me,Ye)=>({ref:me.ref,buy_price_unit:me.buy_price_unit,category:me.category,initial_stock:me.initial_stock,order:typeof me.order=="number"?me.order:Ye+1,datasheet_url:typeof me.datasheet_url=="string"||me.datasheet_url===null?me.datasheet_url:null,source:"remote"}));P.length>0&&d(zi(P))}z("Backup JSON importe avec succes."),re("")}catch{re("Import JSON impossible. Verifie le format du fichier.")}},wt=dn.filter(v=>v.currentStock<=Bs).length;return _.jsxs("div",{className:`sm-app theme-${r}`,children:[_.jsxs("header",{className:"sm-topbar",children:[_.jsxs("div",{className:"sm-brand",children:[_.jsx("div",{className:"sm-logo",children:"SM"}),_.jsxs("div",{children:[_.jsx("p",{className:"sm-title",children:"Huawei Sales Manager"}),_.jsx("p",{className:"sm-subtitle",children:Y}),_.jsx("p",{className:"sm-subtitle",children:A?`Sauvegarde auto locale: ${Na(A)} (PJ incluses)`:"Sauvegarde auto locale en attente..."}),_.jsx("p",{className:"sm-subtitle",children:$})]})]}),_.jsxs("div",{className:"sm-top-actions",children:[_.jsx("button",{type:"button",className:"sm-icon-btn",onClick:()=>c(v=>v==="dark"?"light":"dark"),title:"Toggle theme",children:r==="dark"?"":""}),_.jsxs("nav",{className:"sm-tabs",children:[_.jsx("button",{type:"button",className:"sm-tab",onClick:bt,children:"Home"}),_.jsx("button",{type:"button",className:`sm-tab ${a==="sales"?"active":""}`,onClick:()=>l("sales"),children:"Ventes"}),_.jsx("button",{type:"button",className:`sm-tab ${a==="dashboard"?"active":""}`,onClick:()=>l("dashboard"),children:"Dashboard"}),_.jsx("button",{type:"button",className:`sm-tab ${a==="stock"?"active":""}`,onClick:()=>l("stock"),children:"Stock"})]})]})]}),E&&_.jsx("p",{className:"sm-feedback success",children:E}),Ae&&_.jsx("p",{className:"sm-feedback error",children:Ae}),a==="sales"&&_.jsxs("section",{className:"sm-panel",children:[_.jsxs("div",{className:"sm-toolbar",children:[_.jsx("button",{type:"button",className:"sm-primary-btn",onClick:$i,children:"+ Nouvelle vente"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:il,children:"CSV ventes"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:sl,children:"CSV stock"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:$r,children:"Backup JSON"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:()=>{fa()},children:"Sync Cloud"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:()=>{St()},children:"Restaurer Cloud"}),_.jsx("button",{type:"button",className:"sm-btn",onClick:()=>Q.current?.click(),children:"Importer JSON"}),_.jsx("input",{ref:Q,type:"file",accept:"application/json",className:"sm-hidden",onChange:v=>{un(v.target.files),v.currentTarget.value=""}})]}),_.jsxs("div",{className:"sm-filters",children:[_.jsxs("select",{value:H.channel,onChange:v=>Z(U=>({...U,channel:v.target.value})),children:[_.jsx("option",{value:"All",children:"Tous canaux"}),jr.map(v=>_.jsx("option",{value:v,children:v},v))]}),_.jsxs("select",{value:H.category,onChange:v=>Z(U=>({...U,category:v.target.value})),children:[_.jsx("option",{value:"All",children:"Toutes categories"}),Hs.map(v=>_.jsx("option",{value:v,children:v},v))]}),_.jsx("input",{type:"text",value:H.query,onChange:v=>Z(U=>({...U,query:v.target.value})),placeholder:"Client / TX / produit"}),_.jsx("input",{type:"date",value:H.date_from,onChange:v=>Z(U=>({...U,date_from:v.target.value}))}),_.jsx("input",{type:"date",value:H.date_to,onChange:v=>Z(U=>({...U,date_to:v.target.value}))}),_.jsxs("select",{value:H.stock_status,onChange:v=>Z(U=>({...U,stock_status:v.target.value})),children:[_.jsx("option",{value:"all",children:"Tout stock"}),_.jsx("option",{value:"low",children:"Stock faible"}),_.jsx("option",{value:"out",children:"Rupture"})]}),_.jsxs("label",{className:"sm-checkbox",children:[_.jsx("input",{type:"checkbox",checked:V,onChange:v=>K(v.target.checked)}),"Vue commande"]})]}),_.jsxs("div",{className:"sm-alert-line",children:[" ",wt," alerte(s) stock"]}),_.jsx("div",{className:"sm-table-wrap",children:_.jsxs("table",{className:"sm-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Date"}),_.jsx("th",{children:"Client/TX"}),_.jsx("th",{children:"Canal"}),_.jsx("th",{children:"Produit"}),_.jsx("th",{children:"Qte"}),_.jsx("th",{children:"PV unit HT"}),_.jsx("th",{children:"Total HT"}),_.jsx("th",{children:"Commission / frais plateforme"}),_.jsx("th",{children:"Net recu"}),_.jsx("th",{children:"Marge nette"}),_.jsx("th",{children:"Marge %"}),_.jsx("th",{children:"PJ"}),_.jsx("th",{children:"Actions"})]})}),_.jsx("tbody",{children:V?qn.map(v=>_.jsxs("tr",{children:[_.jsx("td",{children:v.date}),_.jsxs("td",{children:[v.customer_country?`${_c(v.customer_country)} `:"",v.client_or_tx]}),_.jsx("td",{children:_.jsx("span",{className:"sm-chip",children:v.channel})}),_.jsx("td",{children:v.product_display}),_.jsx("td",{children:v.quantity}),_.jsx("td",{children:Ee(v.sell_price_unit_ht)}),_.jsx("td",{children:Ee(v.sell_total_ht)}),_.jsxs("td",{children:[Ee(v.commission_eur)," / ",Ee(v.payment_fee)]}),_.jsx("td",{children:Ee(v.net_received)}),_.jsx("td",{className:v.net_margin>=0?"ok":"ko",children:Ee(v.net_margin)}),_.jsx("td",{className:v.net_margin_pct>=0?"ok":"ko",children:$s(v.net_margin_pct)}),_.jsx("td",{children:v.attachments_count}),_.jsxs("td",{className:"sm-row-actions",children:[_.jsx("button",{type:"button",onClick:()=>Ba(v.first_sale),title:"Ajouter une reference sur cette commande",children:"+Ref"}),_.jsx("button",{type:"button",onClick:()=>Br(v),title:"Afficher les lignes de la commande",children:"Lignes"})]})]},v.key)):Ue.map(v=>_.jsxs("tr",{children:[_.jsx("td",{children:v.date}),_.jsxs("td",{children:[v.customer_country?`${_c(v.customer_country)} `:"",v.client_or_tx]}),_.jsx("td",{children:_.jsx("span",{className:"sm-chip",children:v.channel})}),_.jsx("td",{children:v.product_ref}),_.jsx("td",{children:v.quantity}),_.jsx("td",{children:Ee(v.sell_price_unit_ht)}),_.jsx("td",{children:Ee(v.sell_total_ht)}),_.jsxs("td",{children:[Ee(v.commission_eur)," / ",Ee(v.payment_fee),_.jsxs("small",{children:[" (",v.commission_rate_display,")"]})]}),_.jsx("td",{children:Ee(v.net_received)}),_.jsx("td",{className:v.net_margin>=0?"ok":"ko",children:Ee(v.net_margin)}),_.jsx("td",{className:v.net_margin_pct>=0?"ok":"ko",children:$s(v.net_margin_pct)}),_.jsx("td",{children:v.attachments.length}),_.jsxs("td",{className:"sm-row-actions",children:[_.jsx("button",{type:"button",onClick:()=>Ba(v),title:"Ajouter une reference pour ce client",children:"+Ref"}),_.jsx("button",{type:"button",onClick:()=>Gi(v),children:"Edit"}),_.jsx("button",{type:"button",onClick:()=>al(v.id),children:"Del"})]})]},v.id))})]})}),_.jsxs("div",{className:"sm-kpi-strip",children:[_.jsxs("div",{children:[_.jsx("p",{children:"Ventes affichees"}),_.jsx("strong",{children:V?qn.length:_e.salesCount})]}),_.jsxs("div",{children:[_.jsx("p",{children:"CA total"}),_.jsx("strong",{children:Ee(_e.totalRevenue)})]}),_.jsxs("div",{children:[_.jsx("p",{children:"Marge nette"}),_.jsxs("strong",{className:"ok",children:[Ee(_e.totalNetMargin)," (",$s(_e.avgNetMarginPct),")"]})]}),_.jsxs("div",{children:[_.jsx("p",{children:"Commissions / frais plateforme"}),_.jsxs("strong",{className:"warn",children:[Ee(_e.totalCommissions)," / ",Ee(_e.totalPlatformFees)]})]})]})]}),a==="dashboard"&&_.jsxs("section",{className:"sm-panel",children:[_.jsx("h2",{className:"sm-section-title",children:"Dashboard KPI"}),_.jsxs("div",{className:"sm-kpi-grid",children:[_.jsxs("article",{className:"sm-kpi-card blue",children:[_.jsx("p",{children:"Chiffre d affaires"}),_.jsx("strong",{children:Ee(_e.totalRevenue)})]}),_.jsxs("article",{className:"sm-kpi-card green",children:[_.jsx("p",{children:"Marge nette totale"}),_.jsx("strong",{children:Ee(_e.totalNetMargin)})]}),_.jsxs("article",{className:"sm-kpi-card yellow",children:[_.jsx("p",{children:"Commissions totales"}),_.jsx("strong",{children:Ee(_e.totalCommissions)})]}),_.jsxs("article",{className:"sm-kpi-card purple",children:[_.jsx("p",{children:"Taux marge moyen"}),_.jsx("strong",{children:$s(_e.avgNetMarginPct)})]}),_.jsxs("article",{className:"sm-kpi-card",children:[_.jsx("p",{children:"Nombre de ventes"}),_.jsx("strong",{children:_e.salesCount})]})]}),_.jsx("div",{className:"sm-table-wrap",children:_.jsxs("table",{className:"sm-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Canal"}),_.jsx("th",{children:"Ventes"}),_.jsx("th",{children:"CA"}),_.jsx("th",{children:"Commissions"}),_.jsx("th",{children:"Marge nette"})]})}),_.jsx("tbody",{children:_e.breakdown.map(v=>_.jsxs("tr",{children:[_.jsx("td",{children:v.channel}),_.jsx("td",{children:v.count}),_.jsx("td",{children:Ee(v.revenue)}),_.jsx("td",{children:Ee(v.commissions)}),_.jsx("td",{className:v.netMargin>=0?"ok":"ko",children:Ee(v.netMargin)})]},v.channel))})]})}),_.jsxs("div",{className:"sm-dashboard-two-col",children:[_.jsxs("article",{className:"sm-card",children:[_.jsx("h3",{children:"Top 5 produits (par CA)"}),ha.length===0?_.jsx("p",{children:"Aucun produit."}):_.jsx("ul",{className:"sm-list",children:ha.map(v=>_.jsxs("li",{children:[_.jsx("span",{children:v.product}),_.jsx("strong",{children:Ee(v.revenue)})]},v.product))})]}),_.jsxs("article",{className:"sm-card",children:[_.jsx("h3",{children:"Alertes stock"}),Hi.length===0?_.jsx("p",{children:"Aucune alerte stock."}):_.jsx("ul",{className:"sm-list",children:Hi.map(v=>_.jsxs("li",{children:[_.jsx("span",{children:v.ref}),_.jsxs("strong",{className:v.currentStock<=0?"ko":"warn",children:[v.currentStock," restant(s)"]})]},v.ref))})]})]}),_.jsxs("article",{className:"sm-card",children:[_.jsx("h3",{children:"Marge nette par canal"}),_.jsx("div",{className:"sm-bars",children:(()=>{const v=Math.max(..._e.breakdown.map(U=>Math.abs(U.netMargin)),1);return _e.breakdown.map(U=>{const L=Math.max(8,Math.abs(U.netMargin)/v*160);return _.jsxs("div",{className:"sm-bar-col",children:[_.jsx("div",{className:`sm-bar ${U.netMargin>=0?"pos":"neg"}`,style:{height:`${L}px`},title:`${U.channel} ${Ee(U.netMargin)}`}),_.jsx("span",{children:U.channel}),_.jsx("small",{children:Ee(U.netMargin)})]},U.channel)})})()})]})]}),a==="stock"&&_.jsxs("section",{className:"sm-panel",children:[_.jsxs("div",{className:"sm-stock-head",children:[_.jsxs("h2",{className:"sm-section-title",children:["Catalogue & Stock (",dn.length,")"]}),_.jsxs("div",{className:"sm-stock-controls",children:[_.jsx("input",{type:"text",value:Te,onChange:v=>he(v.target.value),placeholder:"Recherche reference ou categorie"}),_.jsxs("select",{value:$e,onChange:v=>Mn(v.target.value),children:[_.jsx("option",{value:"All",children:"Toutes categories"}),Hs.map(v=>_.jsx("option",{value:v,children:v},v))]}),_.jsxs("label",{className:"sm-checkbox",children:[_.jsx("input",{type:"checkbox",checked:W,onChange:v=>He(v.target.checked)}),"Stock faible seulement"]}),_.jsx("button",{type:"button",className:"sm-btn",onClick:sl,children:"Export CSV stock"})]})]}),_.jsx("div",{className:"sm-table-wrap",children:_.jsxs("table",{className:"sm-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"#"}),_.jsx("th",{children:"Reference"}),_.jsx("th",{children:"Categorie"}),_.jsx("th",{children:"PA (EUR)"}),_.jsx("th",{children:"Stock"}),_.jsx("th",{children:"Statut"}),_.jsx("th",{children:"Datasheet"})]})}),_.jsx("tbody",{children:dn.map((v,U)=>_.jsxs("tr",{children:[_.jsx("td",{children:v.order??U+1}),_.jsx("td",{children:v.ref}),_.jsx("td",{children:_.jsx("span",{className:"sm-chip",children:v.category})}),_.jsx("td",{children:Ee(v.buy_price_unit)}),_.jsx("td",{children:v.currentStock}),_.jsx("td",{children:_.jsx("span",{className:`sm-status ${v.status==="OK"?"ok":v.status==="FAIBLE"?"warn":"ko"}`,children:v.status})}),_.jsx("td",{children:v.datasheet_url?_.jsx("a",{className:"sm-link-btn",href:v.datasheet_url,target:"_blank",rel:"noopener noreferrer",children:"PDF"}):_.jsx("span",{className:"sm-muted",children:"N/A"})})]},v.ref))})]})}),_.jsxs("p",{className:"sm-footnote",children:["Source catalogue: ",_.jsx("a",{href:bc,children:bc})]})]}),vt&&_.jsx("div",{className:"sm-modal-overlay",role:"dialog","aria-modal":"true",children:_.jsxs("form",{className:"sm-modal",onSubmit:nl,children:[_.jsxs("div",{className:"sm-modal-head",children:[_.jsx("h3",{children:ge?"Modifier vente":"Nouvelle vente"}),_.jsx("button",{type:"button",className:"sm-close",onClick:tl,children:""})]}),_.jsxs("div",{className:"sm-form-grid",children:[_.jsxs("label",{children:["Date",_.jsx("input",{type:"date",value:ee.date,onChange:v=>Tt("date",v.target.value),required:!0})]}),_.jsxs("label",{children:["Client / TX",_.jsx("input",{type:"text",value:ee.client_or_tx,onChange:v=>Tt("client_or_tx",v.target.value),required:!0})]}),_.jsxs("label",{children:["Pays client",_.jsxs("select",{value:ee.customer_country,onChange:v=>{const U=v.target.value;ze(L=>({...L,customer_country:U,sell_price_unit_ttc:ua(U)?L.sell_price_unit_ttc:null,shipping_charged_ttc:ua(U)?L.shipping_charged_ttc:null,shipping_real_ttc:ua(U)?L.shipping_real_ttc:null}))},required:!0,children:[_.jsx("option",{value:Bi,disabled:!0,children:"Selectionner un pays"}),cb.map(v=>_.jsxs("option",{value:v,children:[_c(v)," ",v]},v))]})]}),_.jsxs("label",{children:["Canal",_.jsx("select",{value:ee.channel,onChange:v=>{const U=v.target.value;ze(L=>({...L,channel:U,power_wp:qs(U,L.category)?L.power_wp:null}))},children:jr.map(v=>_.jsx("option",{value:v,children:v},v))})]}),_.jsxs("label",{children:["Paiement",_.jsx("select",{value:ee.payment_method,onChange:v=>Tt("payment_method",v.target.value),children:fp.map(v=>_.jsx("option",{value:v,children:v},v))})]}),_.jsxs("label",{className:"full",children:["Produit",_.jsx("input",{type:"text",value:ee.product_ref,onChange:v=>el(v.target.value),list:"catalog-products",placeholder:"Rechercher un produit",required:!0}),_.jsx("datalist",{id:"catalog-products",children:oe.map(v=>_.jsx("option",{value:v.ref},v.ref))}),kt&&_.jsxs("small",{children:["Auto: ",kt.category," | PA ",Ee(kt.buy_price_unit)," | Stock ",g[kt.ref]??kt.initial_stock]})]}),_.jsxs("label",{children:["Categorie",_.jsx("select",{value:ee.category,onChange:v=>{const U=v.target.value;ze(L=>({...L,category:U,power_wp:qs(L.channel,U)?L.power_wp:null}))},children:Hs.map(v=>_.jsx("option",{value:v,children:v},v))})]}),_.jsxs("label",{children:["Quantite",_.jsx("input",{type:"number",min:"1",value:ee.quantity,onChange:v=>Tt("quantity",Math.max(0,Ui(v.target.value))),required:!0})]}),_.jsxs("label",{children:["Prix achat unit. (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.buy_price_unit,onChange:v=>Tt("buy_price_unit",Ui(v.target.value)),required:!0})]}),_.jsxs("label",{children:["Prix vente unit. HT (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.sell_price_unit_ht,onChange:v=>Tt("sell_price_unit_ht",Ui(v.target.value)),required:!0})]}),_.jsxs("label",{children:["Prix vente unit. TTC (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.sell_price_unit_ttc??"",onChange:v=>Tt("sell_price_unit_ttc",vc(v.target.value)),disabled:!rn,required:rn})]}),_.jsxs("label",{children:["Prix frais de port HT (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.shipping_charged,onChange:v=>Tt("shipping_charged",Ui(v.target.value)),required:!0})]}),_.jsxs("label",{children:["Prix frais de port TTC (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.shipping_charged_ttc??"",onChange:v=>Tt("shipping_charged_ttc",vc(v.target.value)),disabled:!rn,required:rn})]}),_.jsxs("label",{children:["Cout frais de port HT (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.shipping_real,onChange:v=>Tt("shipping_real",Ui(v.target.value)),required:!0})]}),_.jsxs("label",{children:["Cout frais de port TTC (EUR)",_.jsx("input",{type:"number",min:"0",step:"0.01",value:ee.shipping_real_ttc??"",onChange:v=>Tt("shipping_real_ttc",vc(v.target.value)),disabled:!rn,required:rn})]}),qs(ee.channel,ee.category)&&_.jsxs("label",{children:["power_wp (obligatoire)",_.jsx("input",{type:"number",min:"1",step:"1",value:ee.power_wp??"",onChange:v=>Tt("power_wp",Ui(v.target.value)),required:!0})]})]}),_.jsxs("div",{className:"sm-metric-grid",children:[_.jsxs("p",{children:[_.jsx("span",{children:"Total HT"}),_.jsx("strong",{children:Ee(_t.sell_total_ht)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Valeur TX"}),_.jsx("strong",{children:Ee(_t.transaction_value)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Commission"}),_.jsxs("strong",{children:[Ee(_t.commission_eur)," (",_t.commission_rate_display,")"]})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Frais paiement"}),_.jsx("strong",{children:Ee(_t.payment_fee)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Net recu"}),_.jsx("strong",{children:Ee(_t.net_received)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Cout total"}),_.jsx("strong",{children:Ee(_t.total_cost)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Marge brute"}),_.jsx("strong",{children:Ee(_t.gross_margin)})]}),_.jsxs("p",{children:[_.jsx("span",{children:"Marge nette"}),_.jsxs("strong",{className:_t.net_margin>=0?"ok":"ko",children:[Ee(_t.net_margin)," (",$s(_t.net_margin_pct),")"]})]})]}),_.jsxs("div",{className:"sm-attachments",children:[_.jsxs("div",{className:"sm-attach-head",children:[_.jsx("span",{children:"Pieces jointes"}),_.jsx("input",{type:"file",multiple:!0,onChange:v=>{La(v.target.files),v.currentTarget.value=""}})]}),ee.attachments.length===0?_.jsx("p",{className:"sm-muted",children:"Aucune PJ."}):ee.attachments.map(v=>_.jsxs("div",{className:"sm-attach-row",children:[_.jsxs("span",{children:[v.name," (",Math.round(v.size/1024)," KB)"]}),_.jsxs("div",{children:[_.jsx("button",{type:"button",onClick:()=>_b(v),children:"Download"}),_.jsx("button",{type:"button",onClick:()=>Hr(v.id),children:"Supprimer"})]})]},v.id))]}),_.jsxs("div",{className:"sm-modal-actions",children:[_.jsx("button",{type:"button",className:"sm-btn",onClick:tl,children:"Annuler"}),_.jsx("button",{type:"submit",className:"sm-primary-btn",children:ge?"Enregistrer":"Ajouter"})]})]})})]})}function Rb(){return _.jsx(Ob,{})}ov.createRoot(document.getElementById("root")).render(_.jsx(Rb,{}));
